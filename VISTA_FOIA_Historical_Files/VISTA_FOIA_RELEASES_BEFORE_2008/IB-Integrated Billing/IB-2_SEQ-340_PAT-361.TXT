$TXT Created by HOLLOWAY,THOMAS J at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 06/27/07 at 16:52
=============================================================================
Run Date: SEP 05, 2007                     Designation: IB*2*361
Package : IB - INTEGRATED BILLING             Priority: Mandatory
Version : 2       SEQ #340                      Status: Released
                  Compliance Date: OCT 06, 2007
=============================================================================

Associated patches: (v)IB*2*52     <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*103    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*133    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*231    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*240    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*251    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*271    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*286    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*296    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*300    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*317    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*327    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*345    <<= must be installed BEFORE `IB*2*361'
                    (v)IB*2*356    <<= must be installed BEFORE `IB*2*361'

Subject: ADDING AN INSURED'S SEX FIELD TO INSURANCE POLICY INFORMATION

Category: 
  - Routine
  - Data Dictionary

Description:
============

 This Integrated Billing Maintenance patch provides a new field for storing
 the sex of the insurance policy holder. This value is required by some
 insurance payers in order to authorize the bill.
  
 ASSOCIATED NSR(s):
 ==================
 N/A
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
  1) HD88206 - Unable to update policy holder's sex code
      HD105529 - ERROR 8888   SUBSCRIBER GENDER MISSING
      HD107116 - Other's Insurance (Natural Child) erring (No Sex Defined)
      HD109935 - Other's Insurance (Natural Child) erring (No Sex Defined)
      HD152624 - 8888 SUBSCRIBER GENDER MISSING
      HD152625 - 8888 SUBSCRIBER GENDER MISSING
      HD164098 - Syntax error - Sta 678
      HD174400 - Insurance electronic download
  2) HD136690 - API is not returning the correct output
  
 PARTICIPATING TEST SITES:
 =========================
 BUTLER, PA                                                          
 MEMPHIS, TN                                                       
 NORTHERN CALIFORNIA HCS                                             
 SAN FRANCISCO, CA  
  
 REMEDY OVERVIEW:
 ================
 1) HD88206 - Unable to update policy holder's sex code 
  
   Problem: 
   --------
   Some insurance companies are requiring that the policy holder's sex be
   included in the billing transmission.  VistA was not designed to capture
   this information if the policy holder was someone other than the 
   patient/veteran.  In the past, if the policy holder was the patient's 
   spouse, VistA would assume that the holder's sex was the opposite of the
   patient's.  That worked satisfactorily but was only valid for those
   policies held by a spouse.  If the policy holder had some other
   relationship to the patient, there was no way of guessing the sex so the
   value U for Unspecified was sent.  This is no longer being accepted so
   VistA must begin collecting and storing this value.
  
   Resolution: 
   -----------
   Two new fields are being added to VistA to handle this situation.
   One field in the INSURANCE TYPE sub-file of the PATIENT (#2) file and a
   corresponding field in the INSURANCE BUFFER (#355.33) file. The new 
   field will be named INSURED'S SEX and will be a SET of values: M for
   Male and F for Female.  The field will be made available for entry and
   edit on all Registration and Integrated Billing screens where insurance
   policy holder information is presented for editing.
  
 2) HD136690 - API is not returning the correct output 
  
   Problem: 
   --------
   The programming function $$INSUR^IBBAPI is not returning the correct 
   output. This API should tell whether or not an outpatient visit is
   billable, but it is not agreeing with an older API, ($$PTCOV^IBCNSU3)
   that is returning the correct information.
  
   Resolution: 
   -----------
   The problem has been traced to the routine IBBFAPI.  A code change has
   been made in that routine to correct the error.
  
 Components Sent With Patch
 ==========================
 The following is a list of fields included in this patch:
  
 Field Name (Number)    Sub-File Name (Number)    File Name  (Number)
 ---------------------  -----------------------   -------------------
 INSURED'S SEX (#3.12)  INSURANCE TYPE (#.3121)   PATIENT  (#2)
 INSURED'S SEX(#60.13)                            INSURANCE BUFFER(#355.33)
  
  Technical Documentation:
  ------------------------
  The specific code changes to each routine are documented in the INTERNAL
  COMMENTS field for this patch in the National Patch Module on FORUM.
  
 INSTALLATION INSTRUCTIONS:
 ==========================
    
  This patch affects routines and functionality in several critical options
  within REGISTRATION and INTEGRATED BILLING.  The patch should not be
  installed during regular business hours nor while the nightly billing job
  [IB MT NIGHT COMP] is running.  The following options should be inhibited
  prior to installing the patch to ensure that no one is using them at the
  time of installation:
   DG LOAD PATIENT DATA             Load/Edit Patient Data
   DG REGISTER PATIENT              Register a Patient
   IB EDIT BILLING INFO             Enter/Edit Billing Information
   IBCN PATIENT INSURANCE           Patient Insurance Info View/Edit
   IBCN INSURANCE BUFFER PROCESS    Process Insurance Buffer
   IBCE OUTPUT FORMATTER            Forms Output Utility
   IBCE VIEW PENDING BILL           View Bills Pending Transmission
   
  Install Time - There is a data update that takes place with this patch.
  Our experience is that it will take approximately 1 minute per 24,000
  patients in your system to complete the update.  To give an approximation,
  a small test site took 3 minutes and a large test site took 13 minutes.
  You do not need to monitor the installation during this time nor will it
  affect any users other than possibly adding some slight response time
  delays due to intense activity in the PATIENT [#2] file.
    
    
  1.  LOAD TRANSPORT GLOBAL 
      ---------------------
      Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.  
    
  2.  START UP KIDS 
      -------------
      Start up the Kernel Installation and Distribution System Menu 
      [XPD MAIN]: 
     
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
     
  Select Kernel Installation & Distribution System Option: INStallation 
                                                           ---
           Load a Distribution 
           Print Transport Global 
           Compare Transport Global to Current System 
           Verify Checksums in Transport Global 
           Install Package(s) 
           Restart Install of Package(s) 
           Unload a Distribution 
           Backup a Transport Global 
     
  Select Installation Option: 
     
  3.  Select Installation Option: 
      ---------------------------
      NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
             NAME, enter IB*2.0*361):
        
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
       
  4.  Select Installation Option: Install Package(s) 
                                  ------------------
      **This is the step to start the installation of this KIDS patch: 
     
      a.  Choose the Install Package(s) option to start the patch
          install.
    
      b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
          YES//' answer NO 
    
      c.  When prompted 'Want to DISABLE Scheduled Options, Menu 
          Options, and Protocols? YES//' answer YES (unless otherwise
          indicated)
    
      d.  When prompted 'Enter options you wish to mark as 'Out Of
          Order':'  Enter the following options:
    
         DG LOAD PATIENT DATA             Load/Edit Patient Data
         DG REGISTER PATIENT              Register a Patient
         IB EDIT BILLING INFO             Enter/Edit Billing Information
         IBCN PATIENT INSURANCE           Patient Insurance Info View/Edit
         IBCN INSURANCE BUFFER PROCESS    Process Insurance Buffer
         IBCE OUTPUT FORMATTER            Forms Output Utility
         IBCE VIEW PENDING BILL           View Bills Pending Transmission
   
    
      e.  When prompted 'Enter protocols you wish to mark as 'Out Of
          Order':' press <return>.
   
  =========================  INSTALLATION EXAMPLE  ===========================
   
  
 Select Installation Option: INstall Package(s)
 Select INSTALL NAME: IB*2.0*361    Loaded from Distribution  2/7/07@10:18:29
      => IB*2*361 
   
 This Distribution was loaded on Feb 07, 2007@10:18:29 with header of 
    IB*2*361 
    It consisted of the following Install(s):
      IB*2.0*361
 Checking Install for Package IB*2.0*361
   
 Install Questions for IB*2.0*361
   
 Incoming Files:
   
   
    2         PATIENT  (Partial Definition)
 Note:  You already have the 'PATIENT' File.
   
   
    355.33    INSURANCE BUFFER  (Partial Definition)
 Note:  You already have the 'INSURANCE BUFFER' File.
   
   
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// 
   
 Enter options you wish to mark as 'Out Of Order': DG LOAD PATIENT DATA   Loa
 d/Edit Patient Data
   
 Enter options you wish to mark as 'Out Of Order': DG REGISTER PATIENT    Regi
 ster a Patient
   
 Enter options you wish to mark as 'Out Of Order': IB EDIT BILLING INFO   Ent
 er/Edit Billing Information
   
 Enter options you wish to mark as 'Out Of Order': IBCN PATIENT INSURANCE P
 atient Insurance Info View/Edit
   
 Enter options you wish to mark as 'Out Of Order': IBCN INSURANCE BUFFER PROCESS
       Process Insurance Buffer
   
 Enter options you wish to mark as 'Out Of Order': IBCE OUTPUT FORMATTER  Fo
 rms Output Utility
   
 Enter options you wish to mark as 'Out Of Order': IBCE VIEW PENDING BILL V
 iew Bills Pending Transmission
   
 Enter options you wish to mark as 'Out Of Order': 
   
 Enter protocols you wish to mark as 'Out Of Order': 
   
 Delay Install (Minutes):  (0-60): 0// 
   
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
   
 DEVICE: HOME//   TCP
   
    
  Install Started for IB*2.0*361 : 
                Feb 07, 2007@10:36:53
    
 Build Distribution Date: Feb 07, 2007
  
  Installing Routines:
                                    IB*2.0*361                                   
 --------------------------------------------------------------------------------
                Feb 07, 2007@10:36:53
  
  Installing Data Dictionaries: ....
                Feb 07, 2007@10:36:55
  
  Running Post-Install Routine: EN^IB20P361
   
      3 entries added to 350.8
   
  Starting update of new INSURED'S SEX field for all existing policies.
  . . . . . . .
  
  INSURED'S SEX field update complete.
  
  150,837 patient records were processed in 6 minutes and 34 seconds.
  
  Updating Routine file...
  
  Updating KIDS files...
  
  IB*2.0*361 Installed. 
                Feb 07, 2007@10:36:56
  
  Install Message sent #455271
 ----------------------------------------------------------------------------
           --------------------------------------------------------------
   100%    |             25             50             75               |
 Complete  --------------------------------------------------------------
   
   
 Install Completed
    
 ROUTINE SUMMARY 
 ===============
  The following is a list of the routines included in this patch.  
  The second line of each of these routines now looks like:
    
       ;;2.0;INTEGRATED BILLING;**[patch list]**;21-MAR-94 
    
                     CHECK^XTSUMBLD results 
    
  Routine       Before Patch     After Patch      Patch List 
  -------       ------------     -----------      ----------
  IB20P361             N/A           3596806    361
  IBBDOC             221183           220529    267,260,286,361
  IBBFAPI          10015619         10857372    267,297,249,317,361
  IBCBB             6166543          6013547    80,51,137,288,327,361
  IBCEF             8581719          8573333    52,80,51,137,288,296,361
  IBCNBCD          14188830         14252617    82,251,361
  IBCNBEE          14789132         14892068    82,184,252,251,356,361
  IBCNBMI          12219781         12434004    82,184,246,251,299,345,361
  IBCNEBF           5811990          5914715    184,271,361
  IBCNEHLQ          8813470          9314450    184,271,300,361
  IBCNRDV          17823656         17863815    214,231,361
  IBCNSM32         11418296         11447037    28,40,52,85,103,133,361
  IBCNSP1           5310198          5334459    6,28,40,43,52,85,103,361
  IBCVA0           10430962          9526550    52,361
  IBECEA35          4169239          4161478    52,240,361
   
   
    
  Total number of routines in patch: 15
  Total number of modified routines: 14
  Total number of new routines: 1 (IB20P361)
  Total number of deleted routines: 1 (IB20P361)

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;2.0;INTEGRATED BILLING;**[Patch List]**;21-MAR-94;Build 9

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: IB20P361
    Before:       n/a   After:  B7523156  **361**
Routine Name: IBBDOC
    Before:   B657364   After:   B671934  **267,260,286,361**
Routine Name: IBBFAPI
    Before: B34602377   After: B38433259  **267,297,249,317,361**
Routine Name: IBCBB
    Before: B14993587   After: B14809145  **80,51,137,288,327,361**
Routine Name: IBCEF
    Before: B52873320   After: B53271927  **52,80,51,137,288,296,361**
Routine Name: IBCNBCD
    Before: B34762768   After: B35493538  **82,251,361**
Routine Name: IBCNBEE
    Before: B44406839   After: B44602878  **82,184,252,251,356,361**
Routine Name: IBCNBMI
    Before: B52789552   After: B54212603  **82,184,246,251,299,345,361**
Routine Name: IBCNEBF
    Before: B27036786   After: B27574081  **184,271,361**
Routine Name: IBCNEHLQ
    Before: B41231894   After: B42736526  **184,271,300,361**
Routine Name: IBCNRDV
    Before: B65324795   After: B65860108  **214,231,361**
Routine Name: IBCNSM32
    Before: B28214658   After: B28247845  **28,40,52,85,103,133,361**
Routine Name: IBCNSP1
    Before: B17219076   After: B17268693  **6,28,40,43,52,85,103,361**
Routine Name: IBCVA0
    Before: B14294206   After: B13013773  **52,361**
Routine Name: IBECEA35
    Before:  B9285866   After:  B9274826  **52,240,361**
 
Routine list of preceding patches: 133, 231, 240, 286, 296, 300, 317, 327
                           345, 356

=============================================================================
User Information:
Entered By  : HOLLOWAY,THOMAS J             Date Entered  : OCT 04, 2006
Completed By: DAWSON,TIM                    Date Completed: SEP 04, 2007
Released By : HARRIS,ANGELA                 Date Released : SEP 05, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
