$TXT Created by DAVIS,PAULETTE T at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 08/21/07 at 08:11
=============================================================================
Run Date: SEP 06, 2007                     Designation: DG*5.3*756
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #672                    Status: Released
                  Compliance Date: OCT 07, 2007
=============================================================================

Associated patches: (v)DG*5.3*333  <<= must be installed BEFORE `DG*5.3*756'
                    (v)DG*5.3*620  <<= must be installed BEFORE `DG*5.3*756'
                    (v)DG*5.3*707  <<= must be installed BEFORE `DG*5.3*756'

Subject: UPDATE THE ALIAS MULTIPLE

Category: 
  - Enhancement (Mandatory)
  - Routine

Description:
============

  DG*5.3*333, DG*5.3*620, and DG*5.4*707 are required builds for patch
  DG*5.3*756.
   
  Issue #1:
  At the request of the Master Patient Index (MPI) Identity Management
  Data Quality (IMDQ) team, Control Registration agreement #2784 has
  been enhanced to include updating of the ALIAS (#1) multiple.
   
  The ALIAS (#1) multiple in the PATIENT (#2) file will now be updated
  on VistA as a result of edits made to that information on the MPI by
  the IMDQ team.  The VistA data will be synchronized to match the MPI
  values.  Additionally, when a facility revises their local ALIAS data,
  the information will be transmitted to the MPI, which in turn will
  update all treating facilities where the patient is known.  This code
  change is distributed in routine VAFCPTED, which enables the new
  functionality to occur after patch RG*1.0*48 is installed.
   
  Issue #2:
  A number of Remedy Tickets reported an undefined error in routine
  VAFCEHU3.  The error occurred shortly after installing patch
  DG*5.3*707.  This issue occurs if a patient is seen at more than
  one facility and a non-CMOR facility marks the permanent address
  with a BAD ADDRESS INDICATOR (#.121) and has edited fields that are
  evaluated for Patient Data Review.  Local variables, used by routine
  VAFCEHU3, are undefined due to code in routine RGADTP1 which does not
  set the variables if the address is no longer permanent.  If the BAD
  ADDRESS INDICATOR (#.121) is set at a non-CMOR facility, then local
  variables for any of the following PATIENT (#2) file fields do not get
  defined at the CMOR facility when messaging occurs.  This could cause an
  undefined error at either CH+36^VAFCEHU3 or EN+6^VAFCEHU3.
      STREET ADDRESS [LINE 1] (#.111),
      STREET ADDRESS [LINE 2] (#.112),
      STREET ADDRESS [LINE 3] (#.113),
      CITY (#.114),
      STATE (#.115),
      ZIP+4 (#.1112),
      COUNTY (#.117),
      PHONE NUMBER [RESIDENCE] (#.131), or
      PHONE NUMBER [WORK] (#.132).
  The logic in routine VAFCEHU3 determines whether or not a Patient Data
  Review should be created.  The code in routine VAFCEHU3 has been corrected
  to ensure that the affected variables are defined in all cases.
   
  Issue #3:
  Health Level Seven (HL7) messaging issues are being addressed.
  Replacement Scheduling Application (RSA) reported a problem with the
  format for the HL7 PV2 segment, Patient Status Effective Date (piece
  46 in the PV2 segment) in the Patient Update A08 message.  The value
  passed contained the date and time but the HL7 standard specifies that
  date only should be transmitted.  Also a problem was found with missing
  values in the OBX segment which caused exceptions to be generated on
  the MPI.  OBX sequence 2 is required and has been added.  These issues
  have been addressed by code changes in routine VAFCSB.
   
  Associated Remedy Ticket(s):
  ============================
  HD 196291 Bronx, NY
  HD 198605 San Diego HCS
  HD 199202 Upstate New York HCS
  HD 199449 Kansas City VAMC
  HD 199939 Huntington VAMC
   
  Associated New Service Request (NSR):
  =====================================
  There is no associated NSR with the patch.
    
  Test Sites:
  ===========
  Bay Pines HCS
  Charleston, SC
  Connecticut HCS
     
  Routine Summary:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
   
  <TAB>;;5.3;Registration;**[Patch List]**;Aug 13, 1993
   
  Using old logic: CHECK^XTSUMBLD results
  Routine       Before Patch       After Patch       Patch List
  --------      ------------       ------------      ----------
  VAFCEHU3        10396678           11016005        149,295,384,474,
                                                     477,479,620,756
  VAFCPTED         1366876            5837276        149,333,756
  VAFCSB           3514067            3810231        707,756
    
  PLEASE NOTE:
  ============
  Routine VAFCSB, distributed in this patch, references routines
  LRPXAPI, PSO52API, and RAO7UTL1.  In the event that DG*5.3*756
  is installed in an account where those routines are not present,
  XINDEX may display either of these messages:
  "Reference to routine (one of the above). That isn't in this UCI."
  "Call to this MISSING LABEL (one of the above)"
    
  VAFCSB contains conditional $$PATCH^XPDUTL checks for the existence
  of the routine and quits if it is not there.  So, the code will work
  with or without the routine being present.
        
  Installation Instructions:
  ==========================
  This patch takes less than 2 minutes to install.  This patch should
  be loaded during non-peak hours to minimize disruption to the users.
   
  1.  Users are allowed on the system during patch installation.
   
  2.  The HL7 incoming filers should be stopped.  Use the Monitor,
      Start, Stop Filers [HL FILER MONITOR] option on the Filer and
      Link Management Options [HL MENU FILER LINK MGT] menu on the
      HL7 Main Menu [HL MAIN MENU].
   
  3.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
      Note:  TEXT PRINT/DISPLAY option in the PackMan menu will display
      the patch text only.
     
  4.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  5.  From this menu, you may elect to use the following options:
      (a)  Backup a Transport Global.
      (b)  Compare Transport Global to Current System.
      (c)  Verify Checksums in Transport Global.
      (d)  Print Transport Global.
   
  6.  Use the Install Package(s) option and select the package DG*5.3*756.
     
  7.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES//',
      respond NO.
   
  8.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond YES.  The following OPTIONS should be
      disabled during the installation.
      Register a Patient              [DG REGISTER PATIENT]
      Load/Edit Patient Data          [DG LOAD PATIENT DATA]
      Electronic 10-10EZ Processing   [EAS EZ 1010EZ PROCESSING]
      UPDATE BATCH JOB FOR HL7 v2.3   [VAFC BATCH UPDATE]
   
  9.  After patch installation has completed, restart the HL7 incoming
      filers.  Use the Monitor, Start, Stop Filers [HL FILER MONITOR]
      option on the Filer and Link Management Options [HL MENU FILER 
      LINK MGT] menu on the HL7 Main Menu [HL MAIN MENU].

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.3;Registration;**[Patch List]**;Aug 13, 1993;Build 5

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: VAFCEHU3
    Before: B18681050   After: B19512600  **149,295,384,474,477,479,620,756**
Routine Name: VAFCPTED
    Before:  B2607851   After: B12372310  **149,333,756**
Routine Name: VAFCSB
    Before:  B7574512   After:  B8457410  **707,756**
 
Routine list of preceding patches: 333, 620, 707

=============================================================================
User Information:
Entered By  : CHESNEY,CHRISTINE M           Date Entered  : JUN 04, 2007
Completed By: ALDERMAN,MATT S               Date Completed: SEP 05, 2007
Released By : FITCH,DONNA                   Date Released : SEP 06, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
