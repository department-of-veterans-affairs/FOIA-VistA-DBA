Released GMTS*2.7*11 SEQ #26
Extracted from mail message
**KIDS**:GMTS*2.7*11^

**INSTALL NAME**
GMTS*2.7*11
"BLD",162,0)
GMTS*2.7*11^HEALTH SUMMARY^0^2980813^y
"BLD",162,1,0)
^^4^4^2980113^
"BLD",162,1,1,0)
This patch will add three new SURGERY components and will modify
"BLD",162,1,2,0)
the output to two other SURGERY components.  Please see the national
"BLD",162,1,3,0)
patch module for a complete description of the changes in patch
"BLD",162,1,4,0)
GMTS*2.7*11.
"BLD",162,4,0)
^9.64PA^142^2
"BLD",162,4,142,0)
142
"BLD",162,4,142,2,0)
^9.641^142.14^1
"BLD",162,4,142,2,142.14,0)
SELECTION ITEM  (sub-file)
"BLD",162,4,142,2,142.14,1,0)
^9.6411^.01^1
"BLD",162,4,142,2,142.14,1,.01,0)
SELECTION ITEM
"BLD",162,4,142,222)
y^n^p^^^^n
"BLD",162,4,142.1,0)
142.1
"BLD",162,4,142.1,222)
n^n^f^^y^^y^o^n
"BLD",162,4,142.1,224)
I Y=23!(Y=77)!(Y=78)!(Y=79)
"BLD",162,4,"APDD",142,142.14)

"BLD",162,4,"APDD",142,142.14,.01)

"BLD",162,4,"B",142,142)

"BLD",162,4,"B",142.1,142.1)

"BLD",162,"ABPKG")
n
"BLD",162,"INIT")
POST^GMTS2711
"BLD",162,"KRN",0)
^9.67PA^19^18
"BLD",162,"KRN",.4,0)
.4
"BLD",162,"KRN",.401,0)
.401
"BLD",162,"KRN",.402,0)
.402
"BLD",162,"KRN",.403,0)
.403
"BLD",162,"KRN",.5,0)
.5
"BLD",162,"KRN",.84,0)
.84
"BLD",162,"KRN",3.6,0)
3.6
"BLD",162,"KRN",3.8,0)
3.8
"BLD",162,"KRN",9.2,0)
9.2
"BLD",162,"KRN",9.8,0)
9.8
"BLD",162,"KRN",9.8,"NM",0)
^9.68A^4^4
"BLD",162,"KRN",9.8,"NM",1,0)
GMTSRO^^0^B22088153
"BLD",162,"KRN",9.8,"NM",2,0)
GMTSROB^^0^B5576844
"BLD",162,"KRN",9.8,"NM",3,0)
GMTSRON^^0^B18762177
"BLD",162,"KRN",9.8,"NM",4,0)
GMTS2711^^0^B2965990
"BLD",162,"KRN",9.8,"NM","B","GMTS2711",4)

"BLD",162,"KRN",9.8,"NM","B","GMTSRO",1)

"BLD",162,"KRN",9.8,"NM","B","GMTSROB",2)

"BLD",162,"KRN",9.8,"NM","B","GMTSRON",3)

"BLD",162,"KRN",19,0)
19
"BLD",162,"KRN",19.1,0)
19.1
"BLD",162,"KRN",101,0)
101
"BLD",162,"KRN",409.61,0)
409.61
"BLD",162,"KRN",771,0)
771
"BLD",162,"KRN",869.2,0)
869.2
"BLD",162,"KRN",870,0)
870
"BLD",162,"KRN",8994,0)
8994
"BLD",162,"KRN","B",.4,.4)

"BLD",162,"KRN","B",.401,.401)

"BLD",162,"KRN","B",.402,.402)

"BLD",162,"KRN","B",.403,.403)

"BLD",162,"KRN","B",.5,.5)

"BLD",162,"KRN","B",.84,.84)

"BLD",162,"KRN","B",3.6,3.6)

"BLD",162,"KRN","B",3.8,3.8)

"BLD",162,"KRN","B",9.2,9.2)

"BLD",162,"KRN","B",9.8,9.8)

"BLD",162,"KRN","B",19,19)

"BLD",162,"KRN","B",19.1,19.1)

"BLD",162,"KRN","B",101,101)

"BLD",162,"KRN","B",409.61,409.61)

"BLD",162,"KRN","B",771,771)

"BLD",162,"KRN","B",869.2,869.2)

"BLD",162,"KRN","B",870,870)

"BLD",162,"KRN","B",8994,8994)

"BLD",162,"QUES",0)
^9.62^1^1
"BLD",162,"QUES",1,0)
POSADHOC
"BLD",162,"QUES",1,1)
Y
"BLD",162,"QUES",1,"A")
Include DISABLED components in the AD HOC HEALTH SUMMARY
"BLD",162,"QUES",1,"B")
NO
"BLD",162,"QUES",1,"Q")
Enter YES to include DISABLED components, otherwise enter NO.
"BLD",162,"QUES",1,"Q1",0)
^^3^3^2980113^
"BLD",162,"QUES",1,"Q1",1,0)
The AD HOC listing appears when you use the AD HOC health summary
"BLD",162,"QUES",1,"Q1",2,0)
option.  You can choose to include the DISABLED components if you
"BLD",162,"QUES",1,"Q1",3,0)
so desire.
"BLD",162,"QUES",1,"QQ")

"BLD",162,"QUES","B","POSADHOC",1)

"BLD",162,"REQB",0)
^9.611^2^2
"BLD",162,"REQB",1,0)
GMTS*2.7*9^1
"BLD",162,"REQB",2,0)
GMTS*2.7*12^1
"BLD",162,"REQB","B","GMTS*2.7*12",2)

"BLD",162,"REQB","B","GMTS*2.7*9",1)

"DATA",142.1,23,0)
SURGERY REPORTS^ENSR;GMTSRO^Y^SR^Y^^^Surgery Package not yet installed^Surgery Rpt (OR/NON)
"DATA",142.1,23,3.5,0)
^^13^13^2980325^^^^
"DATA",142.1,23,3.5,1,0)
This component contains information from the Surgery package.  Time and
"DATA",142.1,23,3.5,2,0)
maximum occurrence limits apply.  It includes NON-OR procedures as well as 
"DATA",142.1,23,3.5,3,0)
Surgical procedures.  The data returned will differ for surgical and 
"DATA",142.1,23,3.5,4,0)
NON-OR procedures.
"DATA",142.1,23,3.5,5,0)
 
"DATA",142.1,23,3.5,6,0)
For Surgical procedures the data presented will be: surgery date,
"DATA",142.1,23,3.5,7,0)
surgeon, surgery report status, pre-operative diagnosis, post-operative
"DATA",142.1,23,3.5,8,0)
diagnosis, surgeon's dictation, current procedural terminology operation
"DATA",142.1,23,3.5,9,0)
code and text, and principal anesthesiologist.
"DATA",142.1,23,3.5,10,0)
 
"DATA",142.1,23,3.5,11,0)
For NON-OR procedures the data presented will be: provider specialty,
"DATA",142.1,23,3.5,12,0)
provider, procedure status, attending, principal diagnosis, procedures
"DATA",142.1,23,3.5,13,0)
performed, principal anesthesiologist, and indications for procedure.
"DATA",142.1,77,0)
SURGERY ONLY REPORTS^ENSRO;GMTSRO^Y^SRO^Y^^^^Surgery Only Reports
"DATA",142.1,77,3.5,0)
^^7^7^2980108^^^^
"DATA",142.1,77,3.5,1,0)
This component will return surgery procedures only and will NOT
"DATA",142.1,77,3.5,2,0)
include NON-OR procedures.  Time and maximum occurrence limits
"DATA",142.1,77,3.5,3,0)
apply.
"DATA",142.1,77,3.5,4,0)
For Surgical procedures the data presented will be: surgery date,
"DATA",142.1,77,3.5,5,0)
surgeon, surgery report status, pre-operative diagnosis, post-operative
"DATA",142.1,77,3.5,6,0)
diagnosis, surgeon's dictation, current procedural terminology operation
"DATA",142.1,77,3.5,7,0)
code and text, and principal anesthesiologist.
"DATA",142.1,78,0)
SURGERY NON OR PROCEDURES^ENSR;GMTSRON^Y^NSR^Y^^^^NON OR Procedures
"DATA",142.1,78,3.5,0)
^^6^6^2980203^^^^
"DATA",142.1,78,3.5,1,0)
This component will print out data for NON-OR procedures only.
"DATA",142.1,78,3.5,2,0)
Time and maximum occurrence limits apply.
"DATA",142.1,78,3.5,3,0)
The data presented will be: provider specialty,
"DATA",142.1,78,3.5,4,0)
provider, procedure status, attending, principal diagnosis, procedures
"DATA",142.1,78,3.5,5,0)
performed, principal anesthesiologist, indication for procedure,
"DATA",142.1,78,3.5,6,0)
and operative findings.
"DATA",142.1,79,0)
SURGERY SEL NON OR PROCEDURES^ENSR;GMTSRON^Y^SNSR^Y^^^^Selected NON-OR Proc
"DATA",142.1,79,1,0)
^142.17P^1^1
"DATA",142.1,79,1,1,0)
81
"DATA",142.1,79,3.5,0)
0^^9^9^2980401^^^^
"DATA",142.1,79,3.5,1,0)
This component will return selected NON-OR procedures.  The user
"DATA",142.1,79,3.5,2,0)
will be allowed to select one or more CPT codes to search for.  The
"DATA",142.1,79,3.5,3,0)
NON-OR procedures will be displayed if the selected CPT code(s)
"DATA",142.1,79,3.5,4,0)
match the principal procedure code.
"DATA",142.1,79,3.5,5,0)
Time and maximum occurrence limits apply.
"DATA",142.1,79,3.5,6,0)
The data presented will be: provider specialty,
"DATA",142.1,79,3.5,7,0)
provider, procedure status, attending, principal diagnosis, procedures
"DATA",142.1,79,3.5,8,0)
performed, principal anesthesiologist, indication for procedure,
"DATA",142.1,79,3.5,9,0)
and operative findings.
"FIA",142)
HEALTH SUMMARY TYPE
"FIA",142,0)
^GMT(142,
"FIA",142,0,0)
142
"FIA",142,0,1)
y^n^p^^^^n
"FIA",142,0,10)

"FIA",142,0,11)

"FIA",142,0,"RLRO")

"FIA",142,0,"VR")
2.7^GMTS
"FIA",142,142)
1
"FIA",142,142.01)
1
"FIA",142,142.01,4)

"FIA",142,142.14)
1
"FIA",142,142.14,.01)

"FIA",142.1)
HEALTH SUMMARY COMPONENT
"FIA",142.1,0)
^GMT(142.1,
"FIA",142.1,0,0)
142.1I
"FIA",142.1,0,1)
n^n^f^^y^^y^o^n
"FIA",142.1,0,10)

"FIA",142.1,0,11)
I Y=23!(Y=77)!(Y=78)!(Y=79)
"FIA",142.1,0,"RLRO")

"FIA",142.1,0,"VR")
2.7^GMTS
"FIA",142.1,142.1)
0
"FIA",142.1,142.17)
0
"FIA",142.1,142.35)
0
"INIT")
POST^GMTS2711
"PKG",126,-1)
1^1
"PKG",126,0)
HEALTH SUMMARY^GMTS^Integrated Health Summary Tools
"PKG",126,20,0)
^9.402P^^
"PKG",126,22,0)
^9.49I^1^1
"PKG",126,22,1,0)
2.7^2951020^2960611
"PKG",126,22,1,"PAH",1,0)
11^2980813^1326
"PKG",126,22,1,"PAH",1,1,0)
^^4^4^2980818
"PKG",126,22,1,"PAH",1,1,1,0)
This patch will add three new SURGERY components and will modify
"PKG",126,22,1,"PAH",1,1,2,0)
the output to two other SURGERY components.  Please see the national
"PKG",126,22,1,"PAH",1,1,3,0)
patch module for a complete description of the changes in patch
"PKG",126,22,1,"PAH",1,1,4,0)
GMTS*2.7*11.
"QUES","POSADHOC",0)
Y
"QUES","POSADHOC","?")
Enter YES to include DISABLED components, otherwise enter NO.
"QUES","POSADHOC","?",1)
The AD HOC listing appears when you use the AD HOC health summary
"QUES","POSADHOC","?",2)
option.  You can choose to include the DISABLED components if you
"QUES","POSADHOC","?",3)
so desire.
"QUES","POSADHOC","??")

"QUES","POSADHOC","A")
Include DISABLED components in the AD HOC HEALTH SUMMARY
"QUES","POSADHOC","B")
NO
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
4
"RTN","GMTS2711")
0^4^B2965990
"RTN","GMTS2711",1,0)
GMTS2711 ;DAN/SLC Init for Patch GMTS*2.7*11 ;1/13/98  08:43
"RTN","GMTS2711",2,0)
 ;;2.7;Health Summary;**11**;Oct 20, 1995
"RTN","GMTS2711",3,0)
 ;
"RTN","GMTS2711",4,0)
POST ;Rebuild AD HOC health summary listing based on answer given
"RTN","GMTS2711",5,0)
 ;from user during install
"RTN","GMTS2711",6,0)
 ;
"RTN","GMTS2711",7,0)
 N INCLUDE,MES
"RTN","GMTS2711",8,0)
 S INCLUDE=XPDQUES("POSADHOC")
"RTN","GMTS2711",9,0)
 D BMES^XPDUTL("Reloading the AD HOC health summary list.")
"RTN","GMTS2711",10,0)
 S MES="Disabled components will "_$S(INCLUDE:"",1:"not ")_"be included."
"RTN","GMTS2711",11,0)
 D MES^XPDUTL(MES)
"RTN","GMTS2711",12,0)
 D ENPOST^GMTSLOAD ;call to do rebuild
"RTN","GMTS2711",13,0)
 ;
"RTN","GMTS2711",14,0)
PDX ;Verify new components exist and attempt to add to VAQ - DATA SEGMENT file in PDX
"RTN","GMTS2711",15,0)
 ;
"RTN","GMTS2711",16,0)
 N NAME,IEN,ERR
"RTN","GMTS2711",17,0)
 F NAME="SURGERY NON OR PROCEDURES","SURGERY ONLY REPORTS" D
"RTN","GMTS2711",18,0)
 .D BMES^XPDUTL("Adding "_NAME_" to the VAQ - DATA SEGMENT file.")
"RTN","GMTS2711",19,0)
 .S IEN=$O(^GMT(142.1,"B",NAME,0)) I 'IEN D MES^XPDUTL(NAME_" NOT added to VAQ - DATA SEGMENT file.") D MES^XPDUTL("Component NOT found in HEALTH SUMMARY COMPONENT file.") Q
"RTN","GMTS2711",20,0)
 .S ERR=$$ADDSEG^VAQUTL50(IEN)
"RTN","GMTS2711",21,0)
 .S MES=$S(+ERR<0:$P(ERR,"^",2),1:NAME_" added to VAQ - DATA SEGMENT file.") D MES^XPDUTL(MES)
"RTN","GMTS2711",22,0)
 .Q
"RTN","GMTS2711",23,0)
 Q
"RTN","GMTSRO")
0^1^B22088153
"RTN","GMTSRO",1,0)
GMTSRO ;SLC/ARS,JER - All Surgery Reports ;1/9/98  13:09
"RTN","GMTSRO",2,0)
 ;;2.7;Health Summary;**9,11**;Oct 20, 1995
"RTN","GMTSRO",3,0)
ENSRO ;Entry point for Surgery Only Component
"RTN","GMTSRO",4,0)
 S GMTSSO=1
"RTN","GMTSRO",5,0)
ENSR ; Entry point for SURGERY REPORT component, includes NON-OR procedures
"RTN","GMTSRO",6,0)
 N MAX,GMCOUNT,GMIDT,GMN,SURG
"RTN","GMTSRO",7,0)
 I '$D(^SRF("B",DFN)) Q
"RTN","GMTSRO",8,0)
 S MAX=999 I $D(GMTSNDM),(GMTSNDM>0) S MAX=GMTSNDM
"RTN","GMTSRO",9,0)
 S GMN=0 F  S GMN=$O(^SRF("B",DFN,GMN)) Q:GMN'>0  D SORT
"RTN","GMTSRO",10,0)
 I '$D(SURG) Q
"RTN","GMTSRO",11,0)
 S (GMCOUNT,GMIDT)=0 F  S GMIDT=$O(SURG(GMIDT)) Q:GMIDT'>0!(GMCOUNT'<MAX)  S GMN=SURG(GMIDT) D WRT Q:$D(GMTSQIT)
"RTN","GMTSRO",12,0)
 K ^UTILITY($J,"W"),GMTSSO
"RTN","GMTSRO",13,0)
 Q
"RTN","GMTSRO",14,0)
SORT ; Sort surgeries by inverted date
"RTN","GMTSRO",15,0)
 N GMDT
"RTN","GMTSRO",16,0)
 S GMDT=$P(^SRF(GMN,0),U,9) I GMDT>GMTSBEG&(GMDT<GMTSEND) D
"RTN","GMTSRO",17,0)
 . F  Q:'$D(SURG(9999999-GMDT))  S GMDT=GMDT+.0001
"RTN","GMTSRO",18,0)
 . S SURG(9999999-GMDT)=GMN
"RTN","GMTSRO",19,0)
 Q
"RTN","GMTSRO",20,0)
WRT ; Write surgical case record
"RTN","GMTSRO",21,0)
 N X,GMI,GMDT,OPPRC,PAN,POSDX,PREDX,SPEC,STATUS,SURGEON,VER
"RTN","GMTSRO",22,0)
 N DCTDTM,TRSDTM
"RTN","GMTSRO",23,0)
 I $P($G(^SRF(GMN,"NON")),U)="Y" Q:$G(GMTSSO)  D WRT^GMTSRON Q
"RTN","GMTSRO",24,0)
 S GMCOUNT=GMCOUNT+1
"RTN","GMTSRO",25,0)
 S X=$P(^SRF(GMN,0),U,9) D REGDT^GMTSU S GMDT=X
"RTN","GMTSRO",26,0)
 D STATUS^GMTSROB S:'$D(STATUS) STATUS="UNKNOWN"
"RTN","GMTSRO",27,0)
 S X=$P(^SRF(GMN,0),U,4) I X>0 S Y=X,C=$P(^DD(130,.04,0),U,2) D Y^DIQ S SPEC=Y K Y
"RTN","GMTSRO",28,0)
 I $L($G(SPEC))>25 S SPEC=$$WRAP^GMTSORC(SPEC,25)
"RTN","GMTSRO",29,0)
 I $D(^SRF(GMN,.1)) S X=$P(^SRF(GMN,.1),U,4) I X>0 S Y=X,C=$P(^DD(130,.14,0),U,2) D Y^DIQ S SURGEON=Y K Y
"RTN","GMTSRO",30,0)
 S X=$P($G(^SRF(GMN,.3)),U) I X>0 S Y=X,C=$P(^DD(130,.31,0),U,2) D Y^DIQ S PAN=Y K Y
"RTN","GMTSRO",31,0)
 S VER=$S($G(^SRF(GMN,"VER"))'="Y":"(Unverified)",1:"")
"RTN","GMTSRO",32,0)
 S PREDX(0)=$S($G(^SRF(GMN,33))]"":$P(^(33),U),1:"") S GMI=0 F  S GMI=$O(^SRF(GMN,14,GMI)) Q:GMI'>0  S PREDX(GMI)=$P(^SRF(GMN,14,GMI,0),U)
"RTN","GMTSRO",33,0)
 S POSDX(0)=$S($G(^SRF(GMN,34))]"":$P(^(34),U),1:"") S GMI=0 F  S GMI=$O(^SRF(GMN,15,GMI)) Q:GMI'>0  S POSDX(GMI)=$P(^SRF(GMN,15,GMI,0),U)
"RTN","GMTSRO",34,0)
 S OPPRC(0)=$P($G(^SRF(GMN,"OP")),U,1,2) S:$P(OPPRC(0),U,2)]"" $P(OPPRC(0),U,2)=$P($G(^ICPT($P($G(^SRF(GMN,"OP")),U,2),0)),U,2) D
"RTN","GMTSRO",35,0)
 . S GMI=0 F  S GMI=$O(^SRF(GMN,13,GMI)) Q:GMI'>0  S OPPRC(GMI)=$P($G(^SRF(GMN,13,GMI,0)),U)_U_$G(^SRF(GMN,13,GMI,2)) S:$P(OPPRC(GMI),U,2)]"" $P(OPPRC(GMI),U,2)=$P($G(^ICPT($P($G(^SRF(GMN,13,GMI,2)),U),0)),U,2)
"RTN","GMTSRO",36,0)
 S X=$P($G(^SRF(GMN,31)),U,6) I X>0 D REGDTM^GMTSU S DCTDTM=X
"RTN","GMTSRO",37,0)
 S X=$P($G(^SRF(GMN,31)),U,7) I X>0 D REGDTM^GMTSU S TRSDTM=X
"RTN","GMTSRO",38,0)
 S DIWL=0,DIWF="N"
"RTN","GMTSRO",39,0)
 K ^UTILITY($J,"W")
"RTN","GMTSRO",40,0)
 I $D(^SRF(GMN,12)) F GMI=1:1:$P(^SRF(GMN,12,0),U,4) S X=^SRF(GMN,12,GMI,0) D ^DIWP
"RTN","GMTSRO",41,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W GMDT,?21,$P($G(SPEC),"|"),?47,"Surgeon:",?56,$G(SURGEON),!
"RTN","GMTSRO",42,0)
 F GMI=2:1:$L($G(SPEC),"|") D
"RTN","GMTSRO",43,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)  W ?23,$P($G(SPEC),"|",GMI),!
"RTN","GMTSRO",44,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?13,"Status:",?21,STATUS,?42,"Prin. Anest.:",?56,$G(PAN),!
"RTN","GMTSRO",45,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?5,"Pre-op Diag(s):"
"RTN","GMTSRO",46,0)
 S GMI="" F  S GMI=$O(PREDX(GMI)) Q:GMI=""  S PREDX=$S($L(PREDX(GMI))'>58:PREDX(GMI),1:$$WRAP^GMTSORC(PREDX(GMI),58)) F GMJ=1:1:$L(PREDX,"|") D CKP^GMTSUP Q:$D(GMTSQIT)  W ?$S(GMJ=1:21,1:22),$P(PREDX,"|",GMJ) W:GMJ=1&(PREDX?1.A.E) " ",VER W !
"RTN","GMTSRO",47,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?4,"Post-op Diag(s):"
"RTN","GMTSRO",48,0)
 S GMI="" F  S GMI=$O(POSDX(GMI)) Q:GMI=""  S POSDX=$S($L(POSDX(GMI))'>58:POSDX(GMI),1:$$WRAP^GMTSORC(POSDX(GMI),58)) F GMJ=1:1:$L(POSDX,"|") D CKP^GMTSUP Q:$D(GMTSQIT)  W ?$S(GMJ=1:21,1:22),$P(POSDX,"|",GMJ) W:GMJ=1&(POSDX?1.A.E) " ",VER W !
"RTN","GMTSRO",49,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?2,"Operative Proc(s):"
"RTN","GMTSRO",50,0)
 S GMI="" F  S GMI=$O(OPPRC(GMI)) Q:GMI=""  S OPPRC=$S($L($P(OPPRC(GMI),U))'>58:OPPRC(GMI),1:$$WRAP^GMTSORC($P(OPPRC(GMI),U),58)_U_$P(OPPRC(GMI),U,2)) F GMJ=1:1:$L($P(OPPRC,U),"|") D WRTPRC Q:$D(GMTSQIT)
"RTN","GMTSRO",51,0)
 I $O(^SRF(GMN,9,0)) D CKP^GMTSUP Q:$D(GMTSQIT)  W ?11,"Lab Work: YES",!
"RTN","GMTSRO",52,0)
 I $D(DCTDTM) D CKP^GMTSUP Q:$D(GMTSQIT)  W ?5,"Dictation Time:",?21,DCTDTM
"RTN","GMTSRO",53,0)
 I $D(TRSDTM) D CKP^GMTSUP Q:$D(GMTSQIT)  W ?36,"Transcription Time:",?56,TRSDTM
"RTN","GMTSRO",54,0)
 W:$D(DCTDTM)!($D(TRSDTM)) !
"RTN","GMTSRO",55,0)
 I $D(^UTILITY($J,"W")) D CKP^GMTSUP Q:$D(GMTSQIT)  W "Surgeon's Dictation:",! F GMI=1:1:^UTILITY($J,"W",DIWL) D CKP^GMTSUP Q:$D(GMTSQIT)  W ^UTILITY($J,"W",DIWL,GMI,0),!
"RTN","GMTSRO",56,0)
 K ^UTILITY($J,"W") W !
"RTN","GMTSRO",57,0)
 Q
"RTN","GMTSRO",58,0)
WRTPRC ; Writes operative procedures
"RTN","GMTSRO",59,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?$S(GMJ=1:21,1:22),$P($P(OPPRC,U),"|",GMJ) W:GMJ=1&($P(OPPRC,U,2)]"") " - ",$P(OPPRC,U,2) W !
"RTN","GMTSRO",60,0)
 Q
"RTN","GMTSROB")
0^2^B5576844
"RTN","GMTSROB",1,0)
GMTSROB ;SLC/ARS,JER - Surgery Reports Brief ;1/9/98  13:04
"RTN","GMTSROB",2,0)
 ;;2.7;Health Summary;**9,11**;Oct 20, 1995
"RTN","GMTSROB",3,0)
ENSR ; Entry point for component
"RTN","GMTSROB",4,0)
 N MAX,GMCOUNT,GMIDT,GMN,SURG
"RTN","GMTSROB",5,0)
 I '$D(^SRF("B",DFN)) Q
"RTN","GMTSROB",6,0)
 S MAX=999 I $D(GMTSNDM),(GMTSNDM>0) S MAX=GMTSNDM
"RTN","GMTSROB",7,0)
 S GMN=0 F  S GMN=$O(^SRF("B",DFN,GMN)) Q:GMN'>0  D SORT
"RTN","GMTSROB",8,0)
 I '$D(SURG) Q
"RTN","GMTSROB",9,0)
 S (GMCOUNT,GMIDT)=0 F  S GMIDT=$O(SURG(GMIDT)) Q:GMIDT'>0!(GMCOUNT'<MAX)  S GMN=SURG(GMIDT) D WRT
"RTN","GMTSROB",10,0)
 Q
"RTN","GMTSROB",11,0)
SORT ; Sort surgeries by inverted date
"RTN","GMTSROB",12,0)
 N GMDT
"RTN","GMTSROB",13,0)
 S GMDT=$P(^SRF(GMN,0),U,9) I GMDT>GMTSBEG&(GMDT<GMTSEND) D
"RTN","GMTSROB",14,0)
 . F  Q:'$D(SURG(9999999-GMDT))  S GMDT=GMDT+.0001
"RTN","GMTSROB",15,0)
 . S SURG(9999999-GMDT)=GMN
"RTN","GMTSROB",16,0)
 Q
"RTN","GMTSROB",17,0)
WRT ; Write surgical case record
"RTN","GMTSROB",18,0)
 N X,GMI,GMDT,STATUS K ^UTILITY($J,"W")
"RTN","GMTSROB",19,0)
 S GMCOUNT=GMCOUNT+1
"RTN","GMTSROB",20,0)
 S X=$P(^SRF(GMN,0),U,9) D REGDT^GMTSU S GMDT=X
"RTN","GMTSROB",21,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W GMDT
"RTN","GMTSROB",22,0)
 D STATUS S:'$D(STATUS) STATUS="UNKNOWN"
"RTN","GMTSROB",23,0)
 S X=$P(^SRF(GMN,"OP"),"^") D FORMAT
"RTN","GMTSROB",24,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W:$D(^UTILITY($J,"W",1,1,0)) ?21,^(0) W ?61,STATUS,!
"RTN","GMTSROB",25,0)
 S GMI=1 F  S GMI=$O(^UTILITY($J,"W",1,GMI)) Q:GMI'>0  D CKP^GMTSUP Q:$D(GMTSQIT)  W ?21,^UTILITY($J,"W",1,GMI,0),!
"RTN","GMTSROB",26,0)
 K ^UTILITY($J,"W")
"RTN","GMTSROB",27,0)
 S GMI=0 F  S GMI=$O(^SRF(GMN,13,GMI)) Q:GMI'>0  D CKP^GMTSUP Q:$D(GMTSQIT)  D 
"RTN","GMTSROB",28,0)
 . S X(GMI)=$P($G(^SRF(GMN,13,GMI,0)),U) W ?21,X(GMI),!
"RTN","GMTSROB",29,0)
 Q
"RTN","GMTSROB",30,0)
STATUS ; case status
"RTN","GMTSROB",31,0)
 I $P($G(^SRF(GMN,"NON")),U)="Y" D NONORST Q
"RTN","GMTSROB",32,0)
 I $D(^SRF(GMN,30)) S STATUS=$S(+$P($G(^SRF(GMN,.2)),U,10):"(ABORTED)",1:"CANCELLED") Q
"RTN","GMTSROB",33,0)
 I +$P($G(^SRF(GMN,.2)),U,3) S STATUS="(COMPLETED)" Q
"RTN","GMTSROB",34,0)
 I +$P($G(^SRF(GMN,.2)),U,2),'(+$P(^(.2),U,3)) S STATUS="INCOMPLETE" Q
"RTN","GMTSROB",35,0)
 I +$P($G(^SRF(GMN,31)),U,4) S STATUS="SCHEDULED" Q
"RTN","GMTSROB",36,0)
 I +$G(^SRF(GMN,"REQ")),'(+$P($G(^SRF(GMN,.2)),U,2)) S STATUS="REQUESTED"
"RTN","GMTSROB",37,0)
 Q
"RTN","GMTSROB",38,0)
FORMAT ; format surgery name
"RTN","GMTSROB",39,0)
 N DIWF,DIWL,DIWR
"RTN","GMTSROB",40,0)
 S DIWF="C35R",DIWL=1,DIWR=36 D ^DIWP
"RTN","GMTSROB",41,0)
 Q
"RTN","GMTSROB",42,0)
NONORST ;Obtains status for NON-OR procedures.
"RTN","GMTSROB",43,0)
 S STATUS="UNKNOWN"
"RTN","GMTSROB",44,0)
 N GMTSNON S GMTSNON=$G(^SRF(GMN,"NON"))
"RTN","GMTSROB",45,0)
 I +$P(GMTSNON,U,5) S STATUS="(COMPLETED)" Q
"RTN","GMTSROB",46,0)
 I +$P(GMTSNON,U,4)&'+$P(GMTSNON,U,5) S STATUS="INCOMPLETE" Q
"RTN","GMTSROB",47,0)
 Q
"RTN","GMTSRON")
0^3^B18762177
"RTN","GMTSRON",1,0)
GMTSRON ;SLC/ARS,JER - Surgery Reports ;2/3/98  14:23
"RTN","GMTSRON",2,0)
 ;;2.7;Health Summary;**11**;Oct 20, 1995
"RTN","GMTSRON",3,0)
ENSR ; Entry point for component
"RTN","GMTSRON",4,0)
 N MAX,GMCOUNT,GMIDT,GMJ,GMN,SURG
"RTN","GMTSRON",5,0)
 I '$D(^SRF("B",DFN)) Q
"RTN","GMTSRON",6,0)
 S MAX=999 I $D(GMTSNDM),(GMTSNDM>0) S MAX=GMTSNDM
"RTN","GMTSRON",7,0)
 S GMN=0 F  S GMN=$O(^SRF("B",DFN,GMN)) Q:GMN'>0  D SORT
"RTN","GMTSRON",8,0)
 I '$D(SURG) Q
"RTN","GMTSRON",9,0)
 S (GMCOUNT,GMIDT)=0 F  S GMIDT=$O(SURG(GMIDT)) Q:GMIDT'>0!(GMCOUNT'<MAX)  S GMN=SURG(GMIDT) D WRT:$$CHK
"RTN","GMTSRON",10,0)
 Q
"RTN","GMTSRON",11,0)
SORT ; Sort surgeries by inverted date
"RTN","GMTSRON",12,0)
 N GMDT
"RTN","GMTSRON",13,0)
 S GMDT=$P(^SRF(GMN,0),U,9) I GMDT>GMTSBEG&(GMDT<GMTSEND) D
"RTN","GMTSRON",14,0)
 . F  Q:'$D(SURG(9999999-GMDT))  S GMDT=GMDT+.0001
"RTN","GMTSRON",15,0)
 . S SURG(9999999-GMDT)=GMN
"RTN","GMTSRON",16,0)
 Q
"RTN","GMTSRON",17,0)
WRT ; Write surgical case record
"RTN","GMTSRON",18,0)
 N X,GMI,GMDT,ICD,ICD9,OPPRC,PAN,PRDX,PROVIDER,SPEC,STATUS,VER,ATTENDNG,Y
"RTN","GMTSRON",19,0)
 I $P($G(^SRF(GMN,"NON")),U)'="Y" Q
"RTN","GMTSRON",20,0)
 S GMCOUNT=GMCOUNT+1
"RTN","GMTSRON",21,0)
NONOR ;Get NON-OR information
"RTN","GMTSRON",22,0)
 S X=$P(^SRF(GMN,"NON"),U,3) D REGDT^GMTSU S GMDT=X
"RTN","GMTSRON",23,0)
 D STATUS^GMTSROB S:'$D(STATUS) STATUS="UNKNOWN"
"RTN","GMTSRON",24,0)
 S X=$P(^SRF(GMN,"NON"),U,8) I X>0 D
"RTN","GMTSRON",25,0)
 . S Y=X,C=$P(^DD(130,125,0),U,2) D Y^DIQ S SPEC=Y K Y
"RTN","GMTSRON",26,0)
 . I $L($G(SPEC))>25 S SPEC=$$WRAP^GMTSORC(SPEC,25)
"RTN","GMTSRON",27,0)
 S X=$P(^SRF(GMN,"NON"),U,6) I X>0 D
"RTN","GMTSRON",28,0)
 . S Y=X,C=$P(^DD(130,123,0),U,2) D Y^DIQ S PROVIDER=Y K Y
"RTN","GMTSRON",29,0)
 S X=$P(^SRF(GMN,"NON"),U,7) I X>0 D
"RTN","GMTSRON",30,0)
 . S Y=X,C=$P(^DD(130,124,0),U,2) D Y^DIQ S ATTENDNG=Y K Y
"RTN","GMTSRON",31,0)
 S X=$P($G(^SRF(GMN,.3)),U) I X>0 S Y=X,C=$P(^DD(130,.31,0),U,2) D Y^DIQ S PAN=Y K Y
"RTN","GMTSRON",32,0)
WRT1 S VER=$S($G(^SRF(GMN,"VER"))'="Y":"(Unverified)",1:"")
"RTN","GMTSRON",33,0)
 S PRDX=$S($G(^SRF(GMN,33))]"":$P(^(33),U,2),1:"")
"RTN","GMTSRON",34,0)
 S ICD9="Unknown" S ICD=$S($G(^SRF(GMN,34))]"":$P(^(34),U,2),1:"") S:ICD]"" ICD9=" (ICD9 Code: "_$P($G(^ICD9(ICD,0)),U)_")"
"RTN","GMTSRON",35,0)
 S OPPRC(0)=$P($G(^SRF(GMN,"OP")),U) S:$P(^SRF(GMN,"OP"),U,2)]"" OPPRC(0)=OPPRC(0)_" - "_$P($G(^ICPT($P($G(^SRF(GMN,"OP")),U,2),0)),U,2)_" (CPT Code: "_$P(^SRF(GMN,"OP"),U,2)_")" D
"RTN","GMTSRON",36,0)
 . S GMI=0 F  S GMI=$O(^SRF(GMN,13,GMI)) Q:GMI'>0  S OPPRC(GMI)=$P($G(^SRF(GMN,13,GMI,0)),U) D
"RTN","GMTSRON",37,0)
 . . S:$P($G(^SRF(GMN,13,GMI,2)),U)]"" OPPRC(GMI)=OPPRC(GMI)_" - "_$P($G(^ICPT($P($G(^SRF(GMN,13,GMI,2)),U),0)),U,2)_" (CPT Code: "_$P(^SRF(GMN,13,GMI,2),U)_")"
"RTN","GMTSRON",38,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W GMDT,?21,$P($G(SPEC),"|"),?47,"Provider: ",?56,$G(PROVIDER),!
"RTN","GMTSRON",39,0)
 F GMI=2:1:$L($G(SPEC),"|") D
"RTN","GMTSRON",40,0)
 . D CKP^GMTSUP Q:$D(GMTSQIT)  W ?23,$P($G(SPEC),"|",GMI),!
"RTN","GMTSRON",41,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?13,"Status:",?21,STATUS
"RTN","GMTSRON",42,0)
 W ?46,"Attending: ",?56,$G(ATTENDNG),!
"RTN","GMTSRON",43,0)
 W ?43,"Prin. Anest.: ",?56,$G(PAN),!
"RTN","GMTSRON",44,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?8,"Princ. Diag: " D
"RTN","GMTSRON",45,0)
 . I $L(PRDX)<40 W ?21,PRDX_ICD9,!
"RTN","GMTSRON",46,0)
 . E  D CKP^GMTSUP Q:$D(GMTSQIT)  W ?21,PRDX,!,?21,ICD9,!
"RTN","GMTSRON",47,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?4,"Proc. Performed: "
"RTN","GMTSRON",48,0)
 S GMI="" F  S GMI=$O(OPPRC(GMI)) Q:GMI=""  D
"RTN","GMTSRON",49,0)
 . S OPPRC=$S($L(OPPRC(GMI))'>55:OPPRC(GMI),1:$$WRAP^GMTSORC($P(OPPRC(GMI),U),55)) F GMJ=1:1:$L($P(OPPRC,U),"|") D WRTPRC Q:$D(GMTSQIT)
"RTN","GMTSRON",50,0)
IND S DIWL=1,DIWF="C58"
"RTN","GMTSRON",51,0)
 K ^UTILITY($J,"W")
"RTN","GMTSRON",52,0)
 I $D(^SRF(GMN,40)) F GMI=1:1:$P(^SRF(GMN,40,0),U,4) S X=^SRF(GMN,40,GMI,0) D ^DIWP
"RTN","GMTSRON",53,0)
 I $D(^UTILITY($J,"W")) D CKP^GMTSUP Q:$D(GMTSQIT)  D
"RTN","GMTSRON",54,0)
 . W "Indication for Proc:" F GMI=1:1:^UTILITY($J,"W",DIWL) D CKP^GMTSUP Q:$D(GMTSQIT)  W ?21,^UTILITY($J,"W",DIWL,GMI,0),!
"RTN","GMTSRON",55,0)
 K ^UTILITY($J,"W")
"RTN","GMTSRON",56,0)
FIND S DIWL=1,DIWF="C58"
"RTN","GMTSRON",57,0)
 I $D(^SRF(GMN,38)) F GMI=1:1:$P(^SRF(GMN,38,0),U,4) S X=^SRF(GMN,38,GMI,0) D ^DIWP
"RTN","GMTSRON",58,0)
 I $D(^UTILITY($J,"W")) D CKP^GMTSUP Q:$D(GMTSQIT)  D
"RTN","GMTSRON",59,0)
 . W "Operative Findings :" F GMI=1:1:^UTILITY($J,"W",DIWL) D CKP^GMTSUP Q:$D(GMTSQIT)  W ?21,^UTILITY($J,"W",DIWL,GMI,0),!
"RTN","GMTSRON",60,0)
 K ^UTILITY($J,"W")
"RTN","GMTSRON",61,0)
 S DIWL=0,DIWF="N"
"RTN","GMTSRON",62,0)
 I $D(^SRF(GMN,12)) F GMI=1:1:$P(^SRF(GMN,12,0),U,4) S X=^SRF(GMN,12,GMI,0) D ^DIWP
"RTN","GMTSRON",63,0)
 I $D(^UTILITY($J,"W")) D CKP^GMTSUP Q:$D(GMTSQIT)  D
"RTN","GMTSRON",64,0)
  . W "Surgeon's Dictation:",! F GMI=1:1:(^UTILITY($J,"W",DIWL)-1) D CKP^GMTSUP Q:$D(GMTSQIT)  W ?2,^UTILITY($J,"W",DIWL,GMI,0),!
"RTN","GMTSRON",65,0)
 K ^UTILITY($J,"W")
"RTN","GMTSRON",66,0)
 W !
"RTN","GMTSRON",67,0)
 Q
"RTN","GMTSRON",68,0)
WRTPRC ; Writes operative procedures
"RTN","GMTSRON",69,0)
 D CKP^GMTSUP Q:$D(GMTSQIT)  W ?$S(GMJ=1:21,1:22),$P($P(OPPRC,U),"|",GMJ) W:GMJ=1&($P(OPPRC,U,2)]"") " - ",$P(OPPRC,U,2) W !
"RTN","GMTSRON",70,0)
 Q
"RTN","GMTSRON",71,0)
CHK() ;For selected procedures see if you have a match
"RTN","GMTSRON",72,0)
 N J,FND
"RTN","GMTSRON",73,0)
 I '$D(GMTSEG(GMTSEGN,81)) Q 1
"RTN","GMTSRON",74,0)
 S FND=0 F J=0:0 S J=$O(GMTSEG(GMTSEGN,81,J)) Q:'+J!FND  I GMTSEG(GMTSEGN,81,J)=$P($G(^SRF(GMN,"OP")),U,2) S FND=1
"RTN","GMTSRON",75,0)
 Q FND
"UP",142,142.14,-2)
142^1
"UP",142,142.14,-1)
142.01^1
"UP",142,142.14,0)
142.14
"VER")
8.0^21.0
"^DD",142,142.01,4,0)
SELECTION ITEM^142.14AV^^1;0
"^DD",142,142.01,4,21,0)
^^7^7^2960910^^^^
"^DD",142,142.01,4,21,1,0)
If the component allows selection of specific items, they will be selected
"^DD",142,142.01,4,21,2,0)
here.  Component examples are Lab Tests Selected, Lab Cumulative's
"^DD",142,142.01,4,21,3,0)
Selected, Radiology Impressions Selected, and Vital Signs Selected.
"^DD",142,142.01,4,21,4,0)
 
"^DD",142,142.01,4,21,5,0)
You will be asked to enter selection items such as Lab Tests, Radiology
"^DD",142,142.01,4,21,6,0)
Procedures, Vital Sign Types, Measurement Panel, Clinical
"^DD",142,142.01,4,21,7,0)
Reminder/Maintenance, Health Factor, depending on the component.
"^DD",142,142.01,4,21,8,0)
Factor, depending on the component.
"^DD",142,142.01,4,22)

"^DD",142,142.14,0)
SELECTION ITEM SUB-FIELD^^.01^1
"^DD",142,142.14,0,"NM","SELECTION ITEM")

"^DD",142,142.14,.01,0)
SELECTION ITEM^MV^^0;1^Q
"^DD",142,142.14,.01,1,0)
^.1
"^DD",142,142.14,.01,1,1,0)
142.14^B
"^DD",142,142.14,.01,1,1,1)
S ^GMT(142,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",142,142.14,.01,1,1,2)
K ^GMT(142,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)
"^DD",142,142.14,.01,1,1,3)
Required Index for Variable Pointer
"^DD",142,142.14,.01,1,1,"%D",0)
^^2^2^2920302^
"^DD",142,142.14,.01,1,1,"%D",1,0)
This REGULAR FileMan type cross-reference is used in look-ups of selection
"^DD",142,142.14,.01,1,1,"%D",2,0)
items during the Create/Modify and parameter collection dialogues.
"^DD",142,142.14,.01,3)
Selection items can only be selected when appropriate for the component.
"^DD",142,142.14,.01,21,0)
^^7^7^2960910^^^^
"^DD",142,142.14,.01,21,1,0)
When a given component allows the selection of specific items, (e.g., lab
"^DD",142,142.14,.01,21,2,0)
tests, radiology procedures, vital measurements, measurement panels,
"^DD",142,142.14,.01,21,3,0)
clinical reminders/maintenance items, health factors, etc.), you may
"^DD",142,142.14,.01,21,4,0)
select the item by simply entering its name (e.g., POTASSIUM, or PULSE, as
"^DD",142,142.14,.01,21,5,0)
appropriate). If a limit has been specified for the number of items to be
"^DD",142,142.14,.01,21,6,0)
selected, then the build health summary option will restrict you to that
"^DD",142,142.14,.01,21,7,0)
number.
"^DD",142,142.14,.01,"DT")
2920928
"^DD",142,142.14,.01,"V",0)
^.12P^8^7
"^DD",142,142.14,.01,"V",1,0)
60^LABORATORY TEST^1^L^y^n
"^DD",142,142.14,.01,"V",1,1)
S DIC("S")="I ($P(^(0),U,4)=""CH""),(""BO""[$P(^(0),U,3))"
"^DD",142,142.14,.01,"V",1,2)
Only Chemistry & Hematology tests may be selected.
"^DD",142,142.14,.01,"V",2,0)
120.51^VITAL TYPE^2^V^n^n
"^DD",142,142.14,.01,"V",3,0)
71^RADIOLOGY TEST^3^R^n^n
"^DD",142,142.14,.01,"V",5,0)
9001017^MEASUREMENT PANEL^4^M^^n
"^DD",142,142.14,.01,"V",6,0)
811.9^CLINICAL REMINDER/MAINTENANCE^5^C^y^n
"^DD",142,142.14,.01,"V",6,1)
S DIC("S")="I +$P(^(0),U,6)'=1"
"^DD",142,142.14,.01,"V",6,2)
Allow selection of items that aren't inactive.
"^DD",142,142.14,.01,"V",7,0)
9999999.64^HEALTH FACTOR^6^F^y^n
"^DD",142,142.14,.01,"V",7,1)
S DIC("S")="I $P(^(0),U,10)=""C"",+$P(^(0),U,11)'=1"
"^DD",142,142.14,.01,"V",7,2)
Forces selection of health factor categories rather than individual health factors and forces selection of health factor categories that aren't inactive.
"^DD",142,142.14,.01,"V",8,0)
8925.1^PROGRESS NOTE TITLE^8^PN^y^n
"^DD",142,142.14,.01,"V",8,1)
S DIC("S")="I $P(^TIU(8925.1,+Y,0),U,4)=""DOC"",+$$ISA^TIULX(+Y,3)"
"^DD",142,142.14,.01,"V",8,2)
Only a PROGRESS NOTE TITLE may be selected.
"^DD",142,142.14,.01,"V",9,0)
81^CPT^7^CPT^n^n
"^DD",142.1,142.1,0)
FIELD^^12^15
"^DD",142.1,142.1,0,"DDA")
N
"^DD",142.1,142.1,0,"DT")
2940418
"^DD",142.1,142.1,0,"IX","AM",142.1,5)

"^DD",142.1,142.1,0,"IX","AM1",142.1,.01)

"^DD",142.1,142.1,0,"IX","AM2",142.1,3)

"^DD",142.1,142.1,0,"IX","AM9",142.1,9)

"^DD",142.1,142.1,0,"IX","B",142.1,.01)

"^DD",142.1,142.1,0,"IX","C",142.1,3)

"^DD",142.1,142.1,0,"IX","D",142.1,9)

"^DD",142.1,142.1,0,"PT",142.01,1)

"^DD",142.1,142.1,0,"PT",394.71,.04)

"^DD",142.1,142.1,.001,0)
NUMBER^NJ10,0X^^ ^K:+X'=X!(X>9999999999)!(X<0)!(X?.E1"."1N.N) X I $D(X) D CHKNUM^GMTSDD
"^DD",142.1,142.1,.001,3)
Enter your station number, followed by 001 to 999.
"^DD",142.1,142.1,.001,21,0)
^^4^4^2920914^^^^
"^DD",142.1,142.1,.001,21,1,0)
This is the internal record number of the component record.  If you are
"^DD",142.1,142.1,.001,21,2,0)
creating a new component, then this should be a sequential number,
"^DD",142.1,142.1,.001,21,3,0)
preceded by your station number (e.g., station number 660 should number
"^DD",142.1,142.1,.001,21,4,0)
custom-built components from 660001-660999, etc.).
"^DD",142.1,142.1,.001,"DT")
2920914
"^DD",142.1,142.1,.01,0)
NAME^RF^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X D:$D(X) CHKNAME^GMTSDD
"^DD",142.1,142.1,.01,1,0)
^.1
"^DD",142.1,142.1,.01,1,1,0)
142.1^B
"^DD",142.1,142.1,.01,1,1,1)
S ^GMT(142.1,"B",$E(X,1,30),DA)=""
"^DD",142.1,142.1,.01,1,1,2)
K ^GMT(142.1,"B",$E(X,1,30),DA)
"^DD",142.1,142.1,.01,1,1,"%D",0)
^^2^2^2920302^
"^DD",142.1,142.1,.01,1,1,"%D",1,0)
This whole-file, REGULAR FileMan cross-reference is used for look-ups of
"^DD",142.1,142.1,.01,1,1,"%D",2,0)
components by NAME.
"^DD",142.1,142.1,.01,1,2,0)
142.1^AM1^MUMPS
"^DD",142.1,142.1,.01,1,2,1)
D REDO^GMTSDD
"^DD",142.1,142.1,.01,1,2,2)
D REDO^GMTSDD
"^DD",142.1,142.1,.01,1,2,"%D",0)
^^4^4^2950731^
"^DD",142.1,142.1,.01,1,2,"%D",1,0)
This MUMPS type cross-reference is used to rebuild the ad hoc and
"^DD",142.1,142.1,.01,1,2,"%D",2,0)
navigational menus when the NAME of a given component is modified. The
"^DD",142.1,142.1,.01,1,2,"%D",3,0)
^XUTL("XQORM", global is used by the Unwinder utility to generate the ad
"^DD",142.1,142.1,.01,1,2,"%D",4,0)
hoc and navigational menus.
"^DD",142.1,142.1,.01,3)
Answer must be 3-30 characters in length.
"^DD",142.1,142.1,.01,21,0)
^^3^3^2920109^^^^
"^DD",142.1,142.1,.01,21,1,0)
This is the name of the health summary component, which both uniquely
"^DD",142.1,142.1,.01,21,2,0)
identifies the component's record for look-ups, sorts, etc. and is also
"^DD",142.1,142.1,.01,21,3,0)
displayed in the component header, when the health summary is run.
"^DD",142.1,142.1,.01,"DEL",1,0)
I $S(+$G(DUZ(2))'>0:1,DUZ(2)=5000:0,(DA'<(DUZ(2)_"001")&(DA'>(DUZ(2)_"999"))):0,1:1) W !,$S(+$G(DUZ(2)):"ONLY Components Created at your site can be deleted",1:"DUZ(2) MUST equal your STATION NUMBER")
"^DD",142.1,142.1,.01,"DEL",2,0)
I '$D(GMCMP) W $C(7),!!,"You may only delete COMPONENTS using the GMTS IRM COMP ENTER/EDIT OPTION.",!
"^DD",142.1,142.1,.01,"DT")
2911212
"^DD",142.1,142.1,1,0)
PRINT ROUTINE^RFX^^0;2^K:$L(X)>17!($L(X)<3)!'(X?1U1.7UN1";"1U1.7UN) X I $D(X) D CHKRTN^GMTSDD
"^DD",142.1,142.1,1,3)
Component Print Routine in form LINETAG;ROUTINENAME (e.g., MAIN;GMTSLRC)
"^DD",142.1,142.1,1,21,0)
3^^3^3^2920928^
"^DD",142.1,142.1,1,21,1,0)
This is the entry point and routine to be called when the component is
"^DD",142.1,142.1,1,21,2,0)
run for a given health summary type.  Enter the line label, followed by
"^DD",142.1,142.1,1,21,3,0)
a semi-colon, followed by the routine name (e.g., MAIN;GMTSLRC).
"^DD",142.1,142.1,1,"DT")
2920109
"^DD",142.1,142.1,2,0)
TIME LIMITS APPLICABLE^S^Y:yes;^0;3^Q
"^DD",142.1,142.1,2,3)
Enter YES if time limits apply to this component.
"^DD",142.1,142.1,2,21,0)
^^3^3^2950728^^^^
"^DD",142.1,142.1,2,21,1,0)
This field is set up by the programmer to indicate whether the routine to
"^DD",142.1,142.1,2,21,2,0)
print this component will allow a time range to be applied to the data
"^DD",142.1,142.1,2,21,3,0)
to be displayed in the Health Summary.
"^DD",142.1,142.1,2,"DT")
2920109
"^DD",142.1,142.1,3,0)
ABBREVIATION^F^^0;4^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>4!($L(X)<2)!'(X?2.4UN) X
"^DD",142.1,142.1,3,1,0)
^.1
"^DD",142.1,142.1,3,1,1,0)
142.1^C
"^DD",142.1,142.1,3,1,1,1)
S ^GMT(142.1,"C",$E(X,1,30),DA)=""
"^DD",142.1,142.1,3,1,1,2)
K ^GMT(142.1,"C",$E(X,1,30),DA)
"^DD",142.1,142.1,3,1,1,"%D",0)
^^2^2^2920302^
"^DD",142.1,142.1,3,1,1,"%D",1,0)
This whole-file, REGULAR FileMan cross-reference is used in look-ups of
"^DD",142.1,142.1,3,1,1,"%D",2,0)
components by ABBREVIATION.
"^DD",142.1,142.1,3,1,2,0)
142.1^AM2^MUMPS
"^DD",142.1,142.1,3,1,2,1)
D REDO^GMTSDD
"^DD",142.1,142.1,3,1,2,2)
D REDO^GMTSDD
"^DD",142.1,142.1,3,1,2,"%D",0)
^^4^4^2950731^^
"^DD",142.1,142.1,3,1,2,"%D",1,0)
This MUMPS type cross-reference is used to rebuild the ad hoc and
"^DD",142.1,142.1,3,1,2,"%D",2,0)
navigational menus when the ABBREVIATION of a given component is modified.
"^DD",142.1,142.1,3,1,2,"%D",3,0)
The ^XUTL("XQORM", global is used by the Unwinder utility to generate the
"^DD",142.1,142.1,3,1,2,"%D",4,0)
ad hoc and navigational menus.
"^DD",142.1,142.1,3,3)
Answer must be 2-4 characters in length.
"^DD",142.1,142.1,3,21,0)
^^4^4^2950731^^^^
"^DD",142.1,142.1,3,21,1,0)
This 2-4 character abbreviation should uniquely identify the component,
"^DD",142.1,142.1,3,21,2,0)
since it is used both for lookup in the build health summary and ad hoc
"^DD",142.1,142.1,3,21,3,0)
health summary options, and for navigation between components when the
"^DD",142.1,142.1,3,21,4,0)
health summary is run interactively.
"^DD",142.1,142.1,3,"DT")
2920110
"^DD",142.1,142.1,3.5,0)
DESCRIPTION^142.35^^3.5;0
"^DD",142.1,142.1,4,0)
MAXIMUM OCCURRENCES APPLICABLE^S^Y:yes;^0;5^Q
"^DD",142.1,142.1,4,3)
Enter YES if maximum occurrence limits apply to this component.
"^DD",142.1,142.1,4,21,0)
^^3^3^2950728^^^^
"^DD",142.1,142.1,4,21,1,0)
This field is used by the programmer to indicate whether the routine which
"^DD",142.1,142.1,4,21,2,0)
prints this component is set up to handle maximum occurrence limits
"^DD",142.1,142.1,4,21,3,0)
on the Health Summary.
"^DD",142.1,142.1,4,"DT")
2920109
"^DD",142.1,142.1,5,0)
DISABLE FLAG^S^T:temporary;P:permanent;^0;6^Q
"^DD",142.1,142.1,5,1,0)
^.1
"^DD",142.1,142.1,5,1,1,0)
142.1^AM^MUMPS
"^DD",142.1,142.1,5,1,1,1)
D REDO^GMTSDD
"^DD",142.1,142.1,5,1,1,2)
D REDO^GMTSDD
"^DD",142.1,142.1,5,1,1,"%D",0)
^^4^4^2950731^
"^DD",142.1,142.1,5,1,1,"%D",1,0)
This MUMPS type cross-reference is used to rebuild the ad hoc and
"^DD",142.1,142.1,5,1,1,"%D",2,0)
navigational menus when a given component is DISABLED. The ^XUTL("XQORM",
"^DD",142.1,142.1,5,1,1,"%D",3,0)
global is used by the Unwinder utility to generate the ad hoc and
"^DD",142.1,142.1,5,1,1,"%D",4,0)
navigational menus.
"^DD",142.1,142.1,5,21,0)
^^10^10^2951017^^^^
"^DD",142.1,142.1,5,21,1,0)
IRM Staff or Clin Coordinator:  Use this field to disable (inactivate)
"^DD",142.1,142.1,5,21,2,0)
a health summary component (e.g., Lab Orders).  Setting this DISABLE
"^DD",142.1,142.1,5,21,3,0)
FLAG field to P(ermanent) causes a component to be non-selectable for use,
"^DD",142.1,142.1,5,21,4,0)
and prevents the component from being printed in any Health Summary
"^DD",142.1,142.1,5,21,5,0)
in which it is included.  Setting DISABLE FLAG to T(emporary) causes
"^DD",142.1,142.1,5,21,6,0)
a component to be non-selectable for use, but its OUT OF ORDER MESSAGE
"^DD",142.1,142.1,5,21,7,0)
will appear in any Health Summary in which it is included.
"^DD",142.1,142.1,5,21,8,0)
 
"^DD",142.1,142.1,5,21,9,0)
Use the at-sign (@) at the DISABLE FLAG: permanent (or temporary)// prompt,
"^DD",142.1,142.1,5,21,10,0)
to enable the component for use.
"^DD",142.1,142.1,5,"DT")
2911122
"^DD",142.1,142.1,6,0)
LOCK^FX^^0;7^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>30!($L(X)<1) X I $D(X) Q:$D(^DIC(19.1,"B",X))  K X W !,$C(7),"Lock name must match exactly with a key in the SECURITY KEY file."
"^DD",142.1,142.1,6,3)
Enter the name of the security key required to have access to this component.
"^DD",142.1,142.1,6,21,0)
^^2^2^2901017^^^^
"^DD",142.1,142.1,6,21,1,0)
To be used for components such as psychology test results
"^DD",142.1,142.1,6,21,2,0)
Restricts viewing access under Print Health Summary Menu
"^DD",142.1,142.1,6,"DT")
2950816
"^DD",142.1,142.1,7,0)
SELECTION FILE^142.17P^^1;0
"^DD",142.1,142.1,7,21,0)
^^10^10^2960808^
"^DD",142.1,142.1,7,21,1,0)
Enter the name or number of the file from which selection items (e.g., lab
"^DD",142.1,142.1,7,21,2,0)
tests (file 60), radiology procedures (file 71), vital signs (file
"^DD",142.1,142.1,7,21,3,0)
120.51), PCE reminder/maintenance item (file 811.9) may be chosen for this
"^DD",142.1,142.1,7,21,4,0)
component.
"^DD",142.1,142.1,7,21,5,0)
 
"^DD",142.1,142.1,7,21,6,0)
The file you identify here must have its "Application Group"
"^DD",142.1,142.1,7,21,7,0)
multiple include "GMTS" BEFORE it can be selected as a selection file.
"^DD",142.1,142.1,7,21,8,0)
 
"^DD",142.1,142.1,7,21,9,0)
Components which require selection of items should have its component
"^DD",142.1,142.1,7,21,10,0)
name include the word "SELECTED".
"^DD",142.1,142.1,8,0)
OUT OF ORDER MESSAGE^F^^0;8^K:$L(X)>78!($L(X)<3) X
"^DD",142.1,142.1,8,3)
Answer must be 3-78 characters in length.
"^DD",142.1,142.1,8,21,0)
^^3^3^2910117^
"^DD",142.1,142.1,8,21,1,0)
This field is used when a health summary component is temporarily disabled.
"^DD",142.1,142.1,8,21,2,0)
If it is filled in, the message here will be displayed whenever the user
"^DD",142.1,142.1,8,21,3,0)
attempts to select the component
"^DD",142.1,142.1,8,"DT")
2910117
"^DD",142.1,142.1,9,0)
DEFAULT HEADER NAME^F^^0;9^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>20!($L(X)<2) X
"^DD",142.1,142.1,9,1,0)
^.1
"^DD",142.1,142.1,9,1,1,0)
142.1^AM9^MUMPS
"^DD",142.1,142.1,9,1,1,1)
D REDO^GMTSDD
"^DD",142.1,142.1,9,1,1,2)
D REDO^GMTSDD
"^DD",142.1,142.1,9,1,1,"%D",0)
^^4^4^2950731^
"^DD",142.1,142.1,9,1,1,"%D",1,0)
This MUMPS type cross-reference is used to recompile the ad hoc and
"^DD",142.1,142.1,9,1,1,"%D",2,0)
navigational menus when the DEFAULT HEADER NAME of a given component is
"^DD",142.1,142.1,9,1,1,"%D",3,0)
modified. The ^XUTL("XQORM", global is used by the Unwinder utility to
"^DD",142.1,142.1,9,1,1,"%D",4,0)
generate the ad hoc and navigational menus.
"^DD",142.1,142.1,9,1,1,"DT")
2911122
"^DD",142.1,142.1,9,1,2,0)
142.1^D^MUMPS
"^DD",142.1,142.1,9,1,2,1)
S ^GMT(142.1,"D",$$UP^XLFSTR(X),DA)=""
"^DD",142.1,142.1,9,1,2,2)
K ^GMT(142.1,"D",$$UP^XLFSTR(X),DA)
"^DD",142.1,142.1,9,1,2,"%D",0)
^^2^2^2951016^
"^DD",142.1,142.1,9,1,2,"%D",1,0)
This MUMPS type cross-reference is used in look-ups of components
"^DD",142.1,142.1,9,1,2,"%D",2,0)
by DEFAULT HEADER NAME.
"^DD",142.1,142.1,9,1,2,"DT")
2951016
"^DD",142.1,142.1,9,3)
Answer must be 2-20 characters in length.
"^DD",142.1,142.1,9,21,0)
^^5^5^2920928^^^^
"^DD",142.1,142.1,9,21,1,0)
The DEFAULT HEADER NAME will appear in menus and component headers in
"^DD",142.1,142.1,9,21,2,0)
preference to the COMPONENT NAME, but NOT in preference to the local
"^DD",142.1,142.1,9,21,3,0)
HEADER NAME, if it is defined for that component within a given Health 
"^DD",142.1,142.1,9,21,4,0)
Summary Type.  If defined the local HEADER NAME will have precedence
"^DD",142.1,142.1,9,21,5,0)
within a given Health Summary Type.
"^DD",142.1,142.1,9,"DT")
2951016
"^DD",142.1,142.1,10,0)
HOSPITAL LOCATION APPLICABLE^S^Y:yes;^0;10^Q
"^DD",142.1,142.1,10,3)
Enter YES if Hospital Location abbreviation display applies to this component.
"^DD",142.1,142.1,10,21,0)
^^3^3^2950731^
"^DD",142.1,142.1,10,21,1,0)
This field is used by the programmer to indicate whether the routine which
"^DD",142.1,142.1,10,21,2,0)
prints this component is set up to handle the display of the hospital
"^DD",142.1,142.1,10,21,3,0)
location abbreviation on the Health Summary.
"^DD",142.1,142.1,10,21,4,0)
file related components (PCE related components).
"^DD",142.1,142.1,10,"DT")
2940418
"^DD",142.1,142.1,11,0)
ICD TEXT APPLICABLE^S^Y:yes;^0;11^Q
"^DD",142.1,142.1,11,3)
Enter YES if ICD Text display applies to this component.
"^DD",142.1,142.1,11,21,0)
^^3^3^2950731^
"^DD",142.1,142.1,11,21,1,0)
This field is used by the programmer to indicate whether the routine which
"^DD",142.1,142.1,11,21,2,0)
prints this component is set up to handle the display of standardized ICD
"^DD",142.1,142.1,11,21,3,0)
text on the Health Summary.
"^DD",142.1,142.1,11,21,4,0)
(PCE related components).
"^DD",142.1,142.1,11,"DT")
2940418
"^DD",142.1,142.1,12,0)
PROVIDER NARRATIVE APPLICABLE^S^Y:yes;^0;12^Q
"^DD",142.1,142.1,12,3)
Enter YES if Provider Narrative display applies to this component.
"^DD",142.1,142.1,12,21,0)
^^3^3^2950731^
"^DD",142.1,142.1,12,21,1,0)
This field is used by the programmer to indicate whether the routine which
"^DD",142.1,142.1,12,21,2,0)
prints this component is set up to handle the display of the provider
"^DD",142.1,142.1,12,21,3,0)
narrative on the Health Summary.
"^DD",142.1,142.1,12,21,4,0)
(PCE related components).
"^DD",142.1,142.1,12,"DT")
2940418
"^DD",142.1,142.17,0)
SELECTION FILE SUB-FIELD^^1^2
"^DD",142.1,142.17,0,"DT")
2910103
"^DD",142.1,142.17,0,"IX","B",142.17,.01)

"^DD",142.1,142.17,0,"NM","SELECTION FILE")

"^DD",142.1,142.17,0,"UP")
142.1
"^DD",142.1,142.17,.01,0)
SELECTION FILE^M*P1'^DIC(^0;1^S DIC("S")="I $D(^DIC(""AC"",""GMTS"",+Y))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",142.1,142.17,.01,1,0)
^.1
"^DD",142.1,142.17,.01,1,1,0)
142.17^B
"^DD",142.1,142.17,.01,1,1,1)
S ^GMT(142.1,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",142.1,142.17,.01,1,1,2)
K ^GMT(142.1,DA(1),1,"B",$E(X,1,30),DA)
"^DD",142.1,142.17,.01,1,1,"%D",0)
^^2^2^2920302^
"^DD",142.1,142.17,.01,1,1,"%D",1,0)
This REGULAR FileMan type cross-reference is used during look-ups of
"^DD",142.1,142.17,.01,1,1,"%D",2,0)
selection items in the Create/Modify and parameter edit dialogues.
"^DD",142.1,142.17,.01,12)
Only files that belong to the "GMTS" application group are allowed.
"^DD",142.1,142.17,.01,12.1)
S DIC("S")="I $D(^DIC(""AC"",""GMTS"",+Y))"
"^DD",142.1,142.17,.01,21,0)
^^3^3^2940714^^^^
"^DD",142.1,142.17,.01,21,1,0)
Enter the names or numbers of the files from which selection items
"^DD",142.1,142.17,.01,21,2,0)
(e.g., lab tests (file 60), radiology procedures (file 71), or vital 
"^DD",142.1,142.17,.01,21,3,0)
signs (file 120.51)) may be chosen for this component.
"^DD",142.1,142.17,.01,"DT")
2910103
"^DD",142.1,142.17,1,0)
SELECTION COUNT LIMIT^NJ2,0^^0;2^K:+X'=X!(X>99)!(X<1)!(X?.E1"."1N.N) X
"^DD",142.1,142.17,1,3)
Type a Number between 1 and 99, 0 Decimal Digits
"^DD",142.1,142.17,1,21,0)
^^4^4^2901017^
"^DD",142.1,142.17,1,21,1,0)
Enter the MAXIMUM number of selection items which may be selected for
"^DD",142.1,142.17,1,21,2,0)
any single appearance of this component in a given health summary type.
"^DD",142.1,142.17,1,21,3,0)
That is, a value of 7 will allow the user to select as many as seven
"^DD",142.1,142.17,1,21,4,0)
items, etc.
"^DD",142.1,142.17,1,"DT")
2900521
"^DD",142.1,142.35,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",142.1,142.35,0,"DT")
2910103
"^DD",142.1,142.35,0,"NM","DESCRIPTION")

"^DD",142.1,142.35,0,"UP")
142.1
"^DD",142.1,142.35,.01,0)
DESCRIPTION^W^^0;1^Q
"^DD",142.1,142.35,.01,"DT")
2910103
"^DIC",142.1,142.1,0)
HEALTH SUMMARY COMPONENT^142.1I
"^DIC",142.1,142.1,0,"GL")
^GMT(142.1,
"^DIC",142.1,142.1,"%D",0)
^^5^5^2950901^^^^
"^DIC",142.1,142.1,"%D",1,0)
This file contains all components which may be used to create a Health
"^DIC",142.1,142.1,"%D",2,0)
Summary. These entries are typically defined by a programmer. Components
"^DIC",142.1,142.1,"%D",3,0)
which represent packages which are not in use may be disabled, so they
"^DIC",142.1,142.1,"%D",4,0)
will not be selected by users to build new types of Health Summary
"^DIC",142.1,142.1,"%D",5,0)
reports.
"^DIC",142.1,"B","HEALTH SUMMARY COMPONENT",142.1)

**END**
**END**
