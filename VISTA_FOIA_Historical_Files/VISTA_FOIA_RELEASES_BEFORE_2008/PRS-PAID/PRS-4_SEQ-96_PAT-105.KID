Released PRS*4*105 SEQ #96
Extracted from mail message
**KIDS**:PRS*4.0*105^

**INSTALL NAME**
PRS*4.0*105
"BLD",6550,0)
PRS*4.0*105^PAID^0^3060823^y
"BLD",6550,1,0)
^^6^6^3060823^
"BLD",6550,1,1,0)
This patch addresses three issues:
"BLD",6550,1,2,0)
1. The VCS Allotments field in files #450 and #459 are not
"BLD",6550,1,3,0)
   formatted correctly.
"BLD",6550,1,4,0)
2. Fields 758, 759, 760, 761 in file #450 are not available to
"BLD",6550,1,5,0)
   print using the PRSD 04 PRINT EMPLOYEE FILES option.
"BLD",6550,1,6,0)
3. The description of field 7 of file #458.5 has a typographical error.
"BLD",6550,4,0)
^9.64PA^458.5^2
"BLD",6550,4,450,0)
450
"BLD",6550,4,450,2,0)
^9.641^450^1
"BLD",6550,4,450,2,450,0)
PAID EMPLOYEE  (File-top level)
"BLD",6550,4,450,2,450,1,0)
^9.6411^761^4
"BLD",6550,4,450,2,450,1,758,0)
HLTH CARE FLEX SPEND ACCT YTD
"BLD",6550,4,450,2,450,1,759,0)
HLTH CARE FLEX SPEND ACCT CPPD
"BLD",6550,4,450,2,450,1,760,0)
DPNT CARE FLEX SPEND ACCT YTD
"BLD",6550,4,450,2,450,1,761,0)
DPNT CARE FLEX SPEND ACCT CPPD
"BLD",6550,4,450,222)
y^y^p^^^^n^^n
"BLD",6550,4,450,224)

"BLD",6550,4,458.5,0)
458.5
"BLD",6550,4,458.5,2,0)
^9.641^458.5^1
"BLD",6550,4,458.5,2,458.5,0)
PRIOR PP EXCEPTIONS  (File-top level)
"BLD",6550,4,458.5,2,458.5,1,0)
^9.6411^7^1
"BLD",6550,4,458.5,2,458.5,1,7,0)
DATE/TIME CLEARED
"BLD",6550,4,458.5,222)
y^n^p^^^^n^^n
"BLD",6550,4,458.5,224)

"BLD",6550,4,"APDD",450,450)

"BLD",6550,4,"APDD",450,450,758)

"BLD",6550,4,"APDD",450,450,759)

"BLD",6550,4,"APDD",450,450,760)

"BLD",6550,4,"APDD",450,450,761)

"BLD",6550,4,"APDD",458.5,458.5)

"BLD",6550,4,"APDD",458.5,458.5,7)

"BLD",6550,4,"B",450,450)

"BLD",6550,4,"B",458.5,458.5)

"BLD",6550,"ABPKG")
n
"BLD",6550,"INID")
^n
"BLD",6550,"INIT")
READ^PRSXP105
"BLD",6550,"KRN",0)
^9.67PA^8989.52^19
"BLD",6550,"KRN",.4,0)
.4
"BLD",6550,"KRN",.401,0)
.401
"BLD",6550,"KRN",.402,0)
.402
"BLD",6550,"KRN",.403,0)
.403
"BLD",6550,"KRN",.5,0)
.5
"BLD",6550,"KRN",.84,0)
.84
"BLD",6550,"KRN",3.6,0)
3.6
"BLD",6550,"KRN",3.8,0)
3.8
"BLD",6550,"KRN",9.2,0)
9.2
"BLD",6550,"KRN",9.8,0)
9.8
"BLD",6550,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",6550,"KRN",9.8,"NM",1,0)
PRSDPR09^^0^B26782601
"BLD",6550,"KRN",9.8,"NM",2,0)
PRSXP105^^0^B51882901
"BLD",6550,"KRN",9.8,"NM","B","PRSDPR09",1)

"BLD",6550,"KRN",9.8,"NM","B","PRSXP105",2)

"BLD",6550,"KRN",19,0)
19
"BLD",6550,"KRN",19.1,0)
19.1
"BLD",6550,"KRN",101,0)
101
"BLD",6550,"KRN",409.61,0)
409.61
"BLD",6550,"KRN",771,0)
771
"BLD",6550,"KRN",870,0)
870
"BLD",6550,"KRN",8989.51,0)
8989.51
"BLD",6550,"KRN",8989.52,0)
8989.52
"BLD",6550,"KRN",8994,0)
8994
"BLD",6550,"KRN","B",.4,.4)

"BLD",6550,"KRN","B",.401,.401)

"BLD",6550,"KRN","B",.402,.402)

"BLD",6550,"KRN","B",.403,.403)

"BLD",6550,"KRN","B",.5,.5)

"BLD",6550,"KRN","B",.84,.84)

"BLD",6550,"KRN","B",3.6,3.6)

"BLD",6550,"KRN","B",3.8,3.8)

"BLD",6550,"KRN","B",9.2,9.2)

"BLD",6550,"KRN","B",9.8,9.8)

"BLD",6550,"KRN","B",19,19)

"BLD",6550,"KRN","B",19.1,19.1)

"BLD",6550,"KRN","B",101,101)

"BLD",6550,"KRN","B",409.61,409.61)

"BLD",6550,"KRN","B",771,771)

"BLD",6550,"KRN","B",870,870)

"BLD",6550,"KRN","B",8989.51,8989.51)

"BLD",6550,"KRN","B",8989.52,8989.52)

"BLD",6550,"KRN","B",8994,8994)

"BLD",6550,"QUES",0)
^9.62^^
"BLD",6550,"REQB",0)
^9.611^1^1
"BLD",6550,"REQB",1,0)
PRS*4.0*86^2
"BLD",6550,"REQB","B","PRS*4.0*86",1)

"FIA",450)
PAID EMPLOYEE
"FIA",450,0)
^PRSPC(
"FIA",450,0,0)
450I
"FIA",450,0,1)
y^y^p^^^^n^^n
"FIA",450,0,10)

"FIA",450,0,11)

"FIA",450,0,"RLRO")

"FIA",450,0,"VR")
4.0^PRS
"FIA",450,450)
1
"FIA",450,450,758)

"FIA",450,450,759)

"FIA",450,450,760)

"FIA",450,450,761)

"FIA",458.5)
PRIOR PP EXCEPTIONS
"FIA",458.5,0)
^PRST(458.5,
"FIA",458.5,0,0)
458.5
"FIA",458.5,0,1)
y^n^p^^^^n^^n
"FIA",458.5,0,10)

"FIA",458.5,0,11)

"FIA",458.5,0,"RLRO")

"FIA",458.5,0,"VR")
4.0^PRS
"FIA",458.5,458.5)
1
"FIA",458.5,458.5,7)

"INIT")
READ^PRSXP105
"MBREQ")
0
"PKG",408,-1)
1^1
"PKG",408,0)
PAID^PRS^PAID
"PKG",408,20,0)
^9.402P^^
"PKG",408,22,0)
^9.49I^1^1
"PKG",408,22,1,0)
4.0^2950912^2960130
"PKG",408,22,1,"PAH",1,0)
105^3060823
"PKG",408,22,1,"PAH",1,1,0)
^^6^6^3060823
"PKG",408,22,1,"PAH",1,1,1,0)
This patch addresses three issues:
"PKG",408,22,1,"PAH",1,1,2,0)
1. The VCS Allotments field in files #450 and #459 are not
"PKG",408,22,1,"PAH",1,1,3,0)
   formatted correctly.
"PKG",408,22,1,"PAH",1,1,4,0)
2. Fields 758, 759, 760, 761 in file #450 are not available to
"PKG",408,22,1,"PAH",1,1,5,0)
   print using the PRSD 04 PRINT EMPLOYEE FILES option.
"PKG",408,22,1,"PAH",1,1,6,0)
3. The description of field 7 of file #458.5 has a typographical error.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","PRSDPR09")
0^1^B26782601^B26666266
"RTN","PRSDPR09",1,0)
PRSDPR09 ;HISC/MGD-PAID PAYRUN DOWNLOAD RECORD 9 LAYOUT ;12/15/2003
"RTN","PRSDPR09",2,0)
 ;;4.0;PAID;**78,82,86,105**;Sep 21, 1995
"RTN","PRSDPR09",3,0)
 F CC=1:1 S GRP=$T(@CC) Q:GRP=""  S GRPVAL=$P(RCD,":",CC) I GRPVAL'="" S GNUM=$P(GRP,";",4),LTH=$P(GRP,";",5),PIC=$P(GRP,";",6) D:PIC=9 PIC9^PRSDUTIL F EE=1:1:GNUM S FLD=$T(@CC+EE) D EPTSET^PRSDSET
"RTN","PRSDPR09",4,0)
 Q
"RTN","PRSDPR09",5,0)
RECORD ;;Record 9;45
"RTN","PRSDPR09",6,0)
1 ;;GRP 1;1;5;9
"RTN","PRSDPR09",7,0)
 ;;ASLCBCPPD;CARE/BEREAVE LEAVE USED CPPD;1;5;SICK;9;D SIGN^PRSDUTIL,DD^PRSDUTIL;3;7;710;A
"RTN","PRSDPR09",8,0)
2 ;;GRP 2;1;7;9
"RTN","PRSDPR09",9,0)
 ;;SLCBLYTD;CARE/BEREAVE LEAVE USED LYTD;1;7;SICK;10;D SIGN^PRSDUTIL,DDD^PRSDUTIL;;;711
"RTN","PRSDPR09",10,0)
3 ;;GRP 3;1;5;9
"RTN","PRSDPR09",11,0)
 ;;ASLADCPPD;ADOPTION LEAVE USED CPPD;1;5;SICK;11;D SIGN^PRSDUTIL,DD^PRSDUTIL;3;8;712;A
"RTN","PRSDPR09",12,0)
4 ;;GRP 4;1;7;9
"RTN","PRSDPR09",13,0)
 ;;SLADLYTD;ADOPTION LEAVE USED LYTD;1;7;SICK;12;D SIGN^PRSDUTIL,DDD^PRSDUTIL;;;713
"RTN","PRSDPR09",14,0)
5 ;;GRP 5;1;5;9
"RTN","PRSDPR09",15,0)
 ;;AOSLCPPD;OTHER SICK LEAVE USED CPPD;1;5;SICK;13;D SIGN^PRSDUTIL,DD^PRSDUTIL;3;9;714;A
"RTN","PRSDPR09",16,0)
6 ;;GRP 6;1;7;9
"RTN","PRSDPR09",17,0)
 ;;OSLLYTD;OTHER SICK LEAVE USED LYTD;1;7;SICK;14;D SIGN^PRSDUTIL,DDD^PRSDUTIL;;;715
"RTN","PRSDPR09",18,0)
7 ;;GRP 7;1;5;9
"RTN","PRSDPR09",19,0)
 ;;ADLCPPD;DONOR LEAVE USED CPPD;1;5;SICK;15;D SIGN^PRSDUTIL,DD^PRSDUTIL;3;10;716;A
"RTN","PRSDPR09",20,0)
8 ;;GRP 8;1;7;9
"RTN","PRSDPR09",21,0)
 ;;DLLYTD;DONOR LEAVE USED LYTD;1;7;SICK;16;D SIGN^PRSDUTIL,DDD^PRSDUTIL;;;717
"RTN","PRSDPR09",22,0)
9 ;;GRP 9;1;8;X
"RTN","PRSDPR09",23,0)
 ;;MXWIGDTE;WGI DUE DATE;1;8;0;51;D DATE^PRSDUTIL;;;600
"RTN","PRSDPR09",24,0)
10 ;;GRP 10;1;1;X
"RTN","PRSDPR09",25,0)
 ;;HAMIL-IND;MILITARY LEAVE INDICATOR;1;1;MILITARY;3;D SIGN^PRSDUTIL;;;507.1
"RTN","PRSDPR09",26,0)
11 ;;GRP 11;1;5;9
"RTN","PRSDPR09",27,0)
 ;;HAMILUSED;MILITARY LEAVE USED CPPD;1;5;MILITARY;4;D SIGN^PRSDUTIL,DD^PRSDUTIL;9;1;507.2
"RTN","PRSDPR09",28,0)
12 ;;GRP 12;1;1;
"RTN","PRSDPR09",29,0)
 ;;MIB1TYPE;SAVINGS BOND-1 TYPE;1;1;BOND1;16;;2;25;718
"RTN","PRSDPR09",30,0)
13 ;;GRP 13;1;1;
"RTN","PRSDPR09",31,0)
 ;;MIB2TYPE;SAVINGS BOND-2 TYPE;1;1;BOND2;15;;2;26;719
"RTN","PRSDPR09",32,0)
14 ;;GRP 14;1;7;9
"RTN","PRSDPR09",33,0)
 ;;SBONDS-DED-BAL-3;SAVINGS BOND-3 DED BALANCE;1;7;BOND3;8;D SIGN^PRSDUTIL,DD^PRSDUTIL;9;3;727;O
"RTN","PRSDPR09",34,0)
15 ;;GRP 15;1;7;9
"RTN","PRSDPR09",35,0)
 ;;SBONDS-DED-PAY-PERIOD-3;SAVINGS BOND-3 DEDUCTION;1;7;BOND3;9;D SIGN^PRSDUTIL,DD^PRSDUTIL;;;728
"RTN","PRSDPR09",36,0)
16 ;;GRP 16;1;1;
"RTN","PRSDPR09",37,0)
 ;;SBONDS-TYPE-3;SAVINGS BOND-3 TYPE;1;1;BOND3;15;;9;2;734
"RTN","PRSDPR09",38,0)
17 ;;GRP 17;1;7;9
"RTN","PRSDPR09",39,0)
 ;;SBONDS-DED-BAL-4;SAVINGS BOND-4 DED BALANCE;1;7;BOND4;8;D SIGN^PRSDUTIL,DD^PRSDUTIL;9;5;742;O
"RTN","PRSDPR09",40,0)
18 ;;GRP 18;1;7;9
"RTN","PRSDPR09",41,0)
 ;;BONDS-DED-PAY-PERIOD-4;SAVINGS BOND-4 DEDUCTION;1;7;BOND4;9;D SIGN^PRSDUTIL,DD^PRSDUTIL;;;743
"RTN","PRSDPR09",42,0)
19 ;;GRP 19;1;1;
"RTN","PRSDPR09",43,0)
 ;;SBONDS-TYPE-4;SAVINGS BOND-4 TYPE;1;1;BOND4;15;;9;4;749
"RTN","PRSDPR09",44,0)
20 ;;GRP 20;1;9;
"RTN","PRSDPR09",45,0)
 ;;LONG-TERM-CARE-PREM;FLTCIP CPPD;1;9;FLTCIP;2;D SIGN^PRSDUTIL,DD^PRSDUTIL;9;7;751
"RTN","PRSDPR09",46,0)
21 ;;GRP 21;1;1;
"RTN","PRSDPR09",47,0)
 ;;LONG-TERM-CARE-IND;FLTCIP INDICATOR;1;1;FLTCIP;5;;9;6;754
"RTN","PRSDPR09",48,0)
22 ;;GRP 22;1;6;
"RTN","PRSDPR09",49,0)
 ;;VOL-ALLOT-AMT-3;VOLUNTARY ALLOTMENTS-3 AMT;1;6;VALLOT;6;D SIGN^PRSDUTIL;9;8;439.1
"RTN","PRSDPR09",50,0)
23 ;;GRP 23;1;6;
"RTN","PRSDPR09",51,0)
 ;;VOL-ALLOT-AMT-4;VOLUNTARY ALLOTMENTS-4 AMT;1;6;VALLOT;8;D SIGN^PRSDUTIL;9;9;439.3
"RTN","PRSDPR09",52,0)
24 ;;GRP 24;1;6;
"RTN","PRSDPR09",53,0)
 ;;VCS-ALLOT-AMT;VCS ALLOTMENT AMT;1;6;VCS;22;D SIGN^PRSDUTIL,DD^PRSDUTIL;9;10;586.1
"RTN","PRSDPR09",54,0)
25 ;;GRP 25;1;9;
"RTN","PRSDPR09",55,0)
 ;;AWARD-TRAVEL-SAVINGS;TRAVEL SAVINGS AWARD;1;9;AWARDS;5;D SIGN^PRSDUTIL,DD^PRSDUTIL;9;11;587.2
"RTN","PRSDPR09",56,0)
26 ;;GRP 26;1;4;
"RTN","PRSDPR09",57,0)
 ;;LD-CODE1;LABOR DIST CODE-1;1;4;LD;2;S MULT=1,MFLD=1;LD;2;450.0757-1
"RTN","PRSDPR09",58,0)
27 ;;GRP 27;1;3;
"RTN","PRSDPR09",59,0)
 ;;LD-PERCENT1;LABOR DIST CODE-1 PCT;1;3;LD;3;S MULT=1,MFLD=2 D SIGN^PRSDUTIL,DD^PRSDUTIL;LD;3;450.0757-2
"RTN","PRSDPR09",60,0)
28 ;;GRP 28;1;4
"RTN","PRSDPR09",61,0)
 ;;LD-MXORGCOD;LABOR DIST CODE-1 COST CENTER;1;4;LD;4;S MULT=1,MFLD=3;LD;4;450.0757-3
"RTN","PRSDPR09",62,0)
29 ;;GRP 29;1;3
"RTN","PRSDPR09",63,0)
 ;;LD-MXFUNDCP;LABOR DIST CODE-1 FUND CTRL PNT;1;3;LD;5;S MULT=1,MFLD=4;LD;5;450.0757-4
"RTN","PRSDPR09",64,0)
30 ;;GRP 30;1;4
"RTN","PRSDPR09",65,0)
 ;;LD-CODE2;LABOR DIST CODE-2;1;4;LD;2;S MULT=2,MFLD=1;LD;2;450.0757-1
"RTN","PRSDPR09",66,0)
31 ;;GRP 31;1;3
"RTN","PRSDPR09",67,0)
 ;;LD-PERCENT2;LABOR DIST CODE-2 PCT;1;3;LD;3;S MULT=2,MFLD=2 D SIGN^PRSDUTIL,DD^PRSDUTIL;LD;3;450.0757-2
"RTN","PRSDPR09",68,0)
32 ;;GRP 32;1;4
"RTN","PRSDPR09",69,0)
 ;;LD-MHORGCOD2;LABOR DIST CODE-2 COST CENTER;1;4;LD;4;S MULT=2,MFLD=3;LD;4;450.0757-3
"RTN","PRSDPR09",70,0)
33 ;;GRP 33;1;3
"RTN","PRSDPR09",71,0)
 ;;LD-MHFUNDCP2;LABOR DIST CODE-2 FUND CTRL PNT;1;3;LD;5;S MULT=2,MFLD=4;LD;5;450.0757-4
"RTN","PRSDPR09",72,0)
34 ;;GRP 34;1;4
"RTN","PRSDPR09",73,0)
 ;;LD-CODE3;LABOR DIST CODE-3;1;4;LD;2;S MULT=3,MFLD=1;LD;2;450.0757-1
"RTN","PRSDPR09",74,0)
35 ;;GRP 35;1;3
"RTN","PRSDPR09",75,0)
 ;;LD-PERCENT3;LABOR DIST CODE-3 PCT;1;3;LD;3;S MULT=3,MFLD=2 D SIGN^PRSDUTIL,DD^PRSDUTIL;LD;3;450.0757-2
"RTN","PRSDPR09",76,0)
36 ;;GRP 36;1;4
"RTN","PRSDPR09",77,0)
 ;;LD-MHORGCOD3;LABOR DIST CODE-3 COST CENTER;1;4;LD;4;S MULT=3,MFLD=3;LD;4;450.0757-3
"RTN","PRSDPR09",78,0)
37 ;;GRP 37;1;3
"RTN","PRSDPR09",79,0)
 ;;LD-MHFUNDCP3;LABOR DIST CODE-3 FUND CTRL PNT;1;3;LD;5;S MULT=3,MFLD=4;LD;5;450.0757-4
"RTN","PRSDPR09",80,0)
38 ;;GRP 38;1;4
"RTN","PRSDPR09",81,0)
 ;;LD-CODE4;LABOR DIST CODE-4;1;4;LD;2;S MULT=4,MFLD=1;LD;2;450.0757-1
"RTN","PRSDPR09",82,0)
39 ;;GRP 39;1;3
"RTN","PRSDPR09",83,0)
 ;;LD-PERCENT4;LABOR DIST CODE-4 PCT;1;3;LD;3;S MULT=4,MFLD=2 D SIGN^PRSDUTIL,DD^PRSDUTIL;LD;3;450.0757-2
"RTN","PRSDPR09",84,0)
40 ;;GRP 40;1;4
"RTN","PRSDPR09",85,0)
 ;;LD-MHORGCOD4;LABOR DIST CODE-4 COST CENTER;1;4;LD;4;S MULT=4,MFLD=3;LD;4;450.0757-3
"RTN","PRSDPR09",86,0)
41 ;;GRP 41;1;3
"RTN","PRSDPR09",87,0)
 ;;LD-MHFUNDCP4;LABOR DIST CODE-4 FUND CTRL PNT;1;3;LD;5;S MULT=4,MFLD=4;LD;5;450.0757-4
"RTN","PRSDPR09",88,0)
42 ;;GRP 42;1;6
"RTN","PRSDPR09",89,0)
 ;;FSA-HEALTH-CARE;HLTH CARE FLX SPEND ACCT CPPD;1;6;FSA;2;D SIGN^PRSDUTIL,DD^PRSDUTIL;9;13;759
"RTN","PRSDPR09",90,0)
43 ;;GRP 43;1;6
"RTN","PRSDPR09",91,0)
 ;;FSA-HEALTH-CARE-YTD;HLTH CARE FLX SPEND ACCT YTD;1;6;FSA;1;D SIGN^PRSDUTIL,DD^PRSDUTIL;9;12;758
"RTN","PRSDPR09",92,0)
44 ;;GRP 44;1;1
"RTN","PRSDPR09",93,0)
 ;;MFCOURT-ORDERED-FEHB;FED EMP HLTH BENE CRT ORD IND;1;1;FED;12;;9;16;752
"RTN","PRSDPR09",94,0)
45 ;;GRP 45;1;1
"RTN","PRSDPR09",95,0)
 ;;MX-EANDL-PRINT-IND;EARNINGS & LEAVE PRT SELECTION;1;1;ADD;11;;9;17;753
"RTN","PRSDPR09",96,0)
 Q
"RTN","PRSXP105")
0^2^B51882901^n/a
"RTN","PRSXP105",1,0)
PRSXP105 ;WCIOFO/RRG-CORRECT VCS ALLOTMENT ;11/18/2005
"RTN","PRSXP105",2,0)
 ;;4.0;PAID;**105**;Sep 21, 1995
"RTN","PRSXP105",3,0)
 ;
"RTN","PRSXP105",4,0)
 ;
"RTN","PRSXP105",5,0)
 Q
"RTN","PRSXP105",6,0)
 ;
"RTN","PRSXP105",7,0)
 ;
"RTN","PRSXP105",8,0)
READ ; This module will run as a post install for *105
"RTN","PRSXP105",9,0)
 ; It will update the read access value and the 
"RTN","PRSXP105",10,0)
 ; 'Date Last Updated' for 4 fields in #450
"RTN","PRSXP105",11,0)
 ; 
"RTN","PRSXP105",12,0)
 F I=758,759,760,761 S ^DD(450,I,8)="FP",^DD(450,I,"DT")=DT
"RTN","PRSXP105",13,0)
 Q
"RTN","PRSXP105",14,0)
 ;
"RTN","PRSXP105",15,0)
 ;
"RTN","PRSXP105",16,0)
 ; The remainder of this program will correct the formatting
"RTN","PRSXP105",17,0)
 ;  for the following fields:
"RTN","PRSXP105",18,0)
 ;
"RTN","PRSXP105",19,0)
 ; PAID EMPLOYEE (#450)
"RTN","PRSXP105",20,0)
 ;   #586.1 - VCS ALLOTMENT AMT
"RTN","PRSXP105",21,0)
 ;
"RTN","PRSXP105",22,0)
 ; PAID PAYRUN DATA (#459)
"RTN","PRSXP105",23,0)
 ;   #171 - VCS ALLOTMENT AMT
"RTN","PRSXP105",24,0)
 ;
"RTN","PRSXP105",25,0)
DEVICE ;Ask device or queue
"RTN","PRSXP105",26,0)
 ;
"RTN","PRSXP105",27,0)
 ;
"RTN","PRSXP105",28,0)
 W ! K IOP,%ZIS
"RTN","PRSXP105",29,0)
 S %ZIS("A")="Select Device: ",%ZIS="MQ"
"RTN","PRSXP105",30,0)
 D ^%ZIS K %ZIS,IOP
"RTN","PRSXP105",31,0)
 Q:POP
"RTN","PRSXP105",32,0)
 ;
"RTN","PRSXP105",33,0)
 I $D(IO("Q")) D  Q
"RTN","PRSXP105",34,0)
 . S PRSAPGM="START^PRSXP105",XQY0="CORRECT VCS ALLOTTMENT FIELDS",PRSALST=""
"RTN","PRSXP105",35,0)
 . D QUE^PRSAUTL
"RTN","PRSXP105",36,0)
 . K PRSAPGM,XQY0,PRSALST,POP
"RTN","PRSXP105",37,0)
 ;
"RTN","PRSXP105",38,0)
 ;
"RTN","PRSXP105",39,0)
START ; Main Driver
"RTN","PRSXP105",40,0)
 ;
"RTN","PRSXP105",41,0)
 D 450
"RTN","PRSXP105",42,0)
 D 459
"RTN","PRSXP105",43,0)
 I $D(^TMP($J,"LOCKED","P105")) D WARN
"RTN","PRSXP105",44,0)
 Q
"RTN","PRSXP105",45,0)
 ;
"RTN","PRSXP105",46,0)
450 ; Correct data in the PAID EMPLOYEE (#450) file
"RTN","PRSXP105",47,0)
 ;
"RTN","PRSXP105",48,0)
 N CNT,DA,DATA,DIE,DR,EMP,LCNT,LINE,LINE2,MESS,MSG,MSG1,LKCNT
"RTN","PRSXP105",49,0)
 N NAME,PVAL,STANUM,STATUS,TIME,TNAME,U,UCIX,FILE
"RTN","PRSXP105",50,0)
 S U="^",LCNT=1,$P(LINE,"-",80)="",$P(LINE2,"=",80)="",STATUS="OK"
"RTN","PRSXP105",51,0)
 K ^TMP($J)
"RTN","PRSXP105",52,0)
 S MESS="PAID EMPLOYEE (#450)",MSG1=" beginning at "
"RTN","PRSXP105",53,0)
 D TIME
"RTN","PRSXP105",54,0)
 D STAUCI
"RTN","PRSXP105",55,0)
 S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",56,0)
 S MESS="Correcting the VCS ALLOTMENT AMT (#586.1) field."
"RTN","PRSXP105",57,0)
 S ^TMP($J,"P105",LCNT)=MESS,LCNT=LCNT+1
"RTN","PRSXP105",58,0)
 S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",59,0)
 S ^TMP($J,"P105",LCNT)=LINE2,LCNT=LCNT+1
"RTN","PRSXP105",60,0)
 S MESS="                            CURRENT    CORRECTED"
"RTN","PRSXP105",61,0)
 S ^TMP($J,"P105",LCNT)=MESS,LCNT=LCNT+1
"RTN","PRSXP105",62,0)
 S MESS="PAID EMPLOYEE (#450)          VALUE    VALUE"
"RTN","PRSXP105",63,0)
 S ^TMP($J,"P105",LCNT)=MESS,LCNT=LCNT+1
"RTN","PRSXP105",64,0)
 S ^TMP($J,"P105",LCNT)=LINE,LCNT=LCNT+1
"RTN","PRSXP105",65,0)
 ;
"RTN","PRSXP105",66,0)
 ;
"RTN","PRSXP105",67,0)
 S (EMP,CNT)=0,LKCNT=1,FILE=450
"RTN","PRSXP105",68,0)
 F  S EMP=$O(^PRSPC(EMP)) Q:'EMP  D
"RTN","PRSXP105",69,0)
 . S DATA=$$GET1^DIQ(450,EMP,586.1)
"RTN","PRSXP105",70,0)
 . Q:DATA=""  ; Quit if they don't have any VCS Allotment
"RTN","PRSXP105",71,0)
 . ; Quit if the value has already been formatted by another download
"RTN","PRSXP105",72,0)
 . Q:DATA["."
"RTN","PRSXP105",73,0)
 . D NAME
"RTN","PRSXP105",74,0)
 . L +^PRSPC(EMP):0
"RTN","PRSXP105",75,0)
 . I '$T D LOCKED  Q
"RTN","PRSXP105",76,0)
 . S PVAL=DATA ; Previous value
"RTN","PRSXP105",77,0)
 . D DD^PRSDUTIL
"RTN","PRSXP105",78,0)
 . S DR="586.1///^S X=DATA",DA=EMP,DIE=450
"RTN","PRSXP105",79,0)
 . D ^DIE
"RTN","PRSXP105",80,0)
 . L -^PRSPC(EMP)
"RTN","PRSXP105",81,0)
 . S CNT=CNT+1
"RTN","PRSXP105",82,0)
 . S MESS=NAME,$E(MESS,31,35)=PVAL,$E(MESS,40,46)=DATA
"RTN","PRSXP105",83,0)
 . S ^TMP($J,"P105",LCNT)=MESS,LCNT=LCNT+1
"RTN","PRSXP105",84,0)
 S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",85,0)
 S ^TMP($J,"P105",LCNT)=LINE,LCNT=LCNT+1
"RTN","PRSXP105",86,0)
 S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",87,0)
 S MESS=$S(CNT>0:CNT_" employee(s) corrected.",1:"No records to correct")
"RTN","PRSXP105",88,0)
 S ^TMP($J,"P105",LCNT)=MESS,LCNT=LCNT+1
"RTN","PRSXP105",89,0)
 I STATUS="Check" D
"RTN","PRSXP105",90,0)
 . S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",91,0)
 . S ^TMP($J,"P105",LCNT)=LKCNT_" Employee record(s) were locked."
"RTN","PRSXP105",92,0)
 . S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",93,0)
 S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",94,0)
 S MESS="PAID EMPLOYEE (#450)",MSG1=" ending at "
"RTN","PRSXP105",95,0)
 D TIME
"RTN","PRSXP105",96,0)
 S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",97,0)
 S STATUS="OK",MSG=MSG_"450 "_STATUS
"RTN","PRSXP105",98,0)
 D XMT
"RTN","PRSXP105",99,0)
 Q
"RTN","PRSXP105",100,0)
 ;
"RTN","PRSXP105",101,0)
 ;
"RTN","PRSXP105",102,0)
459 ; Correct data in the PAID PAYRUN DATA (#459) file
"RTN","PRSXP105",103,0)
 ;
"RTN","PRSXP105",104,0)
 N CNT,DATA,EMP,I,IENS,LCNT,LINE,MESS,MSG
"RTN","PRSXP105",105,0)
 N NAME,PPE,PPI,PPIEN,PRSFDA,PVAL,STANUM,STATUS,TIME,TNAME,U,UCIX,FILE
"RTN","PRSXP105",106,0)
 S U="^",LCNT=1,$P(LINE,"-",80)="",$P(LINE2,"=",80)="",STATUS="OK",FILE=459
"RTN","PRSXP105",107,0)
 K ^TMP($J,"P105")
"RTN","PRSXP105",108,0)
 S MESS="PAID PAYRUN DATA (#459)",MSG1=" beginning at "
"RTN","PRSXP105",109,0)
 D TIME
"RTN","PRSXP105",110,0)
 D STAUCI
"RTN","PRSXP105",111,0)
 S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",112,0)
 S MESS="Correcting the VCS ALLOTMENT AMT (#171) field of the"
"RTN","PRSXP105",113,0)
 S ^TMP($J,"P105",LCNT)=MESS,LCNT=LCNT+1
"RTN","PRSXP105",114,0)
 S MESS="EMPLOYEE (#459.01) multiple."
"RTN","PRSXP105",115,0)
 S ^TMP($J,"P105",LCNT)=MESS,LCNT=LCNT+1
"RTN","PRSXP105",116,0)
 S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",117,0)
 S PPI="03-10"
"RTN","PRSXP105",118,0)
 F  S PPIEN="",PPI=$O(^PRST(459,"B",PPI)) Q:'PPI!(PPI>"07-20")  D
"RTN","PRSXP105",119,0)
 . S PPIEN=$O(^PRST(459,"B",PPI,0)) Q:'PPIEN
"RTN","PRSXP105",120,0)
 . S PPE=$P(^PRST(459,PPIEN,0),"^")
"RTN","PRSXP105",121,0)
 . S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",122,0)
 . S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",123,0)
 . S ^TMP($J,"P105",LCNT)="Pay Period "_PPE,LCNT=LCNT+1
"RTN","PRSXP105",124,0)
 . S ^TMP($J,"P105",LCNT)=LINE2,LCNT=LCNT+1
"RTN","PRSXP105",125,0)
 . S MESS="                             CURRENT   CORRECTED"
"RTN","PRSXP105",126,0)
 . S ^TMP($J,"P105",LCNT)=MESS,LCNT=LCNT+1
"RTN","PRSXP105",127,0)
 . S MESS="PAID PAYRUN DATA (#459)        VALUE   VALUE"
"RTN","PRSXP105",128,0)
 . S ^TMP($J,"P105",LCNT)=MESS,LCNT=LCNT+1
"RTN","PRSXP105",129,0)
 . S ^TMP($J,"P105",LCNT)=LINE,LCNT=LCNT+1
"RTN","PRSXP105",130,0)
 . S (CNT,EMP)=0
"RTN","PRSXP105",131,0)
 . F  S EMP=$O(^PRST(459,PPIEN,"P",EMP)) Q:'EMP  D
"RTN","PRSXP105",132,0)
 . . S IENS=EMP_","_PPIEN_","
"RTN","PRSXP105",133,0)
 . . S DATA=$$GET1^DIQ(459.01,IENS,171)
"RTN","PRSXP105",134,0)
 . . Q:DATA=""  ; Quit if they don't have any VCS Allotment
"RTN","PRSXP105",135,0)
 . . ; Quit if the value has already been formatted by another download
"RTN","PRSXP105",136,0)
 . . Q:DATA["."
"RTN","PRSXP105",137,0)
 . . D NAME
"RTN","PRSXP105",138,0)
 . . L +^PRST(459,PPIEN,"P",EMP):0
"RTN","PRSXP105",139,0)
 . . I '$T D LOCKED Q
"RTN","PRSXP105",140,0)
 . . S PVAL=DATA
"RTN","PRSXP105",141,0)
 . . D DD^PRSDUTIL
"RTN","PRSXP105",142,0)
 . . S IENS=EMP_","_PPIEN_",",PRSFDA(459.01,IENS,171)=DATA
"RTN","PRSXP105",143,0)
 . . D FILE^DIE("","PRSFDA") ; Correct data
"RTN","PRSXP105",144,0)
 . . S CNT=CNT+1
"RTN","PRSXP105",145,0)
 . . L -^PRST(459,PPIEN,"P",EMP)
"RTN","PRSXP105",146,0)
 . . S $E(NAME,1,$L(TNAME))=TNAME,$E(NAME,31,35)=PVAL,$E(NAME,40,46)=DATA
"RTN","PRSXP105",147,0)
 . . S ^TMP($J,"P105",LCNT)=NAME,LCNT=LCNT+1
"RTN","PRSXP105",148,0)
 . S MESS=$S(CNT>0:CNT_" employee(s) corrected.",1:"No records to correct")
"RTN","PRSXP105",149,0)
 . S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",150,0)
 . S ^TMP($J,"P105",LCNT)=MESS,LCNT=LCNT+1
"RTN","PRSXP105",151,0)
 . S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",152,0)
 . I STATUS="Check" D
"RTN","PRSXP105",153,0)
 . . S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",154,0)
 . . S ^TMP($J,"P105",LCNT)=LKCNT_" Employee record(s) were locked."
"RTN","PRSXP105",155,0)
 . . S ^TMP($J,"P105",LCNT)="",LCNT=LCNT+1
"RTN","PRSXP105",156,0)
 S MESS="PAID PAYRUN DATA (#459)",MSG1=" ending at "
"RTN","PRSXP105",157,0)
 D TIME
"RTN","PRSXP105",158,0)
 S STATUS="OK",MSG=MSG_"459 "_STATUS
"RTN","PRSXP105",159,0)
 D XMT
"RTN","PRSXP105",160,0)
 Q
"RTN","PRSXP105",161,0)
 ;
"RTN","PRSXP105",162,0)
XMT ; Send status via mail message
"RTN","PRSXP105",163,0)
 ;
"RTN","PRSXP105",164,0)
 I $D(^TMP($J,"P105")) D
"RTN","PRSXP105",165,0)
 . N DIFROM,XMDUZ,XMSUB,XMTEXT,XMY
"RTN","PRSXP105",166,0)
 . S XMDUZ=.5
"RTN","PRSXP105",167,0)
 . S XMSUB=MSG
"RTN","PRSXP105",168,0)
 . S XMTEXT="^TMP($J,""P105"","
"RTN","PRSXP105",169,0)
 . S XMY(DUZ)=""
"RTN","PRSXP105",170,0)
 . S XMY("G.PAD@"_^XMB("NETNAME"))=""
"RTN","PRSXP105",171,0)
 . D ^XMD
"RTN","PRSXP105",172,0)
 ;
"RTN","PRSXP105",173,0)
 K ^TMP($J,"P105"),Y,%
"RTN","PRSXP105",174,0)
 Q
"RTN","PRSXP105",175,0)
 ;
"RTN","PRSXP105",176,0)
TIME ; Get current Time
"RTN","PRSXP105",177,0)
 ;
"RTN","PRSXP105",178,0)
 D NOW^%DTC
"RTN","PRSXP105",179,0)
 S Y=%
"RTN","PRSXP105",180,0)
 D DD^%DT
"RTN","PRSXP105",181,0)
 S TIME=Y
"RTN","PRSXP105",182,0)
 S MESS=MESS_" clean up routine"_MSG1_TIME_"."
"RTN","PRSXP105",183,0)
 S ^TMP($J,"P105",LCNT)=MESS,LCNT=LCNT+1
"RTN","PRSXP105",184,0)
 Q
"RTN","PRSXP105",185,0)
 ;
"RTN","PRSXP105",186,0)
 ; Get Station Number
"RTN","PRSXP105",187,0)
 ;
"RTN","PRSXP105",188,0)
STAUCI S STANUM=$$KSP^XUPARAM("INST")_","
"RTN","PRSXP105",189,0)
 S STANUM=$$GET1^DIQ(4,STANUM,99)
"RTN","PRSXP105",190,0)
 S MSG=STANUM_" - "
"RTN","PRSXP105",191,0)
 ;
"RTN","PRSXP105",192,0)
 ; Check for UCI,VOL
"RTN","PRSXP105",193,0)
 ;
"RTN","PRSXP105",194,0)
 X ^%ZOSF("UCI")
"RTN","PRSXP105",195,0)
 S UCIX=$G(Y)
"RTN","PRSXP105",196,0)
 I UCIX="" S UCIX="??????"
"RTN","PRSXP105",197,0)
 S MSG=MSG_UCIX_" - "
"RTN","PRSXP105",198,0)
 Q
"RTN","PRSXP105",199,0)
 ;
"RTN","PRSXP105",200,0)
NAME ; Format name
"RTN","PRSXP105",201,0)
 ;
"RTN","PRSXP105",202,0)
 S NAME="",$P(NAME," ",30)=""
"RTN","PRSXP105",203,0)
 S TNAME=$$GET1^DIQ(450,EMP,.01)
"RTN","PRSXP105",204,0)
 I TNAME="" S TNAME=EMP
"RTN","PRSXP105",205,0)
 S $E(NAME,1,$L(TNAME))=TNAME
"RTN","PRSXP105",206,0)
 Q
"RTN","PRSXP105",207,0)
 ;
"RTN","PRSXP105",208,0)
LOCKED ; Message for locked records
"RTN","PRSXP105",209,0)
 ;
"RTN","PRSXP105",210,0)
 S MESS=NAME_" record was locked in file # "_FILE
"RTN","PRSXP105",211,0)
 S ^TMP($J,"LOCKED","P105",LKCNT)=MESS,LKCNT=LKCNT+1
"RTN","PRSXP105",212,0)
 S STATUS="Check"
"RTN","PRSXP105",213,0)
 Q
"RTN","PRSXP105",214,0)
 ;
"RTN","PRSXP105",215,0)
WARN ; Warning message if records were locked
"RTN","PRSXP105",216,0)
 ;
"RTN","PRSXP105",217,0)
 S ^TMP($J,"LOCKED","P105",LKCNT)="",LKCNT=LKCNT+1
"RTN","PRSXP105",218,0)
 S ^TMP($J,"LOCKED","P105",LKCNT)="These records were locked.",LKCNT=LKCNT+1
"RTN","PRSXP105",219,0)
 S ^TMP($J,"LOCKED","P105",LKCNT)="Contact NVS @ 888-596-4357",LKCNT=LKCNT+1
"RTN","PRSXP105",220,0)
 ;
"RTN","PRSXP105",221,0)
 I $D(^TMP($J,"LOCKED","P105")) D
"RTN","PRSXP105",222,0)
 . N DIFROM,XMDUZ,XMSUB,XMTEXT,XMY
"RTN","PRSXP105",223,0)
 . S XMDUZ=.5
"RTN","PRSXP105",224,0)
 . S XMSUB="Locked records - PRS*4*105"
"RTN","PRSXP105",225,0)
 . S XMTEXT="^TMP($J,""LOCKED"",""P105"","
"RTN","PRSXP105",226,0)
 . S XMY(DUZ)=""
"RTN","PRSXP105",227,0)
 . S XMY("G.PAD@"_^XMB("NETNAME"))=""
"RTN","PRSXP105",228,0)
 . D ^XMD
"RTN","PRSXP105",229,0)
 ;
"RTN","PRSXP105",230,0)
 K ^TMP($J,"LOCKED","P105"),Y,%
"RTN","PRSXP105",231,0)
 Q
"RTN","PRSXP105",232,0)
 ;
"SEC","^DD",450,450,758,8)
FP
"SEC","^DD",450,450,759,8)
FP
"SEC","^DD",450,450,760,8)
FP
"SEC","^DD",450,450,761,8)
FP
"VER")
8.0^22.0
"^DD",450,450,758,0)
HLTH CARE FLEX SPEND ACCT YTD^NJ7,2^^FSA;1^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>3000)!(X<0)!(X?.E1"."3.N) X
"^DD",450,450,758,3)
Type a Dollar amount between 0 and 3000, 2 Decimal Digits.
"^DD",450,450,758,21,0)
^^2^2^3031007^^^^
"^DD",450,450,758,21,1,0)
The accumulated total of Health Care Flexible Spending Accounts deducted
"^DD",450,450,758,21,2,0)
from an employee this year through the last pay period processed.
"^DD",450,450,758,"DT")
3031120
"^DD",450,450,759,0)
HLTH CARE FLEX SPEND ACCT CPPD^NJ7,2^^FSA;2^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>3000)!(X<0)!(X?.E1"."3.N) X
"^DD",450,450,759,3)
Type a Dollar amount between 0 and 3000, 2 Decimal Digits.
"^DD",450,450,759,21,0)
^^2^2^3031215^^^^
"^DD",450,450,759,21,1,0)
The current pay period deduction from an employee's pay for the Health
"^DD",450,450,759,21,2,0)
Care Flexible Spending Account (HCFSA).
"^DD",450,450,759,"DT")
3031215
"^DD",450,450,760,0)
DPNT CARE FLEX SPEND ACCT YTD^NJ7,2^^FSA;3^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>5000)!(X<0)!(X?.E1"."3.N) X
"^DD",450,450,760,3)
Type a Dollar amount between 0 and 5000, 2 Decimal Digits.
"^DD",450,450,760,21,0)
^^3^3^3031215^^^^
"^DD",450,450,760,21,1,0)
The accumulated total of Dependent Care Flexible Spending Accounts
"^DD",450,450,760,21,2,0)
deducted from an employee this year through the last pay period
"^DD",450,450,760,21,3,0)
processed.
"^DD",450,450,760,"DT")
3031215
"^DD",450,450,761,0)
DPNT CARE FLEX SPEND ACCT CPPD^NJ7,2^^FSA;4^S:X["$" X=$P(X,"$",2) K:X'?.N.1".".2N!(X>5000)!(X<0)!(X?.E1"."3.N) X
"^DD",450,450,761,3)
Type a Dollar amount between 0 and 5000, 2 Decimal Digits.
"^DD",450,450,761,21,0)
^^2^2^3031215^^^^
"^DD",450,450,761,21,1,0)
The current pay period deduction from an employee's pay for the
"^DD",450,450,761,21,2,0)
Dependent Care Flexible Spending Account (DCFSA).
"^DD",450,450,761,"DT")
3031215
"^DD",458.5,458.5,7,0)
DATE/TIME CLEARED^D^^0;8^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",458.5,458.5,7,21,0)
^.001^1^1^3051230^^^^
"^DD",458.5,458.5,7,21,1,0)
This is the date/time the entry was cleared.
"^DD",458.5,458.5,7,"DT")
2950417
"BLD",6550,6)
^96
**END**
**END**
