$TXT Created by WYNN,ERIC X at VMPDEV20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Tuesday, 08/28/07 at 10:25
=============================================================================
Run Date: NOV 05, 2007                     Designation: PSB*3*31
Package : PSB - BAR CODE MED ADMIN            Priority: Mandatory
Version : 3        SEQ #29                      Status: Released
                  Compliance Date: DEC 06, 2007
=============================================================================


Subject: CAN'T ENTER MANUAL MED ENTRY

Category: 
  - Routine

Description:
============

 This patch will correct an error encountered when a user attempts to use 
 the option PSB MED LOG NEW ENTRY [Manual Med Entry] on a unit dose 
 medication order after the patient has been discharged.
  
 This patch will also prevent an RPC Broker error in the Bar Code 
 Medication Administration (BCMA) Graphical User Interface (GUI) system
 when a patient has been discharged before a pain score could be entered.  
 In this case, a new 'pop-up' error message will inform the user that the
 patient has been discharged.
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1. HD129144 - Can't manually enter med after discharge
  
 2. HD132965 - ERROR -<UNDEFINED>RPC+7^PSBVITFL
  
  
 PARTICIPATING TEST SITES:
 =========================
 Hudson Valley HCS
 Salisbury VAMC
 Upstate New York HCS
  
  
 REMEDY TICKET OVERIVEW:
 =======================
 1. HD129144 - Can't manually enter med after discharge
  
    Problem:
    --------
    Unable to perform Manual Med Entry after a patient has been discharged.
    The problem was found in routine PSBVAR which creates entries in the
    BCMA MEDICATION VARIANCE LOG (#53.78). When a patient is discharged, 
    there is no Ward information available, thus causing this routine to
    return an error message when performing Manual Med Entry.
  
    Solution:
    ---------
    Modified PSBVAR to enter the following characters "***" into field 
    WARD LOCATION (#.09) when there is no data available.
  
  
 2. HD132965 - ERROR -<UNDEFINED>RPC+7^PSBVITFL
  
    Problem:
    --------
    A patient was given a PRN medication for a reason that required a pain 
    score. The pain score was entered, and the medication was administered
    without issue.  While the PRN Effectiveness screen was open in the 
    BCMA GUI, the patient was discharged in VistA.  The BCMA screen was not
    refreshed, and when the nurse attempted to file the PRN Effectiveness
    for the administration, an RPC broker error occurred.
  
    Solution:
    ---------
    In routine PSBVITFL, load the patient demographic information, and if
    the patient is discharged, pop up the error message box that reads
    "Error - Pain Score has not been filed successfully.  Patient has been
     DISCHARGED"
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch can be loaded with users on the VistA system.  BCMA Client
 users should not be accessing the Client Software.  Other GUI applications
 are not affected when this patch is installed.
  
 Installation will take less than 1 minute.  
 Suggested time to install:  non-peak requirement hours.
  
    1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
    2. From the Kernel Installation & Distribution System menu, select
       the Installation menu option.
  
    3. From this menu, you may select to use the following options
       (when prompted for INSTALL NAME, enter PSB*3.0*31)
  
      (a) Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch.  It will NOT
          backup any other changes such as DDs or templates.
      (b) Compare Transport Global to Current System - this option will
          allow you to view all changes that will be made when the patch is
          installed.  It compares all components of the patch (routines,
          DDs, templates, etc.).
      (c) Verify Checksums in Transport Global - this option will allow you
          to ensure the integrity of the routines that are in the transport
          global.
      (d) Print Transport Global - this option will allow you to view the
          components of the KIDS build.
  
    4. Use the Install Package(s) option and select the package PSB*3.0*31.
  
    5. When prompted "Want KIDS to INHIBIT LOGONs during the install?
       YES//" respond NO.
  
    6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//" respond NO.
  
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routines included in this patch.  The
 second line of each of these routines now looks like:
  
     <TAB>;;3.0;BAR CODE MED ADMIN;**[Patch List]**;Mar 2004   
  
  
 The following checksums can be verified using CHECK^XTSUMBLD:
  
                           CHECK^XTSUMBLD results
   
    Routine name      Before Patch          After Patch       Patch List
    ============      ============          ===========       ==========
    PSBVAR            4760179               4781940           31
    PSBVITFL          2483832               2638717           31

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;3.0;BAR CODE MED ADMIN;**[Patch List]**;Mar 2004;Build 1

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSBVAR
    Before: B13394171   After: B13715777  *31*
Routine Name: PSBVITFL
    Before:  B4261599   After:  B4992078  *31*

=============================================================================
User Information:
Entered By  : WYNN,ERIC                     Date Entered  : JUN 13, 2006
Completed By: TSAIMEUCHONG,BRENDA           Date Completed: OCT 30, 2007
Released By : LYTTLE,KIM M                  Date Released : NOV 05, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
