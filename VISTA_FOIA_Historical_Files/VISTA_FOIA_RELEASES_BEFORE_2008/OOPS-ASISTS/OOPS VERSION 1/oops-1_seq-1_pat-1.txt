$TXT Created by ACKERMAN,WILLIAM A at DEV.DEV.ISC-CHICAGO.VA.GOV  (KIDS) on FRIDAY, 10/23/98 at 10:02
=============================================================================
Run Date: NOV 06, 1998                     Designation: OOPS*1*1
Package : OOPS - ASISTS                        Priority: Mandatory
Version : 1         SEQ #1                     Status: Released
=============================================================================


Subject: QUEUING LOG/FILE RANGE ERRORS

Category: 
  - Routine
  - Data Dictionary

Description: 
============

 This patch contains the following problem resolutions.  It assures that 
 this application is Y2K compliant.
    
  1) ASISTS Safety Officers Menu
       Log of Federal Occupational Injuries and Illnesses
       Log of Needlestick Incidents
  
     a) NOIS DAY-0898-40912  TRAPPING AN ERROR WHEN RUNNING LOG REPORTS
             BED-0898-11483  SOFTWARE ERROR (Note 1)
             BOS-0898-11515  PROBLEM QUEUING Log of Federal... Report
  
        When either of the above reports were queued, the task aborted with
        an "undefined variable" error.  The variable EV has been added to the
        list of variables being passed to the queued task.  The setting of the
        variable HDR1 has been moved to within the queued task.   
     
        ROUTINE(S): OOPSLOG
     
     b) NOIS NOP-0998-12119  Problem/EDIT EMPLOYEE CA-1 & CA-2
  
        Safety Officer was allowed to enter data for a CA-1 or CA-1 or
        2162 even if the forms had been signed.  This patch will prevent
        the safety officer from editing these forms unless the Safety
        Officer is the one who initially signed the form.
  
        ROUTINE(S): OOPSSUP1
                   
  2) ASISTS Supervisor Menu
       Print CA1/CA2
  
     a) NOIS BED-0898-11483  SOFTWARE ERROR
             HUN-0998-21902  Edit CA-1 & CA-2 option Problem
             PHI-0998-20951  Employee not able to enter/edit CA1
  
        The above option aborted with a "Quit with value expected to
        terminate context" error if the user's FILE RANGE (#200,31.1)
        value was not null.  This has been fixed.
  
     Note: The logic which caused this problem was found in other places
           throughout the package.  All instances of this error have been
           fixed.
  
        ROUTINE(S): OOPSEMP1
                    OOPSPRT2
                    OOPSSOF1
                    OOPSSUP1
                    OOPSVAL1
                 
     b) NOIS BRX-0898-11367  INFINITE DEVICE PROMPTING
  
        The CA-1 and CA-2 forms require a Hewlett Packard laser jet (or
        compatible) printer with PCL (Printer Control Language) Level 5.
        This information was not being communicated to the user.  It will
        now be displayed prior to the DEVICE prompt.  Also, it is no longer
        necessary to queue these forms and selection of the home device is
        now prohibited.
  
        ROUTINE(S):  OOPSPCA
  
     c) All CA-1 and CA-2 dates are now Y2K compliant.
  
        ROUTINE(S): OOPSPC11
                    OOPSPC20
                    OOPSPC21
                    OOPSPC41
                    OOPSPC50
                    OOPSPC51
                 
  3) ASISTS Employee Menu
       Edit CA-1 & CA-2
  
     a) NOIS BRX-0998-10007  CHANGE NAME IN EMPLOYEE EDIT OPT
  
        For employees, the following CA-1 and CA-2 fields were editable:
  
        1. NAME OF EMPLOYEE       (#2260,1)
        2. SOCIAL SECURITY NUMBER (#2260,5)
        3. DATE OF BIRTH          (#2260,6)
        4. SEX                    (#2260,7)
  
        This is now prohibited.
   
        ROUTINE(S): OOPSEMP1
  
     b) NOIS HUN-0998-20462  EDIT ADDRESS LINE
  
        The package would abort with an "undefined variable DQ" error if
        a semi-colon had been included in the HOME STREET ADDRESS (#2260,8)
        value of the employee's home address during the creation of the 
        case.  The error would occur when the employee would attempt to
        edit the address through this option.
        
        ROUTINE(S):  OOPSEMP1
  
     c) NOIS E3R #11523      OOPS CASE BULLETIN FOR SECONDARY SUPERVISOR
             LEX-0998-42365  Bulletin to Secondary Supervisor
             NOP-0998-11516  ASISTS Ques. Reg: SUPVSR/SEC SUPVSR
  
        When a new case was created and when the employee completed a CA-1
        or CA-2, the package would send a bulletin to the supervisor.  The
        package will now send a bulletin to both the supervisor and the 
        secondary supervisor.
          
        ROUTINE(S):  OOPSMBUL
  
  4) ASISTS Safety Menu
       Change the Status of a Case
  
     NOIS E3R #11528 ASISTS: AMENDED CASE-STATUS W/LOG
         
     The Safety Officer was able to change the CASE STATUS (#2260,51) of a
     case to "Replaced by amendment" even if there was no amendment for that
     case.  The Safety Officer could also change the status of a case that was
     previously marked as "Replaced by amendment" to some other status.  This
     patch will prohibit this.
        
     ROUTINE(S): OOPSSOF2
  
  5) PAY RATE DOLLAR (#2260,166)
  
     NOP-0998-12242  PAY RATE FIELD  FREE TEXT
  
     The data type of PAY RATE DOLLAR has been changed from FREE TEXT to
     NUMERIC DOLLAR AMOUNT.
  
  ------------------------------------------------------------------------------
  
     Associated NOIS calls:
  
     DAY-0898-40912  TRAPPING AN ERROR WHEN RUNNING LOG REPORTS
     BED-0898-11483  SOFTWARE ERROR
     BOS-0898-11515  PROBLEM QUEUING Log of Federal... Report
     BRX-0898-11367  INFINITE DEVICE PROMPTING
     BRX-0998-10007  CHANGE NAME IN EMPLOYEE EDIT OPT
     LEX-0998-42365  Bulletin to Secondary Supervisor
     HUN-0998-21902  Edit CA-1 & CA-2 option Problem
     NOP-0998-11516  ASISTS: Ques. reg: SUPVSR/SEC SUPVSR
     PHI-0998-20951  Employee not able to enter/edit CA1
     HUN-0998-20462  EDIT ADDRESS LINE
     NOP-0998-12242  PAY RATE FIELD  FREE TEXT
     NOP-0998-12119  Problem w/EDIT EMPLOYEE CA-1 & CA-2
  ----------------------------------------------------------------------
  
     Associated E3R calls:
    
     E3R #11528 ASISTS: AMENDED CASE-STATUS W/LOG
     E3R #11523 OOPS CASE BULLETIN FOR SECONDARY SUPERVISOR
  ------------------------------------------------------------------------------
  
     Test sites:
  
     Dayton
     Bedford
     Boston
     Bronx
  ------------------------------------------------------------------------------
  
 Routine Summary: 
 ================
 The following routines are included in this patch.  The second line of 
 these routines should look like: 
   
  <tab>;;1.0;ASISTS;**[patch list]**;Jun 01, 1998
    
 CHECK^XTSUMBLD results:
    
  Routines  Before Patch 1  After Patch 1  Patch List
  ========  ==============  =============  ==========
  OOPSEMP1     12696359       15709517         1
  OOPSLOG      11979307       11967598         1
  OOPSMBUL      2122243        2256848         1
  OOPSPC11      7551192        7551496         1
  OOPSPC20     25196521       23790011         1
  OOPSPC21     16272723       16272644         1
  OOPSPC41     15218432       15218061         1
  OOPSPC50     20365613       19830511         1
  OOPSPC51     12238690       12238538         1
  OOPSPCA       3165781        3330915         1
  OOPSPRT2      1628701        2026357         1
  OOPSSOF1      1761630        1764570         1
  OOPSSOF2       255855         657653         1
  OOPSSUP1      7944437        9391936         1
  OOPSVAL1      2979358        2982670         1                       
                  
  -------------------------------------------------------------------------
  
 Installation instructions:
 ==========================
 1) This patch should be installed during off peak hours when the ASISTS
    users are off the system.
      
 2) There are no patch dependencies associated with this patch.  If the
    routines in this patch are mapped at your site, remember to disable
    mapping before installing the patch and to re-enable it when you are
    finished.
     
 3) The routines included in this patch should be installed in the
    production UCI.
     
 4) Use the 'INSTALL/CHECK MESSAGE' option of your Packman menu to load
    the KIDS patch onto your system.
     
 5) The patch has now been loaded on the 'Kernel Installation &
    Distribution System' Menu (KIDS), Select the 'Installation' menu.
       
    From this menu you may choose the following options prior to
    installing this patch:
                       
     a. Backup a Transport Global - this option will create a backup
        message of any routines exported with the patch.  It will NOT
        backup any other changes such as data dictionaries or templates.
           
     b. Compare Transport Global to Current System - this option will allow
        you to view all changes that will be made when the patch is 
        installed.  It compares all components of the patch (routines, DDs,
        templates, etc.)
            
     c. Verify Checksum in Transport Global - this option will allow you
        to ensure the integrity of the routines that are in the transport
        global.
          
 6) Use the 'Install Package(s)' option under the 'Installation' menu.
    When prompted for INSTALL NAME, enter: OOPS*1.0*1
         
    When prompted "Want to DISABLE Scheduled Options and Menu Option? ",
    respond "NO".  The ASISTS options do not need to be disabled during
    the installation of this patch.  Your customer support representative
    will answer any questions regarding this patch.
      
 7) The estimated installation time for this patch is two minutes.

Routine Information:
====================

Routine Name:
  - OOPSLOG


Routine Checksum:

Routine Name:
  - OOPSPRT2


Routine Checksum:

Routine Name:
  - OOPSEMP1


Routine Checksum:

Routine Name:
  - OOPSSOF1


Routine Checksum:

Routine Name:
  - OOPSSUP1


Routine Checksum:

Routine Name:
  - OOPSVAL1


Routine Checksum:

Routine Name:
  - OOPSPCA


Routine Checksum:

Routine Name:
  - OOPSPC11


Routine Checksum:

Routine Name:
  - OOPSPC20


Routine Checksum:

Routine Name:
  - OOPSPC21


Routine Checksum:

Routine Name:
  - OOPSPC41


Routine Checksum:

Routine Name:
  - OOPSPC50


Routine Checksum:

Routine Name:
  - OOPSPC51


Routine Checksum:

Routine Name:
  - OOPSMBUL


Routine Checksum:

Routine Name:
  - OOPSSOF2


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : BIELO,GARY                     Date Entered : AUG 25, 1998
Completed By: PATRICK,PAT                   Date Completed: NOV 05, 1998
Released By : NELSON,VICKI M               Date Released : NOV 06, 1998
=============================================================================


Packman Mail Message:
=====================

$END TXT
