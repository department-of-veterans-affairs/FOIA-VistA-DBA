$TXT Created by TRAXLER,FRANK at EVL.DEV.ISC-CHICAGO.VA.GOV  (KIDS) on TUESDAY, 07/17/01 at 08:55
=============================================================================
Run Date: JUL 23, 2001                     Designation: GMRV*4*13
Package : GMRV - GEN. MED. REC. - VITALS   Priority: Mandatory
Version : 4        SEQ #12                      Status: Released
=============================================================================

Associated patches: (v)GMRV*4*1    <<= must be installed BEFORE `GMRV*4*13'
                    (v)GMRV*4*7    <<= must be installed BEFORE `GMRV*4*13'
                    (v)GMRV*4*8    <<= must be installed BEFORE `GMRV*4*13'
                    (v)GMRV*4*9    <<= must be installed BEFORE `GMRV*4*13'
                    (v)GMRV*4*10   <<= must be installed BEFORE `GMRV*4*13'
                    (v)GMRV*4*11   <<= must be installed BEFORE `GMRV*4*13'

Subject: INVALID YEAR

Category: 
  - Routine

Description: 
============

 Associated NOIS:      
  ISA-0300-12448
  PUG-1099-51412
  LAH-0400-61910
  NHM-0800-10928
  MAD-0299-41819
  BHS-0201-12186
  IND-0501-40404
  ISP-0899-N1983
  
 Test Sites:
 ===========
  VA Boston HCS
  Indianapolis 
  Madison
  Northampton
  VA Health Care Network Upstate New York System
  VA Greater Los Angeles HCS
  
 This patch fixes the following problems:
  
 1) The Vitals/Measurement Data Entry [GMRV V/M ENTRY MENU] option allows
 any date/time to be entered for when the reading was taken. For example, a
 user may make a typographical error on the year and not notice the mistake
 when the date/time is echoed back to the terminal display. After this
 patch this option will prohibit a date/time that is more than 1 year old.
 [ISA-0300-12448]
  
 Routines: GMRVED0
  
 2) A data check for Height needs to be changed in the Vitals/Measurement
 Data Entry [GMRV V/M ENTRY MENU] option. A user entered 5'5' instead of
 5'5" (i.e., 5 feet, 5 inches). The software accepted the value and
 translated it to 5" (i.e., 5 inches). After this patch the data check for
 Height will not accept a Height value that has more than one symbol for
 feet (e.g., "'"). [PUG-1099-51412]
  
 While fixing this problem an unreported problem was found concerning
 Height. If a user entered the Height in inches only and used the symbol
 for inches (e.g., 72"), the software rejected the Height entry. After this
 patch the software will accept a Height entry in inches only which has the
 symbol for inches.
  
 Routines: GMRVED3, GMRVUT0
  
 The GMRVED3 and GMRVUT0 routines are called by the Vitals/Measurements
 Data Entry [NURCPE-VIT-EDIT] option of the Nursing package. The fix to the
 GMRVED3 and GMRVUT0 routines prevents the problem from occurring in this
 Nursing package option, too.
  
 3) Two sites report that pain scores of 0 and 99 are not showing up on
 some outputs as numerical scores. The text value of the score appears
 instead. The site points out that "Worst pain imaginable" (i.e., 10)
 appears as a score and text. These sites would like the same thing for "No
 pain" (0) and "Unable to respond" (99). After this patch the numerical
 scores for No pain and Unable to respond will appear, too.
  
 The Vitals/Measurements (V/M) options affected are:
  Latest Vitals Display for a Patient [GMRV DISPLAY V/M]
  Latest Vitals by Location [GMRV V/M BY LOCATION]
  Cumulative Vitals Report [GMRV CUMULATIVE V/M]
  
 [LAH-0400-61910 and NHM-0800-10928]
  
 Routines: GMRVDS0, GMRVSC2
  
 The GMRVDS0 and GMRVSC2 routines are called by some Nursing package
 options and a CPRS report. The fix to these two routines prevents the
 problem from occurring in the Nursing options and CPRS report.
  
 The Nursing options affected are:
  Latest Vitals Display for a Patient [NURCPP-VIT-DISP]
  Latest Vitals by Location [NURCPP-VIT-WARD]
  Cumulative Vitals Report [NURCPP-VIT-CUM]
  
 The CPRS report affected is named Vitals Cumulative and is located on the
 Reports tab.
  
 4) A null subscript error can occur when entering pulse oximetry data.
 When using the Vitals/Measurement Data Entry [GMRV V/M ENTRY MENU] option
 to enter pulse oximetry data the user is asked to identify how the oxygen
 is supplied and is shown a list of choices. The user is asked to select a
 number from the list. If the user enters a text response from the list
 instead of a number a null subscript error may occur. After this patch the
 list will be displayed again if the user enters a text response.
 [MAD-0299-41819]
  
 Routines: GMRVUT3, GMRVED3
  
 The GMRVUT3 routine is called by the Vitals/Measurements Data Entry
 [NURCPE-VIT-EDIT] option of the Nursing package. The fix to the GMRVUT3
 routine prevents the problem from occurring in this Nursing package
 option, too.
  
 5) A site reported an illegal number error when entering a Weight value.
 This error may occur when using the Vitals/Measurement Data Entry [GMRV
 V/M ENTRY MENU] option or some entry points documented in Integration
 Agreement #1589. After this patch the software will perform a $Length
 check on the Weight value before attempting to convert it to a number. If
 the string length is greater than 10 characters the value is killed.
 [BHS-0201-12186]
  
 Routines: GMRVPCE3, GMRVED3
  
 The GMRVUT3 routine is called by the Vitals/Measurements Data Entry
 [NURCPE-VIT-EDIT] option of the Nursing package. The fix to the GMRVUT3
 routine prevents the problem from occurring in this Nursing package
 option, too.
  
 6) A site reports they have some AA cross-reference nodes on the GMRV
 VITAL MEASUREMENT file (#120.5) that have no corresponding zero node. A
 Clinical Reminder they are using calls a V/M API documented in IA #1446 to
 retrieve Blood Pressure data. When retrieving the Blood Pressure data the
 API uses the AA cross-reference to find entries within a selected date
 range, but does not check if the zero node actually exists and errors out
 with an undefined variable error when attempting to process the data on a
 non-existent zero node. After this patch the API checks for the existence
 of the zero node. [IND-0501-40404]
  
 Routines: GMRVUT2
  
 7) A problem was discovered during the Y2K testing, but is not a Y2K bug.
 The V/M Graphic Reports [GMRV SF511] option allows the user to print 5
 different reports. If the user selects the Weight Chart report and selects
 a patient with no data for the date range entered and sends the output to
 a line printer, the wrong footer is used on the report. After this patch
 the correct footer will be displayed. [ISP-0899-N1983]
  
 Routines: GMRVLWT1
  
 The V/M Graphics Report [NURCPP-VIT-SF511] option of the Nursing package
 calls the same V/M code to generate this report. The fix to the GMRVLWT1
 routine fixes problem in the Nursing package option, too.
  
 Documentation:
 ==============
 There are no documentation changes for this patch.
  
 Routine Version Line:
 =====================
  
 Below is a list of the routines included in this patch. The second line of
 each of these routines now looks like:
  
 ;;4.0;Vitals/Measurements;**[Patch History]**;Apr 25, 1997
  
 Checksum Results:
 =================
  
 Routine Name   Before Patch    After Patch     Patch History
 ============   ============    ===========     =============
  GMRVDS0       12999620        13076861        1,7,11,13
  GMRVED0       13211345        13620171        7,9,13
  GMRVED3       17511212        18654362        1,5,6,7,11,13
  GMRVLWT1      9163860         9167012         1,13
  GMRVPCE3      3521020         3529594         8,13
  GMRVSC2       10817613        10892612        1,7,11,13
  GMRVUT0       6711110         6745178         1,13
  GMRVUT2       13478713        13521536        1,10,13
  GMRVUT3       8721945         8685189         1,11,13
  GMRVUTL1      4676548         4949380         7,13
  
 Installation Instructions:
 ==========================
  
 1) This patch can be installed with users on the system.
    Installation should take less than 5 minutes.
    These routines are not recommended for mapping.
  
    Installation should be done when use of the V/M package is at a
    minimum.
  
 2) Load the Transport Global.
  
 3) (Optional) Run the following KIDS options before installing the patch:
  
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
  
 4) Install the Build GMRV*4.0*13.
  
    At the 'Want KIDS to INHIBIT LOGONs during the install' prompt answer
    NO.
  
    At the 'Want to DISABLE Scheduled Options, Menu Options, and
    Protocols?' prompt answer NO.
  
 5) Move the routines to other CPUs if appropriate.

Routine Information:
====================

Routine Name:
  - GMRVDS0


Routine Checksum:

Routine Name:
  - GMRVED0


Routine Checksum:

Routine Name:
  - GMRVLWT1


Routine Checksum:

Routine Name:
  - GMRVPCE3


Routine Checksum:

Routine Name:
  - GMRVSC2


Routine Checksum:

Routine Name:
  - GMRVUT2


Routine Checksum:

Routine Name:
  - GMRVUT3


Routine Checksum:

Routine Name:
  - GMRVED3


Routine Checksum:

Routine Name:
  - GMRVUTL1


Routine Checksum:

Routine Name:
  - GMRVUT0


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : TRAXLER,FRANK                  Date Entered : JUN 13, 2001
Completed By: REZNIK,CHARMAINE              Date Completed: JUL 23, 2001
Released By : SCOTT,JEAN M                 Date Released : JUL 23, 2001
=============================================================================


Packman Mail Message:
=====================

$END TXT
