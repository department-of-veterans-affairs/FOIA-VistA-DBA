$!----------------------------------------------------------------------- $! ZTM2WDCL.COM - Cache Run Taskman in a DCL Context$! * KERNEL 8 *$!$!  P1 is the Cache config that taskman should start in.$!  P2 is the namespace that taskman should start in.$!  P3 = null to START and 1 to RESTART$!$! This file is submitted to the queue to run and it$!  builds and runs the TMP_pid.* files$!$! Build the file to run, can't pass arguments with RUN$ pid = F$GETJPI("","PID")$ infile="TMP_" + pid + ".ZTM"$ outfile = "TMP_" + pid + ".log"$ SAY = "write output"$!$ entry="START"$ if p3 .eq. 1 then entry="RESTART"$!$! open and build the input file$ OPEN/write output 'infile'$ SAY "$! Taskman temp file to run the Manager"$ SAY "$! Delete this file if it is not open."$ SAY "$ set verify"$ SAY "$ csession ""''p1'"" ""-U"" ""''p2'"" ""''entry'^%ZTM0"""$ SAY "$ exit"$ Close output$!$! If a log file is needed change _NLA0: to 'outfile$ name = "ZTMS_" + pid$  run sys$system:loginout.exe -       /input='infile -       /output=_NLA0: -       /detach /process='name$!$! 	Wait for loginout to run it then delete the file.$ wait 00:01$!$ del TMP_*.ZTM;1$ exit