$TXT Created by TRAXLER,FRANK at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Monday, 03/20/06 at 09:12
=============================================================================
Run Date: APR 24, 2006                     Designation: GMRV*5*3
Package : GMRV - GEN. MED. REC. - VITALS      Priority: Mandatory
Version : 5        SEQ #10                      Status: Released
                  Compliance Date: JUN 09, 2006
=============================================================================

Associated patches: (v)GMRV*5*1    <<= must be installed BEFORE `GMRV*5*3'
                    (v)GMRV*5*9    <<= must be installed BEFORE `GMRV*5*3'
                    (v)GMRV*5*13   <<= must be installed BEFORE `GMRV*5*3'

Subject: DLL & CCOW-COMPLIANT

Category: 
  - Enhancement (Mandatory)
  - Routine
  - Other

Description:
============

  Associated Remedy: 111531
     Associated E3R: 19260
                     19654 
  
 Test Sites:
 ===========
  Boston HCS
  Charleston
  Cleveland
  Dayton
  Hudson Valley HCS
  Loma Linda
  Madison
  Northern California HCS
  Palo Alto HCS
  Puget Sound HCS
  Salisbury
  Tampa
  
   **********************************************************************
   * This release has been checked for 508 compliance as a component of *
   * CPRS. The entire application is scheduled for a compliance review  *
   * in the near future.  Any compliance issues found during the review *
   * will be corrected by a patch after the review.                     *
   **********************************************************************
  
   **********************************************************************
   * There are some known defects in the software. These defects were   *
   * found while the final version of the patch was tested. The defects *
   * were found to be minor and should not delay the release of the     *
   * patch. Approval to address these defects in a future patch was     *
   * received from the test sites, the Product Business Owner and       *
   * and management. Please see the Release Notes document for a list   *
   * the defects.                                                       *
   **********************************************************************
  
 1) This patch provides a Dynamic Link Library (DLL) file that will be
 called from CPRS v26. If CPRS v26 is not installed, this DLL will merely
 reside on the system. It will not adversely affect CPRS v25. This DLL is
 not called by the Vitals.exe or VitalsManager.exe files that make up the
 Vitals Graphical User Interface (GUI).
  
  NOTE: This DLL does not need to be registered in the WINDOWS registry.
  
 a) The DLL name is "GMV_VitalsViewEnter.dll". This DLL (aka Vitals Lite)
 provides the user with the ability to enter and display patient vitals
 data. Also, it allows the user to mark patient vitals records as
 entered-in-error.
  
 When the user clicks on the vitals portion of the CPRS Coversheet, the DLL
 will be invoked. The user will be able to:
  > view patient vitals data in a graph and grid format.
  > select date ranges for retrieving data
  > select vital types except Circumference/Girth and Intake and Output
    (I&O) values (liquid amounts only) to plot on the graph
  > use zoom features to view the graph data
  > display the numerical values on the graph
  > display the graph in 3-D format
  > print a graph to a Windows-type printer
  > view the qualifier abbreviations along with the numerical values in the
    grid
  > view the name of the person who entered the data and the hospital 
    location associated with the record in the grid except for I&O values
  > change the background color of the graph
  > enter vitals data using locally-configured input templates 
  > mark existing records as entered-in-error, and
  > display patient allergy data.
  
 For CPRS users who have access to the "Encounter" button, the "Enter
 Vitals" window can also be opened from the Notes tab. On the Notes tab,
 the user clicks on the "Encounter" button to select or create an
 encounter, the "Vitals" tab and the "Enter Vitals" button to invoke the
 DLL. The user will be able to enter vitals data using existing input
 templates.
  
 b) IA #4831 documents the input parameters and RPCs needed to invoke the
 DLL.
  
 c) The following GMV-namespaced Remote Procedure Calls (RPCs) are added 
 to the OR CPRS GUI CHART option to allow it to use the new DLL file:
  
    GMV ADD VM             (IA #3996)
    GMV CONVERT DATE       (IA #4353)
    GMV GET CATEGORY IEN   (IA #4354)
    GMV GET CURRENT TIME   (IA #4355)
    GMV GET VITAL TYPE IEN (IA #4357)
    GMV LATEST VM          (IA #4358)
    GMV MANAGER            (IA #4360)
    GMV PARAMETER          (IA #4367)
    GMV USER               (IA #4366)
    GMV VITALS/CAT/QUAL    (IA #4359)
    GMV V/M ALLDATA        (IA #4654)
    GMV EXTRACT REC        (IA #4416)
    GMV MARK ERROR         (IA #4414)
    GMV ALLERGY            (IA #4350)
    GMV DLL VERSION        (IA #4420)
    GMV LOCATION SELECT    (IA #4461)
  
 Routine(s): GMV3PST
  
 Permission for the Vitals/Measurement package to add these RPCs under
 the OR CPRS GUI CHART option is granted in IA #4835.
  
 Permission for CPRS to call the GMV3PST routine to get these RPCs is
 granted in IA #4833
  
 d) The Graphical User Interface Standards and Conventions (GUI SAC) 
 document, (Version 1.0, February 2002), states in section 2.6 "files that
 are supported for use by more than one application shall be placed in the
 'Common Files' folder". Calling applications, such as CPRS v26, will know
 where to look for the DLL. 
  
 Permission to place the DLL in the 'Common Files' folder is granted in IA
 #4832.
  
 e) A new RPC, GMV DLL VERSION is added to the REMOTE PROCEDURE (#8994)
 file. It is used to check the version of the "GMV_VitalsViewEnter.dll"
 file to determine if the specified version of the file can be used. See 
 IA #4420 for a description of this RPC.
  
 f) A new entry, GMV DLL VERSION, is added to the PARAMETER DEFINITION 
 (#8989.51) file. This parameter is used to check the DLL file version 
 with the version stored on the server.
  
 g) Two new Application Programming Interfaces (APIs), QUALIFRS and SUPO2,
 are added to return qualifier and supplemental oxygen information for the
 CPRS Coversheet display.
  
 Routine(s): GMVUTL8
  
 These new APIs are documented in Integration Agreement #4653.
  
 h) The GMV V/M ALLDATA RPC is modified to return the hospital location and
 name of the person who entered a patient record. Before this patch, this 
 RPC did not return this information. After this patch, this RPC will
 return these additional values. See IA #4654 for a description of this
 RPC.
  
 Routine(s): GMVGGR1, GMVGGR2
  
 i) The GMV LATEST VM RPC is modified to return records where the patient
 was on pass, unavailable or refused to have the measurement taken. Before
 this patch, this RPC did not return records where the patient was on pass,
 unavailable or refused. After this patch, these records will also be 
 included. See IA #4358 for a description of this RPC.
  
 Routine(s): GMVLAT0
  
 j) A new RPC, GMV LOCATION SELECT is added to the REMOTE PROCEDURE (#8994)
 file. When the user clicks the "Hospital" button in the DLL or the 
 Vitals.exe, this RPC will allow the user to select a hospital location by 
 name, from an admission or an appointment. See IA #4461 for a description 
 of this RPC.
  
 Routine(s): GMVRPCHL
  
 2) This patch makes the existing Vitals.exe compliant with the Clinical
 Context Object Workgroup (CCOW) standard. The CCOW standard provides a way
 for applications to know what other applications the user is currently
 running and which patients are selected in those applications.
  
 a) After this patch is installed, when the user runs more than one GUI
 application at a time with patients selected, the Vitals.exe will know if
 a patient selection change was made in the other applications. The
 Vitals.exe may switch to another patient automatically or allow the user
 to "break context" and select a different patient.
  
 Routine(s): GMVRPCU, GMVRPCP
  
  ****************************** WARNING ********************************
  * CCOW may not work properly if you use VPN to access the VA network  *
  * remotely. This is a known issue: if you receive an error message    *
  * when you use CCOW-compliant applications via VPN, the current       *
  * workaround is to disable the context (see 2b). If you are using     *
  * multiple VistA applications while CCOW is disabled, please be sure  *
  * to verify the active patient when switching applications.           *
  ***********************************************************************
  
 b) When the Vitals GUI is invoked, by default, it is CCOW-enabled. It 
 checks to see what other GUIs are currently running on the user's 
 workstation. It sends current user and patient information to the CCOW 
 "vault" which coordinates user and patient information for the GUIs that 
 are running. If another CCOW-enabled application is running on the 
 workstation when the Vitals GUI is invoked, the Vitals GUI will open
 automatically without the need for a second sign-on. If a patient is
 already selected in the open GUI, the Vitals GUI will open with the
 patient being used by the open application. The user can turn off the CCOW
 context by adding a parameter setting. To do so:
   > Right click on the Vitals.exe shortcut icon
   > Click on "Properties"
   > Click on the "Shortcut" tab
   > Add to the "Target" textbox a space followed by "/NOCCOW" without the
     quotes
   > Click the "Apply" button
  
 Example:
  "C:\Program Files\vista\Vitals\Vitals.exe" /NOCCOW
  
 This will force the user to signon and select a patient when invoking the 
 Vitals GUI.
  
 c) The user can disable the automatic signon, but allow the automatic
 selection of a patient by adding a different parameter setting. This will
 disable the user context and force the user to signon. However, the 
 patient context will continue to function. If a patient is already
 selected in an open GUI, the Vitals GUI will open automatically with the
 patient being used by that open application and react to patient changes
 in other open applications on the user's workstation. To make this 
 parameter setting:
  
    > Right click on the Vitals.exe shortcut icon
    > Click on "Properties"
    > Click on the "Shortcut" tab
    > Add to the "Target" textbox a space followed by "/CCOW=PATIENTONLY"
      without the quotes
    > Click the "Apply" button
  
 Example:
  "C:\Program Files\vista\Vitals\Vitals.exe" /CCOW=PATIENTONLY
  
 d) The following two Supported RPCs are added to the RPC (#320) field of 
 the Vitals/Measurements GUI Application [GMV V/M GUI] option.
  
  VAFCTFU CONVERT DFN TO ICN (IA #4680)
  VAFCTFU CONVERT ICN TO DFN (IA #4679)
  
 These RPCs are used to identify the patient.
  
 e) The "/brokertimeout" and "/nonsharedbroker" parameter settings 
 previously available on the Vitals.exe shortcut icon no longer do
 anything. The CCOW functionality and the underlying Kernel package support
 for CCOW have made these parameter settings useless.
  
 3) This patch provides a new API for the Health Summary package to
 retrieve vitals patient data for ad hoc reports.
  
 Routine(s): GMVHS, GMVHS1
  
 This API is documented in Integration Agreement #4791.
  
 4) This patch fixes a bug reported in Remedy ticket 111531. There were 
 two patients with the exact same name on a ward. In the Vitals.exe, the 
 user clicked on the "Ward" button. Only one of the patients with that name
 appeared for selection. After this patch is installed, all patients in the
 ward will appear for selection. 
  
 Routine(s): GMVGETD
  
 5) Changes to the Vitals.exe main screen include:
  
 a) New options are added to the FILE menu that include:
     Patient Inquiry - Allows the user to view patient demographic 
                       information in a separate report window.
     Data Grid Report - Allows the user to view information from the data 
                        grid in a text-based report format.
     Rejoin Clinical Link - Allows the user to rejoin the CCOW link. When 
                            rejoining the clinical link, select "Use this
                            Application's Data" to continue to use the same
                            patient that is already selected in the Vitals
                            GUI. Select "Use Global Data" to synchronize
                            the Vitals GUI to the patient that is being
                            used by the other open applications 
                            participating in the CCOW link.
     Break the Clinical Link - Allows the user to break the CCOW link.
     Show Status - Shows a message stating whether or not the application 
                   is participating in a CCOW link.
     Show/Hide Graph Options - Toggle between showing and hiding graph 
                               icons.
     Select Graph Color - Change the background color of the data graph.
     Print Graph - Allows the user to send a graph display to a 
                   Windows-type printer.
  
 b) The patient selection buttons for "Ward", "Unit", "Team", "Clinic" and
 "All" are changed from radio buttons to ordinary buttons.
  
 c) The "Input Vitals for the Selected Patient" button is added. When the 
 user selects more than one patient at a time, this button must be clicked 
 to enter vitals data. If only one patient is selected, the user will 
 continue to click the "Enter Vitals" button to enter vitals data.
  
 d) New icons are added to the graph display to allow zoom in and zoom 
 out functionality. These icons are active when the "Allow Zoom" checkbox 
 is checked.
  
 e) The data grid shows the name of the person who entered the data and 
 the hospital location associated with the record.
  
 f) New graphs are added which include:
    CVP - Central Venous Pressure
    BMI - Body Mass Index
    B/P - Weight for Blood Pressure and Weight
    Intake - displays intake amounts (liquids only) recorded in the GEN.
             MED. REC. - I/O package
    Output - displays output amounts (liquids only) recorded in the GEN.
             MED. REC. - I/O package
  
 g) The BMI value in the data grid is calculated to two decimal places.
  
 h) The "3D" checkbox is active when the "Time Scale" checkbox is checked.
  
 i) Patient identification information is now displayed in the title bar.
  
 j) The patient identification button in the navigation bar is now 
 accessible by using the "Tab" key. Pressing the "Enter" or "Return" key 
 while this button is active will open the "Patient Inquiry" report window.
  
 6) Changes to the Vitals.exe data input screen include:
  
 a) "Enable U" and "Enable R" check boxes are added to allow the user to
 able/ disable the Unavailable and Refused checkboxes on the input
 template.
  
 b) The "Save And Exit" button is added. This new button allows the user to
 save the record and exit the input template in one click.
  
 c) The automatic conversion of numeric values between US standard and 
 metric is stopped. Before this patch, if a user entered a value for a 
 vital type that can be measured by more than one unit of measurement
 (e.g., lbs or kgs) and then selected a different unit, the input template
 would automatically recalculate the value entered into the new unit. After
 this patch is installed, the input template will not recalculate the data
 value entered by the user when the user selects a different unit of
 measurement.
  
 d) Patient identification information is now displayed in the title bar.
  
 e) The patient identification button in the navigation bar is now 
 accessible by using the "Tab" key. Pressing the "Enter" or "Return" key 
 while this button is active will open the "Patient Inquiry" report window.
  
 7) After this patch is installed the VitalsManager.exe will display a 
 message when the user attempts to create or edit a qualifier. The message 
 instructs the user to use the New Term Rapid Turnaround process to add or 
 change any qualifiers. 
  
   
 SOFTWARE RETRIEVAL:
 -------------------
 The KIDS build is attached to this message.
  
 The other files in this patch are bundled into the VITL5_P3.ZIP file. Use 
 Binary to download the file.
  
 Sites may retrieve this ZIP file in one of the following ways:
  
 (1)     The preferred method is to FTP the files from:
  
         download.vista.med.va.gov
  
         This will transmit the files from the first available FTP Server.
  
 (2)     Sites may also elect to retrieve the software directly from a 
         specific Server as follows:
  
   CIO FIELD OFFICE      FTP ADDRESS                  DIRECTORY
   ---------------       -----------                  ---------
   Albany                ftp.fo-albany.med.va.gov     [anonymous.software]
   Hines                 ftp.fo-hines.med.va.gov      [anonymous.software]
   Salt Lake City        ftp.fo-slc.med.va.gov        [anonymous.software]
  
  
   The VITL5_P3.ZIP contains:
  
   FILE NAME                 DESCRIPTION                  RETRIEVAL FORMAT
   ----------                -----------                  ----------------
   VITL5_P3.EXE              GUI executable               Binary 
   VITL5_P3.SRC.ZIP          GUI source code              Binary
   VITL5_TM.PDF              Technical Manual (all pages) Binary
   VITL5_UM.PDF              User Manual (all pages)      Binary
   VITL5_P3_IG.PDF           Installation Guide           Binary
   VITL5_P3_RN.PDF           Release Notes                Binary
   GMV_VitalsViewEnter.DLL   DLL file.                    Binary
   GMV_VitalsViewEnter.HLP   Help file for DLL            Binary
   GMV_VitalsViewEnter.CNT   Table of Contents for        Binary
                             the DLL Help file
  
 The User Manual (all pages) can also be retrieved from the VistA
 Documentation Library (VDL) on the VA Intranet at the following address:
   
         http://www.va.gov/vdl
  
  
 Routine Version Line:
 =====================
 Below is a list of the routines included in this patch. The second line of
 each of these routines now looks like:
  
 ;;5.0;GEN. MED. REC. - VITALS;**[Patch History]**;Oct 31, 2002
  
 CHECK^XTSUMBLD results:
 ======================
 Routine Name   Before Patch    After Patch     Patch History
 ============   ============    ===========     =============
  GMV3PST       n/a             3338633         3
  GMVBMI        3601670         3601910         3
  GMVDCSAV      5389066         5389066         9,3
  GMVGETD       5482006         5440689         3
  GMVGETQ       1937741         1937741         3
  GMVGGR1       12544071        11615893        3
  GMVGGR2       8668635         8759268         3
  GMVHS         n/a             9591886         3
  GMVHS1        n/a             3696297         3
  GMVLAT0       17018022        16763131        1,3
  GMVPAR        2442213         1447942         3
  GMVRPCHL      n/a             4287291         3
  GMVRPCM       14132833        14132833        1,8,13,3
  GMVRPCP       5864996         6194184         1,3
  GMVRPCU       2587395         2622253         3
  GMVUTL1       2299882         2299882         1,3
  GMVUTL3       2696177         2696177         3
  GMVUTL7       4872720         4872720         3
  GMVUTL8       879102          1455153         1,3
  
 Note: The routines that have the same before and after checksums had 
       changes to comment lines. 
  
  
 CHECK1^XTSUMBLD results:
 =======================
 Routine Name   Before Patch    After Patch     Patch History
 ============   ============    ===========     =============
  GMV3PST       n/a             13164837        3
  GMVBMI        5347273         5347673         3
  GMVDCSAV      19291667        19942469        9,3
  GMVGETD       10666719        11418226        3
  GMVGETQ       4969394         5211254         3
  GMVGGR1       19614768        19172168        3
  GMVGGR2       16039152        16803927        3
  GMVHS         n/a             58476565        3
  GMVHS1        n/a             8049761         3
  GMVLAT0       30381121        31312749        1,3
  GMVPAR        8679095         4978105         3
  GMVRPCHL      n/a             17869735        3
  GMVRPCM       72972413        72972413        1,8,13,3
  GMVRPCP       24862995        28561668        1,3
  GMVRPCU       5083930         5383241         3
  GMVUTL1       4892410         5125108         1,3
  GMVUTL3       5074648         5324263         3
  GMVUTL7       22243524        23154796        3
  GMVUTL8       2694671         6643593         1,3
   
  
 Installation Instructions:
 ==========================
 1) This patch can be installed with users on the system. However, this 
    patch should be installed when use of the software is low. Installation
    should take less than 5 minutes. 
  
    Please see the Installation Guide (VITL5_P3_IG.PDF) for an example.
  
 2) Load the Transport Global.
  
 3) (Optional) Run the following KIDS options before installing the patch:
  
               Compare Transport Global to Current System
               Verify Checksums in Transport Global
               Backup a Transport Global
  
 4) Install the KIDS Build GMRV*5.0*3.
  
    At the 'Want KIDS to Rebuild Menu Trees Upon Completion of Install?'
    prompt answer according to your facility's policy concerning the
    rebuilding of menu trees.
  
    At the 'Want KIDS to INHIBIT LOGONs during the install' prompt answer
    NO.
  
    At the 'Want to DISABLE Scheduled Options, Menu Options, and
    Protocols?' prompt answer YES.
    
    Place the following options out of service:
  
      Vitals/Measurements GUI Application [GMV V/M GUI]
      Vitals/Measurement Data Entry [GMRV V/M ENTRY MENU]
      Edit a Vital/Measurement Entered in Error [GMRV ERROR EDIT]    
  
 5) Move the routines to other CPUs if appropriate.
  
 6) Move the VITL5_P3.EXE file to an appropriate directory and/or
    workstations.
  
 7) Install the new Vitals executable files.
    a) Double-click on the VITL5_P3.EXE file to start the InstallShield 
       Wizard.
    b) Follow the Wizard instructions. When prompted to "Modify, repair, 
       or remove the program." select "Repair".
    c) Follow the wizard instructions to completion.
  
 8) If you are running the Clinician (Vitals.exe) and Manager 
    (VitalsManager.exe) files from a server, you should move the
    following files to the server:
  
     \Program Files\vista\Vitals\Vitals.exe
     \Program Files\vista\Vitals\VitalsManager.exe
     \Program Files\vista\Vitals\Help\Vitals.hlp
     \Program Files\vista\Vitals\Help\Vitals.cnt
     \Program Files\vista\Vitals\Help\VitalsManager.hlp
     \Program Files\vista\Vitals\Help\VitalsManager.cnt
     \Program Files\vista\Vitals\Help\Roboex32.dll
  
    If you are running the Clinician and Manager files from individual
    workstations and you want to push the files, you should include these
    files in your script.
  
 9) Place the new GMV_VitalsViewEnter.dll, GMV_VitalsViewEnter.hlp, and
    GMV_VitalsViewEnter.cnt files in the "Program Files\vista\Common Files
    directory of the workstation or server where CPRS v26 is or will be
    located. For example, if CPRS will be installed on the C:\ drive, the 
    three DLL related files must be copied into the C:\ Program 
    Files\vista\Common Files directory. If this directory path does not 
    exist, you must create it.  
  
    IMPORTANT: These files must not be installed in the same folder as
    CPRS v26. When CPRS v26 is installed, it will look for these three
    files in the specified directory path. If CPRS v26 cannot find the DLL
    and its supporting files, the users will not be able to enter patient
    vitals/measurements data.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: GMV3PST
    Before:       n/a  After: B13164837  **3**
Routine Name: GMVBMI
    Before:  B5347273  After:  B5347673  **3**
Routine Name: GMVDCSAV
    Before: B19291667  After: B19942469  **9,3**
Routine Name: GMVGETD
    Before: B10666719  After: B11418226  **3**
Routine Name: GMVGETQ
    Before:  B4969394  After:  B5211254  **3**
Routine Name: GMVGGR1
    Before: B19614768  After: B19172168  **3**
Routine Name: GMVGGR2
    Before: B16039152  After: B16803927  **3**
Routine Name: GMVHS
    Before:       n/a  After: B58476565  **3**
Routine Name: GMVHS1
    Before:       n/a  After:  B8049761  **3**
Routine Name: GMVLAT0
    Before: B30381121  After: B31312749  **1,3**
Routine Name: GMVPAR
    Before:  B8679095  After:  B4978105  **3**
Routine Name: GMVRPCHL
    Before:       n/a  After: B17869735  **3**
Routine Name: GMVRPCM
    Before: B72972413  After: B72972413  **1,8,13,3**
Routine Name: GMVRPCP
    Before: B24862995  After: B28561668  **1,3**
Routine Name: GMVRPCU
    Before:  B5083930  After:  B5383241  **3**
Routine Name: GMVUTL1
    Before:  B4892410  After:  B5125108  **1,3**
Routine Name: GMVUTL3
    Before:  B5074648  After:  B5324263  **3**
Routine Name: GMVUTL7
    Before: B22243524  After: B23154796  **3**
Routine Name: GMVUTL8
    Before:  B2694671  After:  B6643593  **1,3**

=============================================================================
User Information:
Entered By  : TRAXLER,FRANK                 Date Entered  : MAR 18, 2004
Completed By: CARDILLI,AL                   Date Completed: APR 19, 2006
Released By : THORNTON,NANCY                Date Released : APR 24, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
