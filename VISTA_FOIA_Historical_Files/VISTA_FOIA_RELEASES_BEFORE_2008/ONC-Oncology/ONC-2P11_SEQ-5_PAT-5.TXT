
=============================================================================
Run Date: JUL 10, 1996                     Designation: ONC*2.11*5
Package : ONC - ONCOLOGY                       Priority: Mandatory
Version : 2.11         SEQ #5                  Status: Released
=============================================================================


Subject: MISCELLANEOUS PROBLEMS

Category: 
  - Data Dictionary
  - Input Template
  - Print Template
  - Routine
  - Sort Template

Description: 
============

 This patch will do the following.  All fields referenced are in the 
 ONCOLOGY PRIMARY (#165.5) file unless otherwise specified.
    
  1) Correct the algorithm for computing the TREATMENT (#43) value.  Due to
     the addition of treatment dates 00/00/00 and 99/99/99, TREATMENT was not
     computing correctly.  The length of the TREATMENT field was also expanded
     from 10 to 27.
    
  2) Modify the TYPE OF REPORTING SOURCE (#1.2) code values to more accurately
     reflect the ROADS document.
    
  3) Correct the display of the CITY/TOWN AT DIAGNOSIS (#8.1) and STATE AT
     DIAGNOSIS (#16) fields (under "Address at DX") when using the "Print
     Abstract Extended (80c)" and "Print Complete Abstract (132c)" options.
    
  4) Allow for sort and print templates created via the "Print Custom Reports"
     option to be edited.  All of the package's sort and print templates will
     be selectable for use by this option but only the locally created
     templates will be editable.
    
  5) Add the new option "Enter/Edit ACOS Number file" to the "*..Utility
     Options" menu.  This option will allow the users to enter and/or edit
     entries in the ACOS NUMBER (#160.19) file.  
    
  6) Delete TONGUE from the SITE GROUP FOR ONCOLOGY (#164.2) file and re-point
     pointers to it to either PHARYNX or ORAL CAVITY.
    
  7) Change the synonym of the "Reindex Data Files (160, 165.5, 165)" option
     from RX to RI.  This option will also now prompt the user with the
     following:
    
     "This option will reindex the ONCOLOGY PATIENT, ONCOLOGY PRIMARY and
      ONCOLOGY CONTACT files.
    
      Are you sure you want to do this? No//"
    
     Prior to this patch choosing this option would immediately begin the
     reindexing process.
    
  8) Adds a 5th choice to the Primary Sub-menu Options of the "Abstract 
     Edit Primary" option:
    
     5. Patient Care Evaluation
    
     If you pick this option and the primary in question does not meet the
     PCE criteria, a message will be displayed telling you why.  e.g.
   
     "This primary does not satisfy the PCE record selection rules:
      Not a primary cancer of the urinary bladder."
    
     If the primary in question meets the PCE criteria, the user will go to
     the PCE menu.
    
     NOTE: Only cancers of the urinary bladder currently have a PCE.
   
  9) Fixes NOIS # BRX-0296-12068.  If an entry in the ONCOLOGY PRIMARY (165.5)
     file was deleted using an "@" at the SITE/GP prompt, the option errored
     out with an undefined variable DA.  This is now fixed.
    
 10) Fixes a problem reported in FORUM mail message #20073592.  When doing
     options "Accession Register-ACOS (80c)" and "Accession Register-Site
     (80c)" under the "Registry Lists" menu option, there was a problem with
     the display going over 80 characters, which caused it to wrap to the next
     line.  This was caused by the ACCESSION YEAR (#.07) field changing from 2
     to 4 characters.  This problem is fixed.
    
 11) Fixes another problem reported in FORUM mail message #20073592.
     When running option "Patient Index-ACOS (132c)" under the "Registry
     Lists" menu option, some patients were omitted and those that were
     printed were no longer in alphabetical order.  This was because the Sort
     Template used in this report was sorting on the INITIAL field (#.015) of
     ONCOLOGY PATIENT file (#160).  Due to changes to this field, it was not
     printing all patients.  NAME (#.01) is now used for sorting, which fixes
     this.
    
 12) Due to a change in the ACCESSION YEAR (#.07) field from 2 to 4 characters
     there were several places where year display was incorrect. This
     was because a 2 digit year was expected and "19" was being concatenated
     to the year, resulting in, for example, YEAR: 191996.  This is fixed.
    
 13) Adds a Date/Time stamp to the top of two reports, as requested in
     NOIS # WAS-1095-20048.  The two reports are "Registry Summary Reports"
     for "Annual" and "Followup" under the "Utility Options" menu.
    
 14) Fixes NOIS #'s BAY-0795-30864 and WAS-0795-20990.  When running the
     "Treatment by Stage - Cross tabs" option, under the "Statistical Reports"
     menu, it was erroring out with an undefined variable error.
    
 15) Fixes NOIS # BRK-1195-10857.  When deleting a patient through either
     the "Delete Oncology Patient" or "Recurrence Sub/Tx Follow-up" options,
     it would also result in all contacts associated with this patient being
     deleted from the ONCOLOGY CONTACT (#165) file.  This has been changed so
     that deleting a patient will no longer delete all associated contacts
     from the ONCOLOGY CONTACT (#165) file.
    
 16) Fixes NOIS # LIT-0296-71416.  The option "Registry Summary Reports" for
     "Annual" under "Utility Options" menu could produce invalid/inconsistent
     results if multiple reports were queued up simultaneously.  This was
     due to the way the report data was stored prior to printing.  This
     problem is fixed.
   
 17) Fixes the "Recurrence at 'site'" prompt in the DEATH INFORMATION 
     portion of the "Post/Edit Follow-up" option.  The prompt was getting an 
     invalid default.  The prompt was also changed to TYPE of FIRST RECURRENCE.
    
 18) Fixes a problem with PRIMARY PAYOR AT DIAGNOSIS on the bladder PCE.
     The value was not being pulled from the ONCOLOGY PRIMARY (#165.5) file
     but was being prompted for.
    
 19) Adds the computed field TNM (#37) to the "Print Complete Abstract (132c)"
     output.
    
 20) Displays the patient's name and SSN and the primary's site group and
     topography at the top of each section of the abstract edit template.
    
 21) Fixes NOIS # MAD-0596-40916.  When running the option "Cross Tabs (User
     Selectable) - Total Registry" under the "Statistical Reports" menu, the
     report would not print correctly to a printer.  If sent to a printer,
     it would print a blank page and the report would print to the screen.
     If the report was queued, the conditions of the report printed, but the
     report did not print.  This is fixed and now prints correctly.
    
 22) Fixes a problem with the output from the "Create State Data Disk" 
     option.  The "Addr at Dx-City", "Addr at Dx-State" and "Addr at 
     Dx-Zip" values were not being extracted correctly.
    
 23) The IMMUMOTHERAPY (BRM) (#.08) field of the SUBSEQUENT COURSE OF 
     TREATMENT (#60) multiple had an incorrect pointer screen.  Choices were 
     being screened out based on the DATE DX (#3) value instead of the 
     multiple's INITIATION DATE (#.01) value.  This has been fixed.
    
 24) In the [ONCO ABSTRACT-I] input template the branching logic for
     IMMUNOTHERAPY (BRM) (#55.2) and OTHER CANCER-DIRECTED THERAPY (#57.2)
     was incorrect.  The new logic is as follows:
   
     If IMMUNOTHERAPY (BRM) (#55.2) = 0,
        Then IMMUNOTHERAPY DATE (#55) = 00/00/00.
     If IMMUNOTHERAPY (BRM) (#55.2) = 8 or 9,
        Then IMMUNOTHERAPY DATE (#55) = 99/99/99.
     If OTHER CANCER-DIRECTED THERAPY (#57.2) = 0,
        Then OTH CANCER-DIRECTED TPY DATE (#57) = 00/00/00.
     If OTHER CANCER-DIRECTED THERAPY (#57.2) = 8 or 9,
        Then OTH CANCER-DIRECTED TPY DATE (#57) = 99/99/99.
    
 25) The post-install routine will check the following treatments and set the 
     treatment dates accordingly:
    
     If NON CANCER-DIRECTED SURGERY (#58.1) = 0 or 00,
        then NON CANCER-DIRECTED SURG DATE (#58.3) will be set to 00/00/00.
    
     If NON CANCER-DIRECTED SURGERY (#58.1) = 9 or 09,
        then NON CANCER-DIRECTED SURG DATE (#58.3) will be set to 99/99/99.
    
     If CANCER-DIRECTED SURGERY (#58.2) = 00,
        then CANCER-DIRECTED SURGERY DATE (#50) will be set to 00/00/00.
    
     If RADIATION (#51.2) = 0,
        then RADIATION DATE (#51) will be set to 00/00/00.
    
     If RADIATION (#51.2) = 9,
        then RADIATION DATE (#51) will be set to 99/99/99.
    
     If RADIATION THERAPY to BRAIN/CNS (#52.2) = 0,
        then RADIATION BRAIN/CNS DATE (#52) will be set to 00/00/00.
    
     If RADIATION THERAPY to BRAIN/CNS (#52.2) = 9,
        then RADIATION BRAIN/CNS DATE (#52) will be set to 99/99/99.
    
     If CHEMOTHERAPY (#53.2) = 0,
        then CHEMOTHERAPY DATE (#53) will be set to 00/00/00.
    
     If CHEMOTHERAPY (#53.2) = 9,
        then CHEMOTHERAPY DATE (#53) will be set to 99/99/99.
    
     If HORMONE THERAPY (#54.2) = 0,
        then HORMONE THERAPY DATE (#54) will be set to 00/00/00.
    
     If HORMONE THERAPY (#54.2) = 9,
        then HORMONE THERAPY DATE (#54) will be set to 99/99/99.
    
     If IMMUNOTHERAPY (BRM) (#55.2) = 0,
        then IMMUNOTHERAPY DATE (#55) will be set to 00/00/00.
    
     If IMMUNOTHERAPY (BRM) (#55.2) = 8 or 9,
        then IMMUNOTHERAPY DATE (#55) will be set to 99/99/99.
    
     If OTHER CANCER-DIRECTED THERAPY (#57.2) = 0,
        then OTH CANCER-DIRECTED TPY DATE (#57) will be set to 00/00/00.
    
     If OTHER CANCER-DIRECTED THERAPY (#57.2) = 8 or 9,
        then OTH CANCER-DIRECTED TPY DATE (#57) will be set to 99/99/99.
    
 26) This patch fixes NOIS # SYR-0994-10236.
 
 SOFTWARE RETRIEVAL:
    
 This patch is being distributed as a KIDS Host File.  The Host File,
 ONC211P5.KID, is located in the [ANONYMOUS.SOFTWARE] directory of the
 Albany, Hines and Salt Lake City IRMFO's.
    
 INSTALLATION INSTRUCTIONS: 
    
 The install name for this distribution is: ONC*2.11*5.
     
 When installing the KIDS distribution answer the following questions as 
 follows: 
     
 Want to DISABLE Scheduled Options and Menu Options? YES//<enter> 
     
 Enter options you wish to mark as 'Out Of Order': ONC*.  
 The installation should take approximately 10 minutes.    

Routine Information:
====================

Routine Name:
  - ONCOAIP

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Mar 07, 1995

Routine Checksum:
13196420

Routine Name:
  - ONCOCOS

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
10046073

Routine Name:
  - ONCODSP

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Mar 07, 1995

Routine Checksum:
11720713

Routine Name:
  - ONCODSP1

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
10745370

Routine Name:
  - ONCODSR

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Mar 07, 1995

Routine Checksum:
5787065

Routine Name:
  - ONCOES

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Mar 07, 1995

Routine Checksum:
8770911

Routine Name:
  - ONCOFDP

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Mar 07, 1995

Routine Checksum:
7137189

Routine Name:
  - ONCOPAR

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Mar 07, 1995

Routine Checksum:
10157500

Routine Name:
  - ONCOPRE

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Mar 07, 1995

Routine Checksum:
827714

Routine Name:
  - ONCORB1

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Feb 01, 1996

Routine Checksum:
14246864

Routine Name:
  - ONCORB2

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Feb 01, 1996

Routine Checksum:
10703840

Routine Name:
  - ONCORB3

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Feb 01, 1996

Routine Checksum:
6925552

Routine Name:
  - ONCOSA1

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
6682400

Routine Name:
  - ONCOSC

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
8257321

Routine Name:
  - ONCOSCG

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
8301105

Routine Name:
  - ONCOSCT1

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
5227071

Routine Name:
  - ONCOSCT2

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
7568112

Routine Name:
  - ONCOST

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Mar 07, 1995

Routine Checksum:
5594299

Routine Name:
  - ONCOST1

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
5570823

Routine Name:
  - ONCOUK

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
8568504

Routine Name:
  - ONCOUTC

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
11987077

Routine Name:
  - ONCOPOS

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
6191122

Routine Name:
  - ONCOPOS1

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
10884541

Routine Name:
  - ONCOPOS2

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
11725435

Routine Name:
  - ONCOFLF

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
4236355

Routine Name:
  - ONCOANC0

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Mar 07, 1995

Routine Checksum:
12513104

Routine Name:
  - ONCOU

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
10807597

Routine Name:
  - ONCOCC

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
3931199

Routine Name:
  - ONCOAIM

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Mar 07, 1995

Routine Checksum:
15540091

Routine Name:
  - ONCOTN1

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Mar 07, 1995

Routine Checksum:
3750113

Routine Name:
  - ONCORB4

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**1,5**;Feb 01, 1996

Routine Checksum:
3300483

Routine Name:
  - ONCOCFL2

 The second line should now look like the following:
 ;;2.11;ONCOLOGY;**5**;Mar 07, 1995

Routine Checksum:
13190220

=============================================================================
User Information:                               
Entered By  : BIELO,GARY                     Date Entered : MAY 14, 1996
Completed By: PATRICK,PAT                   Date Completed: JUL 10, 1996
Released By : WAKEFIELD,CAROLYN             Date Released : JUL 10, 1996
=============================================================================


Packman Mail Message:
=====================

No routines included
