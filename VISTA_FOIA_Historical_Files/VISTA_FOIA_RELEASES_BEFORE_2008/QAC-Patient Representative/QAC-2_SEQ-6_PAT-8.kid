Released QAC*2*8 SEQ #6
Extracted from mail message
**KIDS**:QAC*2.0*8^

**INSTALL NAME**
QAC*2.0*8
"BLD",1168,0)
QAC*2.0*8^PATIENT REPRESENTATIVE^0^^y
"BLD",1168,4,0)
^9.64PA^745.1^1
"BLD",1168,4,745.1,0)
745.1
"BLD",1168,4,745.1,2,0)
^9.641^745.1^1
"BLD",1168,4,745.1,2,745.1,0)
CONSUMER CONTACT  (File-top level)
"BLD",1168,4,745.1,2,745.1,1,0)
^9.6411^.01^1
"BLD",1168,4,745.1,2,745.1,1,.01,0)
CONTACT NUMBER
"BLD",1168,4,745.1,222)
y^n^p^^^^n
"BLD",1168,4,"APDD",745.1,745.1)

"BLD",1168,4,"APDD",745.1,745.1,.01)

"BLD",1168,4,"B",745.1,745.1)

"BLD",1168,"ABNS",0)
^9.66A^1^1
"BLD",1168,"ABNS",1,0)
QAC
"BLD",1168,"ABNS",1,1,0)
^9.661A^^
"BLD",1168,"ABNS","B","QAC",1)

"BLD",1168,"ABPKG")
n^n
"BLD",1168,"KRN",0)
^9.67PA^19^18
"BLD",1168,"KRN",.4,0)
.4
"BLD",1168,"KRN",.401,0)
.401
"BLD",1168,"KRN",.402,0)
.402
"BLD",1168,"KRN",.403,0)
.403
"BLD",1168,"KRN",.5,0)
.5
"BLD",1168,"KRN",.84,0)
.84
"BLD",1168,"KRN",3.6,0)
3.6
"BLD",1168,"KRN",3.8,0)
3.8
"BLD",1168,"KRN",9.2,0)
9.2
"BLD",1168,"KRN",9.8,0)
9.8
"BLD",1168,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",1168,"KRN",9.8,"NM",1,0)
QACADHOC^^0^B24798464
"BLD",1168,"KRN",9.8,"NM",2,0)
QACNEW^^0^B50852652
"BLD",1168,"KRN",9.8,"NM","B","QACADHOC",1)

"BLD",1168,"KRN",9.8,"NM","B","QACNEW",2)

"BLD",1168,"KRN",19,0)
19
"BLD",1168,"KRN",19.1,0)
19.1
"BLD",1168,"KRN",101,0)
101
"BLD",1168,"KRN",409.61,0)
409.61
"BLD",1168,"KRN",771,0)
771
"BLD",1168,"KRN",869.2,0)
869.2
"BLD",1168,"KRN",870,0)
870
"BLD",1168,"KRN",8994,0)
8994
"BLD",1168,"KRN","B",.4,.4)

"BLD",1168,"KRN","B",.401,.401)

"BLD",1168,"KRN","B",.402,.402)

"BLD",1168,"KRN","B",.403,.403)

"BLD",1168,"KRN","B",.5,.5)

"BLD",1168,"KRN","B",.84,.84)

"BLD",1168,"KRN","B",3.6,3.6)

"BLD",1168,"KRN","B",3.8,3.8)

"BLD",1168,"KRN","B",9.2,9.2)

"BLD",1168,"KRN","B",9.8,9.8)

"BLD",1168,"KRN","B",19,19)

"BLD",1168,"KRN","B",19.1,19.1)

"BLD",1168,"KRN","B",101,101)

"BLD",1168,"KRN","B",409.61,409.61)

"BLD",1168,"KRN","B",771,771)

"BLD",1168,"KRN","B",869.2,869.2)

"BLD",1168,"KRN","B",870,870)

"BLD",1168,"KRN","B",8994,8994)

"BLD",1168,"QUES",0)
^9.62^^
"BLD",1168,"REQB",0)
^9.611^1^1
"BLD",1168,"REQB",1,0)
QAC*2.0*6^1
"BLD",1168,"REQB","B","QAC*2.0*6",1)

"FIA",745.1)
CONSUMER CONTACT
"FIA",745.1,0)
^QA(745.1,
"FIA",745.1,0,0)
745.1I
"FIA",745.1,0,1)
y^n^p^^^^n
"FIA",745.1,0,10)

"FIA",745.1,0,11)

"FIA",745.1,0,"RLRO")

"FIA",745.1,0,"VR")
2.0^QAC
"FIA",745.1,745.1)
1
"FIA",745.1,745.1,.01)

"PKG",380,-1)
1^1
"PKG",380,0)
PATIENT REPRESENTATIVE^QAC^PATIENT REPRESENTATIVE PACKAGE
"PKG",380,20,0)
^9.402P^^
"PKG",380,22,0)
^9.49I^1^1
"PKG",380,22,1,0)
2.0^2950725^2950914
"PKG",380,22,1,"PAH",1,0)
8
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","QACADHOC")
0^1^B24798464
"RTN","QACADHOC",1,0)
QACADHOC ;HISC/DAD-AD HOC REPORT INTERFACE FOR THE CONSUMER CONTACT FILE (#745.1) ;6/13/95  13:20
"RTN","QACADHOC",2,0)
 ;;2.0;Patient Representative;**1,3,5,6,8**;07/25/1995
"RTN","QACADHOC",3,0)
 ;;1.6;QM Integration Module;;03/28/1994
"RTN","QACADHOC",4,0)
 ; *** Set up required and optional variables and call Ad Hoc Rpt Gen
"RTN","QACADHOC",5,0)
 S QAQMRTN="MENU^QACADHOC",QAQORTN="OTHER^QACADHOC",QAQDIC=745.1
"RTN","QACADHOC",6,0)
 S QAQMHDR="Patient Representative"
"RTN","QACADHOC",7,0)
 D ^QAQAHOC0
"RTN","QACADHOC",8,0)
 Q
"RTN","QACADHOC",9,0)
MENU ; *** Build the menu array
"RTN","QACADHOC",10,0)
 S QAQMENU=1
"RTN","QACADHOC",11,0)
 F QA=1:1 S X=$P($T(TEXT+QA),";;",2,99) Q:X=""  S QAQMENU(QAQMENU)=X,QAQMENU=QAQMENU+1
"RTN","QACADHOC",12,0)
 Q
"RTN","QACADHOC",13,0)
OTHER ; *** Set up other (optional) EN1^DIP variables, e.g.
"RTN","QACADHOC",14,0)
 ; *** DCOPIES,DHD,DHIT,DIOBEG,DIOEND,DIS(),IOP,PG
"RTN","QACADHOC",15,0)
 K QAQFOUND S QAQFOUND=0,DHIT="S QAQFOUND=1"
"RTN","QACADHOC",16,0)
 S DIOEND="I 'QAQFOUND W !!,""No data found for this report !!"""
"RTN","QACADHOC",17,0)
 Q
"RTN","QACADHOC",18,0)
TEXT ;;*** Sort Yes/No ^ Menu Text ^ ~Field # ^ DIR(0)
"RTN","QACADHOC",19,0)
 ;;0^Contact Number^~.01;"Contact Number"^NAO^-999999999:999999999:9^
"RTN","QACADHOC",20,0)
 ;;1^Date of Contact^~1;"Date Of Contact"^DAO^::AETS^D DATE^QAQAHOC2
"RTN","QACADHOC",21,0)
 ;;1^Patient Name^~2;"Patient Name"^PAO^2:AEMQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",22,0)
 ;;1^SSN^~3^FAO^1:60^
"RTN","QACADHOC",23,0)
 ;;1^Date of Birth^~4;"Date of Birth"^DAO^::AETS^D DATE^QAQAHOC2
"RTN","QACADHOC",24,0)
 ;;1^Sex^~5;"Sex"^SOA^M:MALE;F:FEMALE;^I $D(Y(0)) S Y=Y(0)
"RTN","QACADHOC",25,0)
 ;;1^Eligibility Status^~6;"Eligibility Status"^PAO^8:AEMQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",26,0)
 ;;1^Category^~7;"Category"^PAO^408.32:AEMQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",27,0)
 ;;1^Info Taken by^~8;"Info Taken by"^PAO^200:AEMQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",28,0)
 ;;1^Entered by^~9;"Entered by"^PAO^200:AEMQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",29,0)
 ;;0^Name of Contact^~10;"Name of Contact"^FAO^1:60^
"RTN","QACADHOC",30,0)
 ;;0^Phone of Contact^~11;"Phone of Contact"^FAO^1:60^
"RTN","QACADHOC",31,0)
 ;;1^Contact Made by^~12;"Contact Made by"^SOA^PA:Patient;RE:Relative;FR:Friend;CO:Congressional;VH:VISN/HQ;VO:Veterans Service Org.;AT:Atty/Guard/Consv/Trustee;DI:Director's Office - VAMC;ST:Staff - VAMC;OT:Other;^D SET^QAQAHOC2
"RTN","QACADHOC",32,0)
 ;;1^Source of Contact(to 10/1/97)^~13;"Source of Contact"^SOA^L:Letter;W:Ward Visit;V:Visit;P:Phone;S:Survey;^D SET^QAQAHOC2
"RTN","QACADHOC",33,0)
 ;;1^Source(s) of Contact^30,~.01;"Source(s) of Contact (after 9/1/97)"^SOA^L:Letter;W:Ward Visit;V:Visit;P:Phone;S:Survey;I:Internet;^D SET^QAQAHOC2
"RTN","QACADHOC",34,0)
 ;;1^Location of Event^~14;"Location of Event"^PAO^44:AEMNQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",35,0)
 ;;1^Treatment Status^~16.5;"Treatment Status"^SOA^I:Inpatient;O:Outpatient;D:Domiciliary;N:NHCU;L:Long Term Psych;E:Extended/Intermed. Care;H:HBHC;^D SET^QAQAHOC2
"RTN","QACADHOC",36,0)
 ;;1^Employee^17,~.01;"Employee"^PAO^200:AEMQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",37,0)
 ;;1^Refer Contact to^28,~.01;"Refer Contact to"^PAO^200:AEMNQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",38,0)
 ;;1^Congressional Contact^~29;"Congressional Contact"^PAO^745.4:AEMNQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",39,0)
 ;;1^Date Sent^~19;"Date Sent"^DAO^::AETS^D DATE^QAQAHOC2
"RTN","QACADHOC",40,0)
 ;;1^Date Due^~20.1;"Date Due"^DAO^::AETS^D DATE^QAQAHOC2
"RTN","QACADHOC",41,0)
 ;;1^Issue Codes^21,.01:,~.01;"Issue Codes"^PAO^745.2:AEMNQZ^I $D(Y(0)) S Y=$P(Y(0),U)_"  "_$P(Y(0),U,3)
"RTN","QACADHOC",42,0)
 ;;1^Serv/Sect Involved(to 10/1/97)^21,1,~.01;"Serv/Sect Involved"^POA^49:AEMNQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",43,0)
 ;;1^Serv/Discipline Involved^21,3,~.01;"Section/Discipline Involved"^POA^745.55:AEMNQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",44,0)
 ;;1^Disciplines^21,3,~1;"Discipline"^PAO^745.5:AEMZQ^D POINTER^QAQAHOC2
"RTN","QACADHOC",45,0)
 ;;0^Issue Text^~22;"Issue Text"^
"RTN","QACADHOC",46,0)
 ;;1^Qm Involvement^24,~.01;"QM Involvement"^SOA^1:Tort Claim;2:Incident Report (10-2633);3:Peer Review;4:Board of Investigation;5:Other;^D SET^QAQAHOC2
"RTN","QACADHOC",47,0)
 ;;0^Resolution Comments^~25;"Resolution Comments"^
"RTN","QACADHOC",48,0)
 ;;1^Date Resolved^~26;"Date Resolved"^DAO^::AETS^D DATE^QAQAHOC2
"RTN","QACADHOC",49,0)
 ;;1^Status^~27;"Status"^SOA^O:Open;C:Closed;^D SET^QAQAHOC2
"RTN","QACADHOC",50,0)
 ;;1^Code Status^21,~.01:4;"Code Status"^SOA^1:INACTIVE;N:NATIONAL;L:LOCATION;^D SET^QAQAHOC2
"RTN","QACADHOC",51,0)
 ;;0^Code Definition^21,~.01:5;"Code Definition"
"RTN","QACADHOC",52,0)
 ;;1^Refer to SEAT^~33;"Referred to SEAT"^SOA^Y:YES;N:NO;^D SET^QAQAHOC2
"RTN","QACADHOC",53,0)
 ;;1^Division^~37;"Division"^PAO^4:AEMNQZ^D POINTER^QAQAHOC2
"RTN","QACADHOC",54,0)
 ;;1^Level of Satisfaction^~36;"Level of Satisfaction"^SOA^1:Not at all satisfied;2:Slightly satisfied;3:Somewhat satisfied;4:Pretty satisfied;5:Very satisfied;6:Extremely satisifed;^D SET^QAQAHOC2
"RTN","QACADHOC",55,0)
 ;;1^Persian Gulf Service?^~32;"Persian Gulf Service?"^SOA^Y:YES;N:NO;^D SET^QAQAHOC2
"RTN","QACADHOC",56,0)
 ;;0^Issue Code Name^21,.01:2;"Issue Code Name"^PAO^745.2:AEMNQZ^
"RTN","QACNEW")
0^2^B50852652
"RTN","QACNEW",1,0)
QACNEW ;HISC/RS,CEW,DAD-Enter a new Patient representative record ;3/21/95  10:13
"RTN","QACNEW",2,0)
 ;;2.0;Patient Representative;**3,5,8**;07/25/1995
"RTN","QACNEW",3,0)
 S DIR("A")="Enter Date of Contact: ",DIR(0)="DOA^2010101:"_DT_":PEX"
"RTN","QACNEW",4,0)
 S DIR("?")="^D HELP^%DTC",DIR("??")="^D HELP^QACNEW"
"RTN","QACNEW",5,0)
 D ^DIR K DIR
"RTN","QACNEW",6,0)
 G QUIT:$D(DIROUT)!($D(DIRUT))
"RTN","QACNEW",7,0)
 S QACDOC=Y
"RTN","QACNEW",8,0)
 K DA S DIR("A")="Enter Patient Name",DIR(0)="745.1,2"
"RTN","QACNEW",9,0)
 D ^DIR K DIR
"RTN","QACNEW",10,0)
 G QUIT:$D(DIROUT)!($D(DTOUT))!($D(DUOUT))
"RTN","QACNEW",11,0)
 S QACPN=$P(Y,"^",1)
"RTN","QACNEW",12,0)
 S QACINCR=0
"RTN","QACNEW",13,0)
 G:QACPN="" QACRECN
"RTN","QACNEW",14,0)
SHOW S (QACELI,QACCAT,QACSSN,QACDOB)="",QACY=+Y
"RTN","QACNEW",15,0)
 I QACPN'="" S QACDATA=$G(^DPT(QACPN,0)),QACNAME=$P(QACDATA,"^") D
"RTN","QACNEW",16,0)
 .S QACSSN=$P(QACDATA,"^",9),QACDOB=$P(QACDATA,"^",3),QACSEX=$P(QACDATA,"^",2) S DFN=QACPN D ELIG^VADPT S QACELI=$P($G(VAEL(1)),"^",2),QACCAT=$P($G(VAEL(9)),"^",2)
"RTN","QACNEW",17,0)
 N QACPSRV,QACGWV
"RTN","QACNEW",18,0)
 I QACPN'="" S QACPSRV=$P($G(^DPT(QACPN,.32)),U,3)
"RTN","QACNEW",19,0)
 I QACPN'="" S QACGWV=$P($G(^DPT(QACPN,.322)),U,10)
"RTN","QACNEW",20,0)
 W @IOF,!!,?15,"Enter New Patient Representative Contact",!
"RTN","QACNEW",21,0)
 I QACPN'="" S QACPAT=^DPT(QACPN,0)
"RTN","QACNEW",22,0)
 W !,"Patient Name:",?20,$P($G(QACPAT),U)
"RTN","QACNEW",23,0)
 W ?47,"Patient SSN:",?66,$P($G(QACPAT),U,9)
"RTN","QACNEW",24,0)
 S Y=$P($G(QACPAT),U,3) D DD^%DT W !,"Patient DOB: ",?20,$G(Y)
"RTN","QACNEW",25,0)
 W ?47,"Patient Sex:",?66,$P($G(QACPAT),U,2)
"RTN","QACNEW",26,0)
 W !,"Eligibility Status:",?20,$G(QACELI)
"RTN","QACNEW",27,0)
 W ?47,"Patient Category:",?66,$G(QACCAT)
"RTN","QACNEW",28,0)
 I $G(QACPSRV)]"" W !,"Period of Service: ",?20,$P(^DIC(21,$G(QACPSRV),0),U)
"RTN","QACNEW",29,0)
 W ?47,"Persian Gulf War?: ",?66,$S($G(QACGWV)="Y":"YES",$G(QACGWV)="N":"NO",$G(QACGWV)="U":"UNKNOWN",1:"Not Entered")
"RTN","QACNEW",30,0)
 N CNT1,CNT2,J,K,L,M,N,QACCODE,QACCSS,QACFLG,QACNUM,QACOPEN,QACROC,QACSS
"RTN","QACNEW",31,0)
 I QACPN'="" S J="",CNT1=0 F  S J=$O(^QA(745.1,"E",QACPN,J)) Q:'J  D
"RTN","QACNEW",32,0)
 . S CNT1=CNT1+1
"RTN","QACNEW",33,0)
 . S QACROC(CNT1)=J
"RTN","QACNEW",34,0)
 I $G(CNT1)>0 D
"RTN","QACNEW",35,0)
 . W !!,"Last ROC for ",QACNAME,": ",$P(^QA(745.1,QACROC(CNT1),0),U)
"RTN","QACNEW",36,0)
 . S Y=$P(^QA(745.1,QACROC(CNT1),0),U,2) D DD^%DT
"RTN","QACNEW",37,0)
 . W "  Date: ",Y
"RTN","QACNEW",38,0)
 . I $G(^QA(745.1,QACROC(CNT1),3,0))]"" S QACNUM=QACROC(CNT1) D CODES
"RTN","QACNEW",39,0)
 I QACPN'="" S DFN=QACPN D DIS^DGRPDB
"RTN","QACNEW",40,0)
 I $G(CNT1)>0 D
"RTN","QACNEW",41,0)
 . S K=0,CNT2=0 F  S K=$O(QACROC(K)) Q:'K  Q:QACROC(K)'>0  D
"RTN","QACNEW",42,0)
 . . I '$D(^XUSEC("QAC EDIT",DUZ))#2,(DUZ'=$P(^QA(745.1,QACROC(K),0),U,7)) Q
"RTN","QACNEW",43,0)
 . . I $P($G(^QA(745.1,QACROC(K),7)),U,2)="O" S CNT2=CNT2+1,QACOPEN(CNT2)=QACROC(K)
"RTN","QACNEW",44,0)
 I $G(CNT2)'>0,(QACPN'="") W !!,"There are no open Contacts on patient ",$P(^DPT(QACPN,0),U),"."
"RTN","QACNEW",45,0)
 I $G(CNT2)>0 W !!,"Would you like to edit open ROC(s) at this time" S %=0 D YN^DICN W:%'=1 !! I %=1 D
"RTN","QACNEW",46,0)
 . I CNT2>1,(QACPN'="") D
"RTN","QACNEW",47,0)
EDOPEN . . ; If user chooses, can edit open ROCs on this patient.
"RTN","QACNEW",48,0)
 . . W !!?10,"Edit an open Report of Contact on ",$P(^DPT(QACPN,0),U)
"RTN","QACNEW",49,0)
 . . W !,"Choose from: "
"RTN","QACNEW",50,0)
 . . S L=0 F  S L=$O(QACOPEN(L)) Q:'L  D
"RTN","QACNEW",51,0)
 . . . I $D(^XUSEC("QAC EDIT",DUZ))#2!(DUZ=$P(^QA(745.1,QACOPEN(L),0),U,7)) W !,L,"   ",$P(^QA(745.1,QACOPEN(L),0),U) S Y=$P(^QA(745.1,QACOPEN(L),0),U,2) D DD^%DT W ?40,"Date: ",Y S QACNUM=QACOPEN(L) D CODES
"RTN","QACNEW",52,0)
 . . S DIR(0)="NO",DIR("S")="I X>0,(X<QACLAST+1)"
"RTN","QACNEW",53,0)
 . . S DIR("?")="Enter the list number of your selection."
"RTN","QACNEW",54,0)
 . . D ^DIR Q:$D(DIRUT)
"RTN","QACNEW",55,0)
 . . S (RECNR,Y)=QACOPEN(X),QACFLG=1,DIE=745.1
"RTN","QACNEW",56,0)
 . . D EDT^QACEDIT G EDOPEN
"RTN","QACNEW",57,0)
 . . W !!!!,"****Returning to 'Enter New Contact' session.****",!!
"RTN","QACNEW",58,0)
 . I CNT2=1 D
"RTN","QACNEW",59,0)
 . . S (Y,RECNR,QACNUM)=QACOPEN(CNT2),QACFLG=1
"RTN","QACNEW",60,0)
 . . W !!!,$P(^QA(745.1,QACNUM,0),U) S Y=$P(^QA(745.1,QACNUM,0),U,2) D DD^%DT W ?40,"Date: ",Y
"RTN","QACNEW",61,0)
 . . D CODES
"RTN","QACNEW",62,0)
 . . S Y=QACNUM D EDT^QACEDIT
"RTN","QACNEW",63,0)
 . . W !!!!,"****Returning to 'Enter New Contact' session.****",!!
"RTN","QACNEW",64,0)
 S QACINCR=0
"RTN","QACNEW",65,0)
QACRECN ; Build next contact number
"RTN","QACNEW",66,0)
 N QACNO,QACNT S QACNT=0
"RTN","QACNEW",67,0)
 S QACSITE=$P($G(^QA(740,1,0)),U) Q:QACSITE']""
"RTN","QACNEW",68,0)
 S QACSITE=$P($G(^DIC(4,QACSITE,99)),U)
"RTN","QACNEW",69,0)
 I QACSITE="" W !,"Unable to find your station number!" G QUIT
"RTN","QACNEW",70,0)
 S QACYR=$E(DT,2,3),(QACRCFLG,QAC)=+$P($G(^QA(745.1,0)),U,3)
"RTN","QACNEW",71,0)
 I $G(QACRCFLG) D
"RTN","QACNEW",72,0)
 . F  S QAC=$O(^QA(745.1,QAC)) Q:QAC'>0  S QACRCFLG=QAC
"RTN","QACNEW",73,0)
 . S QACRCD(1)=$P($G(^QA(745.1,QACRCFLG,0)),U)
"RTN","QACNEW",74,0)
 . S QACRCD(2)=$P(QACRCD(1),".",2)
"RTN","QACNEW",75,0)
 . S QACRCD(4)=$E(QACRCD(2),1,2)
"RTN","QACNEW",76,0)
 . I QACYR'=$G(QACRCD(4)) S QACRCD=QACYR_"000"_1+QACINCR Q
"RTN","QACNEW",77,0)
 . ; splitting off year from contact number to allow for >9999 records
"RTN","QACNEW",78,0)
 . ; per year.  patch QAC*2*8 - ERC
"RTN","QACNEW",79,0)
 . S QACRCD(3)=$E(QACRCD(2),3,999)
"RTN","QACNEW",80,0)
 . S QACRCD(3)=QACRCD(3)+1+QACINCR
"RTN","QACNEW",81,0)
 . S QACLEN=$L(QACRCD(3))
"RTN","QACNEW",82,0)
 . S QACRCD=QACYR_QACRCD(3)
"RTN","QACNEW",83,0)
 . I QACLEN<4 S QACRCD=QACYR_$E("000",1,(4-QACLEN))_QACRCD(3)
"RTN","QACNEW",84,0)
 E  S QACRCD=QACYR_"000"_1+QACINCR
"RTN","QACNEW",85,0)
 S QACCASE=QACSITE_"."_QACRCD
"RTN","QACNEW",86,0)
 I $O(^QA(745.1,"B",QACCASE,0))>0 S QACINCR=QACINCR+1 G QACRECN
"RTN","QACNEW",87,0)
 S QACLC="L +X"_$P(QACCASE,".",2)_":0"
"RTN","QACNEW",88,0)
 X QACLC I '$T S QACINCR=QACINCR+1 G QACRECN
"RTN","QACNEW",89,0)
 K DIC,DD,DO,DINUM,DLAYGO S X=QACCASE
"RTN","QACNEW",90,0)
 S DIC("DR")="",DIC(0)="EMQLZ",(DIC,DLAYGO)=745.1 D ^DIC K DIC
"RTN","QACNEW",91,0)
 S QACLC="L -X"_$P(QACCASE,".",2) X QACLC G END:Y<0
"RTN","QACNEW",92,0)
 I $P($G(^QA(740,1,"QAC")),U,3)=1 S TEMPY=$G(Y) D  S Y=$G(TEMPY)
"RTN","QACNEW",93,0)
 . W !!,"DIVISION: "
"RTN","QACNEW",94,0)
 . S QACNT=0 S QACLIST="S EE=0 F  S EE=$O(^QA(740,1,""QAC2"",EE)) Q:EE'>0  W !?5,EE,?10,$P(^DIC(4,$P(^QA(740,1,""QAC2"",EE,0),U),0),U) S QACNT=QACNT+1"
"RTN","QACNEW",95,0)
LIST . S QACNT=0 X QACLIST
"RTN","QACNEW",96,0)
 . I $G(QACNT)<1 W !?5,"There are no divisions entered in your QA Site Paramter File (#740).",!?5,"Ask your IRM support person to edit this file.  If your site"
"RTN","QACNEW",97,0)
 . I $G(QACNT)<1 W !?5,"is entered in file #740 as a MULTI-DIVISIONAL PAT REP FACILITY you need",!?5,"entries in the PAT REP HOSPITAL DIVISION multiple."
"RTN","QACNEW",98,0)
 . S DIR(0)="NA"
"RTN","QACNEW",99,0)
 . S DIR("A")="Enter the number of your choice: "
"RTN","QACNEW",100,0)
 . S DIR("?")="Choose the number of your division."
"RTN","QACNEW",101,0)
 . S DIR("??")="^S QACNT=0 X QACLIST"
"RTN","QACNEW",102,0)
 . D ^DIR K DIR
"RTN","QACNEW",103,0)
 . Q:$G(DUOUT)
"RTN","QACNEW",104,0)
 . I '$G(^QA(740,1,"QAC2",+Y,0)) W !,"Enter the number of your choice." S QACNT=0 G LIST
"RTN","QACNEW",105,0)
 . ;I +Y<1!(+Y>$G(QACNT)) W !,"Enter a number from 1 - "_$G(QACNT) S QACNT=0 G LIST
"RTN","QACNEW",106,0)
 . S QACNO=Y
"RTN","QACNEW",107,0)
 . S DIE="^QA(745.1,",DR="37////^S X=^QA(740,1,""QAC2"",QACNO,0)"
"RTN","QACNEW",108,0)
 . D ^DIE I $D(Y)>0 S QACNT=0 G LIST
"RTN","QACNEW",109,0)
 . W "   ",$P(^DIC(4,^QA(740,1,"QAC2",QACNO,0),0),U),!!
"RTN","QACNEW",110,0)
 Q:$G(DUOUT)
"RTN","QACNEW",111,0)
 S (QACDA,DA)=+Y
"RTN","QACNEW",112,0)
 S QACALERT=1
"RTN","QACNEW",113,0)
 S DIE="^QA(745.1,",DA=QACDA,DR="1////"_QACDOC_";2////"_$G(QACPN)_";9////"_DUZ_";27///^S X=""O"";6////"_$G(QACELI)_";7///"_$G(QACCAT)_";31////"_$G(QACPSRV)_";32////"_$G(QACGWV) D ^DIE
"RTN","QACNEW",114,0)
 K DIC,DIQ,DR
"RTN","QACNEW",115,0)
 ;I QACPN'="" S DFN=QACPN D DIS^DGRPDB
"RTN","QACNEW",116,0)
 K TMP,DFN,CODE,DIQ,DIR,DR,LINE,N1,N2,QAC,QACCASE,QACCAT,QACDATA,QACDOB,QACDOC,QACELI,QACFL1,QACRCD,QACRCD(1),QACRCD(2),QACRCFLG,QACSEX,QACSITE,QACSSN,QACYR,TAB,TEXT,VAEL,QACY
"RTN","QACNEW",117,0)
EDIT ;FILL IN REST OF DATA FIELDS
"RTN","QACNEW",118,0)
 W ! S DIE="^QA(745.1,"
"RTN","QACNEW",119,0)
 S DA=QACDA
"RTN","QACNEW",120,0)
 I $G(QACPN)]"" S DR=16.5 D ^DIE
"RTN","QACNEW",121,0)
 S DR="[QAC CONTACT ENTER/EDIT]"
"RTN","QACNEW",122,0)
 D ^DIE
"RTN","QACNEW",123,0)
END K D,D0,DA,DD,DI,DIC,DIE,DIR,DLAYGO,DTOUT,DO,DR,DUOUT,FLD,J,TEMPY,X,Y
"RTN","QACNEW",124,0)
 K QACALERT,QACCASE,QACD1,QACDA,QACDFLT,QACFL1,QACINCR,QACLAST,QACLC,QACN,QACOPEN,QACOUT,QACPN,QACY
"RTN","QACNEW",125,0)
 W !! G ^QACNEW
"RTN","QACNEW",126,0)
HELP ;
"RTN","QACNEW",127,0)
 W !!,"This is the date the Patient Representative was initially contacted."
"RTN","QACNEW",128,0)
 W !,"Enter a date no later than TODAY."
"RTN","QACNEW",129,0)
 Q
"RTN","QACNEW",130,0)
TEXT ;
"RTN","QACNEW",131,0)
1 ;;0^Contact Number:^W ?20,QACDATA
"RTN","QACNEW",132,0)
100 ;;47^Date of Contact:^W ?66,QACDATA
"RTN","QACNEW",133,0)
200 ;;0^Patient Name:^W ?20,QACDATA
"RTN","QACNEW",134,0)
300 ;;47^Patient SSN (c):^W ?66,QACDATA
"RTN","QACNEW",135,0)
400 ;;0^Patient DOB (c):^S Y=QACDATA D DD^%DT S QACDATA=Y W ?20,QACDATA
"RTN","QACNEW",136,0)
500 ;;47^Patient sex (c):^W ?66,QACDATA
"RTN","QACNEW",137,0)
600 ;;0^Eligibility Status:^W ?20,QACDATA
"RTN","QACNEW",138,0)
700 ;;47^Patient Category:^W ?66,QACDATA
"RTN","QACNEW",139,0)
 ;
"RTN","QACNEW",140,0)
QUIT K DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","QACNEW",141,0)
 K QACALERT,QACDOC,QACFL1,QACPN,QACRCD,QACY
"RTN","QACNEW",142,0)
 Q
"RTN","QACNEW",143,0)
CODES ; Display Issue Codes and Customer Service Standards with ROC
"RTN","QACNEW",144,0)
 W !?3,"Issue Code(s):"
"RTN","QACNEW",145,0)
 S M=0
"RTN","QACNEW",146,0)
 F  S M=$O(^QA(745.1,QACNUM,3,M)) Q:'M  S QACCODE=^QA(745.1,QACNUM,3,M,0) D
"RTN","QACNEW",147,0)
 . W !,$P(^QA(745.2,QACCODE,0),U)_"-"_$P(^QA(745.2,QACCODE,0),U,3)
"RTN","QACNEW",148,0)
 . S QACCSS=$P(^QA(745.2,QACCODE,0),U,7)
"RTN","QACNEW",149,0)
 . I $G(QACCSS)]"" S N="" S QACSS=$O(^QA(745.6,"B",QACCSS,N)) W "(*",$P(^QA(745.6,QACSS,0),U,2),")"
"RTN","QACNEW",150,0)
 Q
"VER")
8.0^21.0
"^DD",745.1,745.1,.01,0)
CONTACT NUMBER^RFX^^0;1^K:$L(X)>14!($L(X)<10) X
"^DD",745.1,745.1,.01,1,0)
^.1
"^DD",745.1,745.1,.01,1,1,0)
745.1^B
"^DD",745.1,745.1,.01,1,1,1)
S ^QA(745.1,"B",$E(X,1,30),DA)=""
"^DD",745.1,745.1,.01,1,1,2)
K ^QA(745.1,"B",$E(X,1,30),DA)
"^DD",745.1,745.1,.01,1,1,"%D",0)
^^1^1^2931110^
"^DD",745.1,745.1,.01,1,1,"%D",1,0)
Regular cross-reference used for look-up.
"^DD",745.1,745.1,.01,1,2,0)
745.1^C^MUMPS
"^DD",745.1,745.1,.01,1,2,1)
S ^QA(745.1,"C",$E($P(X,".",2),3,99),DA)=""
"^DD",745.1,745.1,.01,1,2,2)
K ^QA(745.1,"C",$E($P(X,".",2),3,99),DA)
"^DD",745.1,745.1,.01,1,2,"%D",0)
^^1^1^2981208^^^
"^DD",745.1,745.1,.01,1,2,"%D",1,0)
Cross-reference of the sequence number portion of the contact number.
"^DD",745.1,745.1,.01,1,2,"DT")
2981208
"^DD",745.1,745.1,.01,3)
This field is non interactive with a user.  It is a self generated Contact number used to identify the consumer contact.
"^DD",745.1,745.1,.01,21,0)
^^1^1^2981202^^^^
"^DD",745.1,745.1,.01,21,1,0)
This is a self generated Contact number used to identify consumer contact.
"^DD",745.1,745.1,.01,"DT")
2981208
**END**
**END**
