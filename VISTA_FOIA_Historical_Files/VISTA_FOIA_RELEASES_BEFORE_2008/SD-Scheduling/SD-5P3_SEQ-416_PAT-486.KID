Released SD*5.3*486 SEQ #416
Extracted from mail message
**KIDS**:SD*5.3*486^

**INSTALL NAME**
SD*5.3*486
"BLD",6524,0)
SD*5.3*486^SCHEDULING^0^3070816^y
"BLD",6524,1,0)
^^1^1^3070312^
"BLD",6524,1,1,0)
EWL ENROLLEE RE-CALCULATION.
"BLD",6524,4,0)
^9.64PA^409.39^1
"BLD",6524,4,409.39,0)
409.39
"BLD",6524,4,409.39,222)
y^y^f^^^^n
"BLD",6524,4,"B",409.39,409.39)

"BLD",6524,6)
27^
"BLD",6524,6.3)
37
"BLD",6524,"ABPKG")
n
"BLD",6524,"KRN",0)
^9.67PA^8989.52^19
"BLD",6524,"KRN",.4,0)
.4
"BLD",6524,"KRN",.4,"NM",0)
^9.68A^1^1
"BLD",6524,"KRN",.4,"NM",1,0)
PATCH 486 PRINT TEMPLATE    FILE #409.39^409.39^0
"BLD",6524,"KRN",.4,"NM","B","PATCH 486 PRINT TEMPLATE    FILE #409.39",1)

"BLD",6524,"KRN",.401,0)
.401
"BLD",6524,"KRN",.401,"NM",0)
^9.68A^1^1
"BLD",6524,"KRN",.401,"NM",1,0)
PATCH 486 SORT TEMPLATE    FILE #409.39^409.39^0
"BLD",6524,"KRN",.401,"NM","B","PATCH 486 SORT TEMPLATE    FILE #409.39",1)

"BLD",6524,"KRN",.402,0)
.402
"BLD",6524,"KRN",.403,0)
.403
"BLD",6524,"KRN",.5,0)
.5
"BLD",6524,"KRN",.84,0)
.84
"BLD",6524,"KRN",3.6,0)
3.6
"BLD",6524,"KRN",3.8,0)
3.8
"BLD",6524,"KRN",9.2,0)
9.2
"BLD",6524,"KRN",9.8,0)
9.8
"BLD",6524,"KRN",9.8,"NM",0)
^9.68A^6^6
"BLD",6524,"KRN",9.8,"NM",1,0)
SDWLFUL^^0^B6738529
"BLD",6524,"KRN",9.8,"NM",2,0)
SDWLFUL1^^0^B20398024
"BLD",6524,"KRN",9.8,"NM",3,0)
SDWLFUL2^^0^B8392533
"BLD",6524,"KRN",9.8,"NM",4,0)
SDWLFULU^^0^B11179245
"BLD",6524,"KRN",9.8,"NM",5,0)
SDWLFULP^^0^B1630753
"BLD",6524,"KRN",9.8,"NM",6,0)
SDWLFULZ^^0^B6303269
"BLD",6524,"KRN",9.8,"NM","B","SDWLFUL",1)

"BLD",6524,"KRN",9.8,"NM","B","SDWLFUL1",2)

"BLD",6524,"KRN",9.8,"NM","B","SDWLFUL2",3)

"BLD",6524,"KRN",9.8,"NM","B","SDWLFULP",5)

"BLD",6524,"KRN",9.8,"NM","B","SDWLFULU",4)

"BLD",6524,"KRN",9.8,"NM","B","SDWLFULZ",6)

"BLD",6524,"KRN",19,0)
19
"BLD",6524,"KRN",19,"NM",0)
^9.68A^11^8
"BLD",6524,"KRN",19,"NM",2,0)
SD WAIT LIST UPLOAD VSSC^^0
"BLD",6524,"KRN",19,"NM",5,0)
SD WAIT ENROLLEE B/R UTILITY^^0
"BLD",6524,"KRN",19,"NM",6,0)
SD WAIT CLEAN-UP ENROLLEE MENU^^0
"BLD",6524,"KRN",19,"NM",7,0)
SD WAIT ENROLLEE TEMP FILE^^0
"BLD",6524,"KRN",19,"NM",8,0)
SD WAIT CLEAN-UP MENU REMOVE^^0
"BLD",6524,"KRN",19,"NM",9,0)
SD WAIT LIST MENU^^3
"BLD",6524,"KRN",19,"NM",10,0)
SD WAIT ENROLL CLEANUP RPT^^0
"BLD",6524,"KRN",19,"NM",11,0)
SD WAIT ENROLLEE APPLY TF^^0
"BLD",6524,"KRN",19,"NM","B","SD WAIT CLEAN-UP ENROLLEE MENU",6)

"BLD",6524,"KRN",19,"NM","B","SD WAIT CLEAN-UP MENU REMOVE",8)

"BLD",6524,"KRN",19,"NM","B","SD WAIT ENROLL CLEANUP RPT",10)

"BLD",6524,"KRN",19,"NM","B","SD WAIT ENROLLEE APPLY TF",11)

"BLD",6524,"KRN",19,"NM","B","SD WAIT ENROLLEE B/R UTILITY",5)

"BLD",6524,"KRN",19,"NM","B","SD WAIT ENROLLEE TEMP FILE",7)

"BLD",6524,"KRN",19,"NM","B","SD WAIT LIST MENU",9)

"BLD",6524,"KRN",19,"NM","B","SD WAIT LIST UPLOAD VSSC",2)

"BLD",6524,"KRN",19.1,0)
19.1
"BLD",6524,"KRN",101,0)
101
"BLD",6524,"KRN",409.61,0)
409.61
"BLD",6524,"KRN",771,0)
771
"BLD",6524,"KRN",870,0)
870
"BLD",6524,"KRN",8989.51,0)
8989.51
"BLD",6524,"KRN",8989.52,0)
8989.52
"BLD",6524,"KRN",8994,0)
8994
"BLD",6524,"KRN","B",.4,.4)

"BLD",6524,"KRN","B",.401,.401)

"BLD",6524,"KRN","B",.402,.402)

"BLD",6524,"KRN","B",.403,.403)

"BLD",6524,"KRN","B",.5,.5)

"BLD",6524,"KRN","B",.84,.84)

"BLD",6524,"KRN","B",3.6,3.6)

"BLD",6524,"KRN","B",3.8,3.8)

"BLD",6524,"KRN","B",9.2,9.2)

"BLD",6524,"KRN","B",9.8,9.8)

"BLD",6524,"KRN","B",19,19)

"BLD",6524,"KRN","B",19.1,19.1)

"BLD",6524,"KRN","B",101,101)

"BLD",6524,"KRN","B",409.61,409.61)

"BLD",6524,"KRN","B",771,771)

"BLD",6524,"KRN","B",870,870)

"BLD",6524,"KRN","B",8989.51,8989.51)

"BLD",6524,"KRN","B",8989.52,8989.52)

"BLD",6524,"KRN","B",8994,8994)

"BLD",6524,"QUES",0)
^9.62^^
"BLD",6524,"REQB",0)
^9.611^1^1
"BLD",6524,"REQB",1,0)
SD*5.3*485^1
"BLD",6524,"REQB","B","SD*5.3*485",1)

"FIA",409.39)
EWL CLEAN-UP
"FIA",409.39,0)
^SDWL(409.39,
"FIA",409.39,0,0)
409.39P
"FIA",409.39,0,1)
y^y^f^^^^n
"FIA",409.39,0,10)

"FIA",409.39,0,11)

"FIA",409.39,0,"RLRO")

"FIA",409.39,0,"VR")
5.3^SD
"FIA",409.39,409.39)
0
"KRN",.4,2335,-1)
0^1
"KRN",.4,2335,0)
PATCH 486 PRINT TEMPLATE^3070810.1223^@^409.39^^@^3070810
"KRN",.4,2335,"F",1)
0;C1:L6;"  #  "~.01;C8;L17~8;C27;L13;"EWL ORIG DT"~4;C42;L5;"CUR EWL STAT"~1;C49;L5;"TX FAC CAL"~2;C56;L5;"ENR API CAL"~3;C64;L5;"VSSC CAL"~
"KRN",.4,2335,"F",2)
8.1;C73;L6;"NEW EWL STATUS"~
"KRN",.4,2335,"H")
(S/C) EWL Enrolle Status Clean-up Report
"KRN",.401,1635,-1)
0^1
"KRN",.401,1635,0)
PATCH 486 SORT TEMPLATE^3070810.1102^@^409.39^^@^3070816
"KRN",.401,1635,2,0)
^.4014^1^1
"KRN",.401,1635,2,1,0)
409.39^0^NUMBER^]^^^^^^2
"KRN",.401,1635,2,1,"IX")
^SDWL(409.39,^SDWL(409.39,^1
"KRN",.401,1635,2,1,"QCON")
I D0'=""
"KRN",.401,1635,2,1,"TXT")
NUMBER not null
"KRN",.401,1635,2,"B",409.39,1)

"KRN",.401,1635,"%D",0)
^.4012^1^1^3070810^^^^
"KRN",.401,1635,"%D",1,0)
Sort template for the EWL Enrollee Clean-up report.
"KRN",19,10781,-1)
3^9
"KRN",19,10781,0)
SD WAIT LIST MENU^Wait List (Sch/PCMM) Menu^^M^^SDWL MENU^^^^^^SCHEDULING
"KRN",19,10781,10,0)
^19.01IP^8^8
"KRN",19,10781,10,8,0)
12060^6^6
"KRN",19,10781,10,8,"^")
SD WAIT CLEAN-UP ENROLLEE MENU
"KRN",19,10781,99)
60785,44679
"KRN",19,10781,99.1)
60704,54569
"KRN",19,10781,"U")
WAIT LIST (SCH/PCMM) MENU
"KRN",19,12053,-1)
0^2
"KRN",19,12053,0)
SD WAIT LIST UPLOAD VSSC^UPLOAD VSSC DATA^^R^^^^^^^^
"KRN",19,12053,25)
EN^SDWLFUL
"KRN",19,12053,99)
60536,38336
"KRN",19,12053,"U")
UPLOAD VSSC DATA
"KRN",19,12054,-1)
0^7
"KRN",19,12054,0)
SD WAIT ENROLLEE TEMP FILE^CREATE ENROLLEE TEMP FILE^^R^^^^^^^^SCHEDULING
"KRN",19,12054,25)
EN^SDWLFUL1
"KRN",19,12054,"U")
CREATE ENROLLEE TEMP FILE
"KRN",19,12056,-1)
0^10
"KRN",19,12056,0)
SD WAIT ENROLL CLEANUP RPT^ENROLLEE CLEANUP REPORT^^R^^^^^^^^
"KRN",19,12056,25)
EN^SDWLFULP
"KRN",19,12056,31)

"KRN",19,12056,"U")
ENROLLEE CLEANUP REPORT
"KRN",19,12057,-1)
0^11
"KRN",19,12057,0)
SD WAIT ENROLLEE APPLY TF^APPLY/REPAIR ENROLLEE STATUS^^R^^^^^^^^
"KRN",19,12057,25)
EN^SDWLFUL2
"KRN",19,12057,"U")
APPLY/REPAIR ENROLLEE STATUS
"KRN",19,12058,-1)
0^5
"KRN",19,12058,0)
SD WAIT ENROLLEE B/R UTILITY^BACKUP/RESTORE SD WAIT LIST FILE UTILITY^^R^^^^^^^^
"KRN",19,12058,25)
EN^SDWLFULU
"KRN",19,12058,"U")
BACKUP/RESTORE SD WAIT LIST FI
"KRN",19,12059,-1)
0^8
"KRN",19,12059,0)
SD WAIT CLEAN-UP MENU REMOVE^REMOVE ENROLLEE STATUS MENU & OPTIONS^^R^^^^^^^^^^^1
"KRN",19,12059,15)
X "ZR  ZK SDWLFULZ"
"KRN",19,12059,25)
EN^SDWLFULZ
"KRN",19,12059,"U")
REMOVE ENROLLEE STATUS MENU & 
"KRN",19,12060,-1)
0^6
"KRN",19,12060,0)
SD WAIT CLEAN-UP ENROLLEE MENU^CLEAN-UP ENROLLEE STATUS MENU^^M^^SDWL PARAMETER^^^^^^
"KRN",19,12060,10,0)
^19.01IP^8^8
"KRN",19,12060,10,1,0)
12053^2^2
"KRN",19,12060,10,1,"^")
SD WAIT LIST UPLOAD VSSC
"KRN",19,12060,10,2,0)
12054^3^3
"KRN",19,12060,10,2,"^")
SD WAIT ENROLLEE TEMP FILE
"KRN",19,12060,10,5,0)
12058^1^1
"KRN",19,12060,10,5,"^")
SD WAIT ENROLLEE B/R UTILITY
"KRN",19,12060,10,6,0)
12057^5^5
"KRN",19,12060,10,6,"^")
SD WAIT ENROLLEE APPLY TF
"KRN",19,12060,10,7,0)
12056^4^4
"KRN",19,12060,10,7,"^")
SD WAIT ENROLL CLEANUP RPT
"KRN",19,12060,10,8,0)
12059^6^6
"KRN",19,12060,10,8,"^")
SD WAIT CLEAN-UP MENU REMOVE
"KRN",19,12060,99)
60787,30944
"KRN",19,12060,"U")
CLEAN-UP ENROLLEE STATUS MENU
"MBREQ")
0
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",6,.401)
.401;6;;;EDEOUT^DIFROMSO(.401,DA,"",XPDA);FPRE^DIFROMSI(.401,"",XPDA);EPRE^DIFROMSI(.401,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.401,DA,"",XPDA);DEL^DIFROMSK(.401,"",%)
"ORD",6,.401,0)
SORT TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2941102
"PKG",16,22,1,"PAH",1,0)
486^3070816^123457430
"PKG",16,22,1,"PAH",1,1,0)
^^1^1^3070816
"PKG",16,22,1,"PAH",1,1,1,0)
EWL ENROLLEE RE-CALCULATION.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
6
"RTN","SDWLFUL")
0^1^B6738529^n/a
"RTN","SDWLFUL",1,0)
SDWLFUL ;;IOFO BAY PINES/TEH - REPAIR/RE-CAL ENROLLE STATUS;06/12/2002 ; 20 Aug 20022:10 PM
"RTN","SDWLFUL",2,0)
 ;;5.3;scheduling;**486**;AUG 13 1993;Build 37
"RTN","SDWLFUL",3,0)
 ;
"RTN","SDWLFUL",4,0)
 ;
"RTN","SDWLFUL",5,0)
 ;
"RTN","SDWLFUL",6,0)
 ;
"RTN","SDWLFUL",7,0)
 ;
"RTN","SDWLFUL",8,0)
 ;
"RTN","SDWLFUL",9,0)
 ;=========================================================================================================
"RTN","SDWLFUL",10,0)
 ;
"RTN","SDWLFUL",11,0)
 ;Foreign file upload utility for KLF data.
"RTN","SDWLFUL",12,0)
 ;
"RTN","SDWLFUL",13,0)
 ;
"RTN","SDWLFUL",14,0)
 ;
"RTN","SDWLFUL",15,0)
 Q
"RTN","SDWLFUL",16,0)
EN ;Initial variables
"RTN","SDWLFUL",17,0)
 ;
"RTN","SDWLFUL",18,0)
 I '$D(^XTMP("SDWLFULSTAT",$J,"1B")) W !,"You must run a BACK-UP before running this option." Q
"RTN","SDWLFUL",19,0)
 I $D(^XTMP("SDWLFULSTAT",$J,2)) W !,"You have already run this option." D  I 'Y Q
"RTN","SDWLFUL",20,0)
 .S DIR(0)="Y",DIR("A")="Are you absolutely sure you want to continue",DIR("B")="N" D ^DIR D
"RTN","SDWLFUL",21,0)
 ..I X["^" S Y=0 Q
"RTN","SDWLFUL",22,0)
 ..I X["N"!(X["n") S Y=0 Q
"RTN","SDWLFUL",23,0)
 S STIME=$H,SDWLCNT=0
"RTN","SDWLFUL",24,0)
 S SDHAN="VSSCFILE",SDFILNM="FLAK9.CSV;1",SDPATH="USER$:[TEMP]",SDMOD="R"
"RTN","SDWLFUL",25,0)
 S DIR("A")="PATH: ",DIR("B")=SDPATH,DIR(0)="F" D ^DIR
"RTN","SDWLFUL",26,0)
 S SDPATH=Y
"RTN","SDWLFUL",27,0)
 K ^XTMP("SDWLFUL")
"RTN","SDWLFUL",28,0)
 D OPEN^%ZISH(SDHAN,SDPATH,SDFILNM,SDMOD)
"RTN","SDWLFUL",29,0)
 Q:POP  S L=0
"RTN","SDWLFUL",30,0)
 F I=1:1 U IO R X:DTIME Q:X=""  D EN0,DOT
"RTN","SDWLFUL",31,0)
END S ETIME=$H
"RTN","SDWLFUL",32,0)
 D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@" W !,"Transfer Complete"
"RTN","SDWLFUL",33,0)
 K DIR,I,POP,SDFILNM,SDHAN,SDMOD,SDPATH,SDWLCNT,SDWLCTD,SDWLICN,SDWLINS
"RTN","SDWLFUL",34,0)
 K SDWLLD,SDWLLDT,SDWLOD,SDWLODT,SDWLSSN,STIME,X,Y,ZTQUEUED,ZTREQ,ETIME,L
"RTN","SDWLFUL",35,0)
 S ^XTMP("SDWLFULSTAT",$J,2)=""
"RTN","SDWLFUL",36,0)
 Q
"RTN","SDWLFUL",37,0)
EN0 ;
"RTN","SDWLFUL",38,0)
 S SDWLICN=$P(X,",",1),SDWLODT=$P(X,",",2),SDWLLDT=$P(X,",",3),SDWLSSN=$P(X,",",4),SDWLINS=$P(X,",",5) D
"RTN","SDWLFUL",39,0)
 .I '$D(^DPT("SSN",SDWLSSN)) Q
"RTN","SDWLFUL",40,0)
 .S X=SDWLODT D ^%DT S SDWLOD=Y,X=SDWLLDT D ^%DT S SDWLLD=Y
"RTN","SDWLFUL",41,0)
 .I '$D(^XTMP("SDWLFUL",$J,SDWLSSN,SDWLOD)) S ^XTMP("SDWLFUL",$J,SDWLSSN,SDWLOD)=SDWLLD_"^"_SDWLINS Q
"RTN","SDWLFUL",42,0)
 .I $D(^XTMP("SDWLFUL",$J,SDWLSSN,SDWLOD)) I SDWLLD'>SDWLOD D
"RTN","SDWLFUL",43,0)
 ..S SDWLCTD=$P($G(^XTMP("SDWLFUL",$J,SDWLSSN,SDWLOD)),U) D
"RTN","SDWLFUL",44,0)
 ...I SDWLLD>SDWLCTD&(SDWLLD'>SDWLOD) S ^XTMP("SDWLFUL",$J,SDWLSSN,SDWLOD)=SDWLLD_"^"_SDWLINS
"RTN","SDWLFUL",45,0)
 Q
"RTN","SDWLFUL",46,0)
DOT S SDWLCNT=SDWLCNT+1 I SDWLCNT#10000=0 U $P W SDWLCNT,! U IO
"RTN","SDWLFUL",47,0)
 Q
"RTN","SDWLFUL1")
0^2^B20398024^n/a
"RTN","SDWLFUL1",1,0)
SDWLFUL1 ;;IOFO BAY PINES/TEH - REPAIR/RE-CAL ENROLLE STATUS;06/12/2002 ; 20 Aug 20022:10 PM
"RTN","SDWLFUL1",2,0)
 ;;5.3;scheduling;**486**;AUG 13 1993;Build 37
"RTN","SDWLFUL1",3,0)
 ;
"RTN","SDWLFUL1",4,0)
 ;
"RTN","SDWLFUL1",5,0)
 ;
"RTN","SDWLFUL1",6,0)
 ;       TEMPORARY FILE:
"RTN","SDWLFUL1",7,0)
 ;                                              1ST PECE         3RD PIECE        4TH PIECE
"RTN","SDWLFUL1",8,0)
 ;       ^SDWL(409.39,$J,EWL_IEN,PAT_IEN)=ENROLLE CAL TF ^ ENROLLE CAL API ^ ENROLLE CAL VSSC ^ CURRENT CAL
"RTN","SDWLFUL1",9,0)
 ;       
"RTN","SDWLFUL1",10,0)
 ;       
"RTN","SDWLFUL1",11,0)
 ;      
"RTN","SDWLFUL1",12,0)
 ;       
"RTN","SDWLFUL1",13,0)
 ;       
"RTN","SDWLFUL1",14,0)
 ;       
"RTN","SDWLFUL1",15,0)
 ;
"RTN","SDWLFUL1",16,0)
EN ;
"RTN","SDWLFUL1",17,0)
 I $D(^XTMP("SDWLFULSTAT",$J,3)) W !,"You have already run this OPTION." Q
"RTN","SDWLFUL1",18,0)
 I '$D(^XTMP("SDWLFULSTAT",$J,2)) W !,"You must run OPTION 2 before OPTION 3." Q
"RTN","SDWLFUL1",19,0)
 I '$D(^XTMP("SDWLFULSTAT",$J,"1B")) W !,"You must run a BACK-UP prior to running this option."
"RTN","SDWLFUL1",20,0)
 D SETUP S DAX=0 F  S DAX=$O(^SDWL(409.3,DAX)) Q:DAX<1  D
"RTN","SDWLFUL1",21,0)
 .I $P(^SDWL(409.3,DAX,0),"^",2)>SDWLSDAT Q
"RTN","SDWLFUL1",22,0)
 .I $P(^SDWL(409.3,DAX,0),U,2)="" Q
"RTN","SDWLFUL1",23,0)
 .W !,DAX," of ",DAXT," records."
"RTN","SDWLFUL1",24,0)
 .S SDWLDFN=+$G(^SDWL(409.3,DAX,0)) I 'SDWLDFN Q
"RTN","SDWLFUL1",25,0)
 .S SDWLODT=$P(^SDWL(409.3,DAX,0),U,2),(SDWLODX,X)=SDWLODT D H^%DTC S SDWLODT=%H
"RTN","SDWLFUL1",26,0)
 .S SDWLEOLD=$P($G(^SDWL(409.3,DAX,0)),U,20)
"RTN","SDWLFUL1",27,0)
 .;NEW ENTRY
"RTN","SDWLFUL1",28,0)
 .S SDWLSSN=$$GET1^DIQ(2,SDWLDFN_",",.09)
"RTN","SDWLFUL1",29,0)
 .S X=SDWLDFN,DIC(0)="Z",DIC="^SDWL(409.39," D FILE^DICN S SDWLDA=+Y
"RTN","SDWLFUL1",30,0)
 .K DA,DIC,DR,DI,DIE,DO,Y
"RTN","SDWLFUL1",31,0)
 .S DA=SDWLDA,DR="9////^S X=DAX",DIE="^SDWL(409.39," D ^DIE
"RTN","SDWLFUL1",32,0)
 .S DR="4////^S X=SDWLEOLD" D ^DIE
"RTN","SDWLFUL1",33,0)
 .K DA,DIC,DR,DI,DIE,DO,X,Y
"RTN","SDWLFUL1",34,0)
 .S DIE="^SDWL(409.39,",DR="8////^S X=SDWLODX",DA=SDWLDA D ^DIE
"RTN","SDWLFUL1",35,0)
 .K DA,DIC,DR,DI,DO,X,Y
"RTN","SDWLFUL1",36,0)
 .S SDWLDE=SDWLODT,SDWLE=1,(SDWLEE,SDWLRNED,SDWLDB)=0
"RTN","SDWLFUL1",37,0)
 .D A0,SET
"RTN","SDWLFUL1",38,0)
 .D A1,SET
"RTN","SDWLFUL1",39,0)
 .D A2,SET
"RTN","SDWLFUL1",40,0)
 .S DIE="^SDWL(409.39,"
"RTN","SDWLFUL1",41,0)
 .S DA=SDWLDA,SDWLDB=4 S SDWLRNE=SDWLEOLD,DR=SDWLDB_"////^S X=SDWLRNE" D ^DIE
"RTN","SDWLFUL1",42,0)
 K DIE,DR,X,Y,DA,DAX,DIK,SDWLD,SDWLDA,SDWLDAT,SDWLDB,SDWLDE,SDWLDET,SDWLDFN
"RTN","SDWLFUL1",43,0)
 K SDWLDS,SDWLDTT,SDWLE,SDWLEE,SDWLEOLD,SDWLODT,SDWLODX,SDWLRNE,SDWLRNED,SDWLSDAT
"RTN","SDWLFUL1",44,0)
 K SDWLSSN,SDWLTDT,SDWLX,SDWLY,DAXT,%H,SDWLF,SDWLSET,SDWLXX
"RTN","SDWLFUL1",45,0)
 S ^XTMP("SDWLFULSTAT",$J,3)=""
"RTN","SDWLFUL1",46,0)
 Q
"RTN","SDWLFUL1",47,0)
SET S SDWLRNE=$S(SDWLE=1:"N",SDWLE=2:"E",SDWLE=3:"P",SDWLE=4:"U",1:"U"),DIE="^SDWL(409.39,",DA=SDWLDA
"RTN","SDWLFUL1",48,0)
SET1 S DR=SDWLDB_"////^S X=SDWLRNE" D ^DIE
"RTN","SDWLFUL1",49,0)
SET2 S DR=SDWLDB+4_"////^S X=SDWLDAT" D ^DIE
"RTN","SDWLFUL1",50,0)
 S SDWLX=$G(^SDWL(409.39,SDWLDA,0)),SDWLF=0,SDWLSET=""
"RTN","SDWLFUL1",51,0)
 S SDWLXX=$P(SDWLX,"^",2,4) I SDWLXX["E" S SDWLSET="E" D SET3 S SDWLF=1 Q
"RTN","SDWLFUL1",52,0)
 I 'SDWLF,SDWLXX["P" S SDWLSET="P" D SET3 S SDWLF=1 Q
"RTN","SDWLFUL1",53,0)
 I 'SDWLF,SDWLXX["N" S SDWLSET="N" D SET3 S SDWLF=1 Q
"RTN","SDWLFUL1",54,0)
 I 'SDWLF S SDWLXX="U" S SDWLSET="U" D SET3 Q
"RTN","SDWLFUL1",55,0)
 Q
"RTN","SDWLFUL1",56,0)
SET3 S DR="8.1////^S X=SDWLSET",DIE=409.39,DA=SDWLDA D ^DIE
"RTN","SDWLFUL1",57,0)
 K DIE,DR,X,Y,DA
"RTN","SDWLFUL1",58,0)
 Q
"RTN","SDWLFUL1",59,0)
A0 ;GET TREATMENT DATE FROM TREATING FACILITY FILE
"RTN","SDWLFUL1",60,0)
 I '$D(^DGCN(391.91,"B",SDWLDFN)) S SDWLDB=1,SDWLDAT="" S SDWLE="" Q
"RTN","SDWLFUL1",61,0)
 S SDWLX="",SDWLDAT="",SDWLDB=1,SDWLE=1 F  S SDWLX=$O(^DGCN(391.91,"B",SDWLDFN,SDWLX)) Q:SDWLX=""  D
"RTN","SDWLFUL1",62,0)
 .S SDWLY=$G(^DGCN(391.91,SDWLX,0)) D
"RTN","SDWLFUL1",63,0)
 ..;CHECK FOR VALID TF
"RTN","SDWLFUL1",64,0)
 ..I $$TF^XUAF4(+$P(SDWLY,U,2)) D
"RTN","SDWLFUL1",65,0)
 ...;GET LIST OF DATES FOR TF
"RTN","SDWLFUL1",66,0)
 ...S SDWLD=$P(SDWLY,U,3) S X=SDWLD D H^%DTC I %H>SDWLODT S SDWLD=0 Q
"RTN","SDWLFUL1",67,0)
 ...I SDWLD S SDWLDTF(9999999-SDWLD)=SDWLX
"RTN","SDWLFUL1",68,0)
 ;FIND LAST TREATMENT DATE
"RTN","SDWLFUL1",69,0)
 I '$D(SDWLDTF) Q
"RTN","SDWLFUL1",70,0)
 S SDWLDTF=$O(SDWLDTF(0)) I SDWLDTF S (SDWLDAT,X)=9999999-SDWLDTF D H^%DTC
"RTN","SDWLFUL1",71,0)
 S SDWLEE=SDWLDE-%H,SDWLDB=1 I SDWLEE<730 S SDWLE=2
"RTN","SDWLFUL1",72,0)
 I $D(SDWLEE),SDWLEE>730!(SDWLEE=730) S SDWLE=3
"RTN","SDWLFUL1",73,0)
 K SDWLDTF
"RTN","SDWLFUL1",74,0)
 Q
"RTN","SDWLFUL1",75,0)
A1 ;GET DATE FROM PATIENT ENROLLMENT
"RTN","SDWLFUL1",76,0)
 S SDWLDB=2,SDWLDAT="" G A1B:SDWLE=2
"RTN","SDWLFUL1",77,0)
 S SDWLRNE=$$ENROLL^EASWTAPI(SDWLDFN) G A1A:$P(SDWLRNE,U,4)="A" S SDWLRNED=$P(SDWLRNE,U,3) D
"RTN","SDWLFUL1",78,0)
 .S X=SDWLRNE D H^%DTC
"RTN","SDWLFUL1",79,0)
 .I %H>SDWLODT S SDWLRNED=0
"RTN","SDWLFUL1",80,0)
 I SDWLRNED S (SDWLDAT,X)=SDWLRNED D H^%DTC S SDWLDS=%H S SDWLDE=SDWLODT,SDWLDET=SDWLDE-SDWLDS,SDWLDB=2 I SDWLDET<366 S SDWLE=1
"RTN","SDWLFUL1",81,0)
 I $D(SDWLDET),SDWLDET>365 S SDWLE=3
"RTN","SDWLFUL1",82,0)
 I 'SDWLRNE S SDWLE=4
"RTN","SDWLFUL1",83,0)
A1A I $D(SDWLRNE),$P(SDWLRNE,U,4)="A" D
"RTN","SDWLFUL1",84,0)
 .I $D(SDWLEE),SDWLEE>730!(SDWLEE=730) S SDWLE=4 Q
"RTN","SDWLFUL1",85,0)
 .I 'SDWLEE S SDWLE=4 Q
"RTN","SDWLFUL1",86,0)
A1B Q
"RTN","SDWLFUL1",87,0)
A2 ;GET TREATMENT DATE FROM VSSC FILE
"RTN","SDWLFUL1",88,0)
 S SDWLDTT=SDWLODX,SDWLDE=SDWLODT,SDWLDB=3,SDWLDAT="",SDWLE="" D
"RTN","SDWLFUL1",89,0)
 .I '$D(^XTMP("SDWLFUL",$J,SDWLSSN,SDWLDTT)) Q
"RTN","SDWLFUL1",90,0)
 .S SDWLTDT=+$G(^XTMP("SDWLFUL",$J,SDWLSSN,SDWLDTT)),X=SDWLTDT D H^%DTC I %H'>SDWLODT D
"RTN","SDWLFUL1",91,0)
 ..S SDWLDAT=SDWLTDT,SDWLEE=SDWLDE-%H,SDWLDB=3 I SDWLEE<730 S SDWLE=2
"RTN","SDWLFUL1",92,0)
 ..I $D(SDWLEE),SDWLEE>730!(SDWLEE=730) S SDWLE=3
"RTN","SDWLFUL1",93,0)
 Q
"RTN","SDWLFUL1",94,0)
KILL S DA=0 F  S DA=$O(^SDWL(409.39,DA)) Q:DA<1  S DIK="^SDWL(409.39," D ^DIK
"RTN","SDWLFUL1",95,0)
 Q
"RTN","SDWLFUL1",96,0)
SETUP S X=^DIC(409.39,0) K ^SDWL(409.39) S ^SDWL(409.39,0)=X
"RTN","SDWLFUL1",97,0)
 S SDWLX=$O(^XPD(9.7,"B","SD*5.3*485",999999999),-1)
"RTN","SDWLFUL1",98,0)
 S SDWLSDAT=+$P(^XPD(9.7,SDWLX,0),"^",3)
"RTN","SDWLFUL1",99,0)
 S DAXT=$P($G(^SDWL(409.3,0)),U,4)
"RTN","SDWLFUL2")
0^3^B8392533^n/a
"RTN","SDWLFUL2",1,0)
SDWLFUL2 ;;IOFO BAY PINES/TEH - apply/RE-CAL ENROLLE STATUS;06/12/2002 ; 20 Aug 2002 2:10 PM
"RTN","SDWLFUL2",2,0)
 ;;5.3;scheduling;**486**;AUG 13 1993;Build 37
"RTN","SDWLFUL2",3,0)
 ;
"RTN","SDWLFUL2",4,0)
 ;
"RTN","SDWLFUL2",5,0)
 ;
"RTN","SDWLFUL2",6,0)
 ;
"RTN","SDWLFUL2",7,0)
 ;
"RTN","SDWLFUL2",8,0)
 ;
"RTN","SDWLFUL2",9,0)
 Q
"RTN","SDWLFUL2",10,0)
EN ;
"RTN","SDWLFUL2",11,0)
 I '$D(^XTMP("SDWLFULSTAT",$J,4)) W !,"You must run OPTION 4 before OPTION 5." Q
"RTN","SDWLFUL2",12,0)
 I $D(^XTMP("SDWLFULSTAT",$J,5)) W !,"You have already run this OPTION." Q
"RTN","SDWLFUL2",13,0)
 S DIR(0)="Y",DIR("B")="NO"
"RTN","SDWLFUL2",14,0)
 W !,"This Utility will APPLY the new ENROLLEE STATUS to your SD WAIT LIST file",!
"RTN","SDWLFUL2",15,0)
 S DIR("A")="Are you sure that you wish to continue"
"RTN","SDWLFUL2",16,0)
 D ^DIR I 'Y Q 
"RTN","SDWLFUL2",17,0)
 N SDWLDA,SDWLTF,SDWLAPI,SDWLVS,SDWLC,SDWLTFD,SDWLAPID,SDWLVSD,SDWLODT
"RTN","SDWLFUL2",18,0)
 N SDWLCNT,SDWLIN
"RTN","SDWLFUL2",19,0)
 N SDWLX S SDWLCNT=0
"RTN","SDWLFUL2",20,0)
 S SDWLA=0 F  S SDWLA=$O(^SDWL(409.39,SDWLA)) Q:SDWLA<1  D
"RTN","SDWLFUL2",21,0)
 .S SDWLX=$G(^SDWL(409.39,SDWLA,0)) I SDWLX="" Q
"RTN","SDWLFUL2",22,0)
 .W !,SDWLA S SDWLCNT=SDWLCNT+1
"RTN","SDWLFUL2",23,0)
 .S SDWLDA=$P(SDWLX,"^",10)
"RTN","SDWLFUL2",24,0)
 .S SDWLTF=$P(SDWLX,U,2),SDWLAPI=$P(SDWLX,U,3)
"RTN","SDWLFUL2",25,0)
 .S SDWLVS=$P(SDWLX,U,4),SDWLC=$P(SDWLX,U,5)
"RTN","SDWLFUL2",26,0)
 .S SDWLTFD=$P(SDWLX,U,6),SDWLAPID=$P(SDWLX,U,7)
"RTN","SDWLFUL2",27,0)
 .S SDWLVSD=$P(SDWLX,U,8),SDWLODT=$P(SDWLX,U,9),SDWLF=0
"RTN","SDWLFUL2",28,0)
 .S SDWLXX=$P(SDWLX,"^",2,4) I SDWLXX["E" S SDWLSET="E" D SET S SDWLF=1 Q
"RTN","SDWLFUL2",29,0)
 .I 'SDWLF,SDWLXX["P" S SDWLSET="P" D SET S SDWLF=1 Q
"RTN","SDWLFUL2",30,0)
 .I 'SDWLF,SDWLXX["N" S SDWLSET="N" D SET S SDWLF=1 Q
"RTN","SDWLFUL2",31,0)
 .I 'SDWLF S SDWLXX="U" S SDWLSET="U" D SET Q
"RTN","SDWLFUL2",32,0)
END K DA,DIE,DR,I,SDWLA,SDWLF,X,DA,DIE,DR,SDWLA,SDWLF,SDWLXX,SDWLSET,DIR
"RTN","SDWLFUL2",33,0)
 W !,"All Records Processed."
"RTN","SDWLFUL2",34,0)
 S ^XTMP("SDWLFULSTAT",$J,5)=""
"RTN","SDWLFUL2",35,0)
MESS ;SENT MESSAGE TO FORUM
"RTN","SDWLFUL2",36,0)
 N XMSUB,XMY,XMTEXT,XMDUZ,SDWLMSG,SDWLI,XQSUB,Y
"RTN","SDWLFUL2",37,0)
 S XMY("DERDERIAN.JOHN@FORUM.VA.GOV")=""
"RTN","SDWLFUL2",38,0)
 S XMY("HOUTCHENS.THOMAS@FORUM.VA.GOV")=""
"RTN","SDWLFUL2",39,0)
 S XMY("BROWN.BONNIE@FORUM.VA.GOV")=""
"RTN","SDWLFUL2",40,0)
 S XMY("KROCHMAL.CHUCK@FORUM.VA.GOV")=""
"RTN","SDWLFUL2",41,0)
 S XMY("TAPPER.BRIAN@FORUM.VA.GOV")=""
"RTN","SDWLFUL2",42,0)
 S XMY("BENBOW.PHYLLIS@FORUM.VA.GOV")=""
"RTN","SDWLFUL2",43,0)
 S XMY("LANDRIE.LARRY@FORUM.VA.GOV")=""
"RTN","SDWLFUL2",44,0)
 S XMY("TOWSON.LINDA@FORUM.VA.GOV")=""
"RTN","SDWLFUL2",45,0)
 S XMSUB="Patch SD*5.3*486 successful."
"RTN","SDWLFUL2",46,0)
 S XQSUB="Installation of SD*5.3*486."
"RTN","SDWLFUL2",47,0)
 S XMTEXT="SDWLMSG(",XMDUZ="POSTMASTER"
"RTN","SDWLFUL2",48,0)
 S SDWLIN=$$GET1^DIQ(4,DUZ(2)_",",.01,,)
"RTN","SDWLFUL2",49,0)
 S SDWLMSG(1,0)="Patch SD*5.3*486 successful installed at "_SDWLIN
"RTN","SDWLFUL2",50,0)
 S Y=DT D DD^%DT
"RTN","SDWLFUL2",51,0)
 S SDWLMSG(2,0)="At "_Y
"RTN","SDWLFUL2",52,0)
 S SDWLMSG(3,0)=SDWLCNT_" Records had the Enrollee Status field updated."
"RTN","SDWLFUL2",53,0)
 S SDWLMSG(4,0)="",SDWLMSG(0)=4
"RTN","SDWLFUL2",54,0)
 D ^XMD
"RTN","SDWLFUL2",55,0)
 Q
"RTN","SDWLFUL2",56,0)
SET S DR="27////^S X=SDWLSET",DIE="^SDWL(409.3,",DA=SDWLDA D ^DIE
"RTN","SDWLFUL2",57,0)
 S DR="8.1////^S X=SDWLSET",DIE=409.39,DA=SDWLA D ^DIE
"RTN","SDWLFUL2",58,0)
 Q
"RTN","SDWLFULP")
0^5^B1630753^n/a
"RTN","SDWLFULP",1,0)
SDWLFULP ;;IOFO BAY PINES/TEH - EWL REPORT - REPORT VERSION 2;06/12/2002 ; 20 Aug 2002 2:10 PM
"RTN","SDWLFULP",2,0)
 ;;5.3;scheduling;**486**;AUG 13 1993;Build 37
"RTN","SDWLFULP",3,0)
 ;
"RTN","SDWLFULP",4,0)
 ;
"RTN","SDWLFULP",5,0)
 ;
"RTN","SDWLFULP",6,0)
 ;
"RTN","SDWLFULP",7,0)
 ;
"RTN","SDWLFULP",8,0)
 ;
"RTN","SDWLFULP",9,0)
 ;
"RTN","SDWLFULP",10,0)
 ;
"RTN","SDWLFULP",11,0)
 ;
"RTN","SDWLFULP",12,0)
 ;
"RTN","SDWLFULP",13,0)
 ;
"RTN","SDWLFULP",14,0)
 ;
"RTN","SDWLFULP",15,0)
 ;
"RTN","SDWLFULP",16,0)
 Q
"RTN","SDWLFULP",17,0)
EN ;ENTRY POINT
"RTN","SDWLFULP",18,0)
 D HD
"RTN","SDWLFULP",19,0)
 I '$D(^XTMP("SDWLFULSTAT",$J,3)) W !,"You need to run OPTION 3 before a report can be produced." Q
"RTN","SDWLFULP",20,0)
 S DHD="EWL ENROLLEE STATUS CLEAN-UP REPORT"
"RTN","SDWLFULP",21,0)
 S DIC=409.39 D EN1^DIP
"RTN","SDWLFULP",22,0)
 S ^XTMP("SDWLFULSTAT",$J,4)=""
"RTN","SDWLFULP",23,0)
END K DIC,DHD Q
"RTN","SDWLFULP",24,0)
HD ;
"RTN","SDWLFULP",25,0)
 W:$D(IOF) @IOF W !,?80-$L("EWL Enrollee Clean-up Report")\2,"EWL Enrollee Clean-up Report",!
"RTN","SDWLFULP",26,0)
 Q
"RTN","SDWLFULU")
0^4^B11179245^n/a
"RTN","SDWLFULU",1,0)
SDWLFULU ;;IOFO BAY PINES/TEH - SAVE/RESTORE UTILITY FOR ENROLLE STATUS;06/12/2002 ; 20 Aug 2002 2:10 PM
"RTN","SDWLFULU",2,0)
 ;;5.3;scheduling;**486**;AUG 13 1993;Build 37
"RTN","SDWLFULU",3,0)
 ;
"RTN","SDWLFULU",4,0)
 ;
"RTN","SDWLFULU",5,0)
 ;
"RTN","SDWLFULU",6,0)
 ;
"RTN","SDWLFULU",7,0)
 ;
"RTN","SDWLFULU",8,0)
 ;
"RTN","SDWLFULU",9,0)
 Q
"RTN","SDWLFULU",10,0)
EN D HD
"RTN","SDWLFULU",11,0)
 W !!
"RTN","SDWLFULU",12,0)
 S DIR(0)="SA^B:BACKUP;R:RESTORE"
"RTN","SDWLFULU",13,0)
 S DIR("A")="(B)ackup or (R)estore " D ^DIR
"RTN","SDWLFULU",14,0)
 I X["^" Q
"RTN","SDWLFULU",15,0)
 I X["b" D BACKUP
"RTN","SDWLFULU",16,0)
 I X["B" D BACKUP
"RTN","SDWLFULU",17,0)
 I X["R" D RESTORE
"RTN","SDWLFULU",18,0)
 I X["r" D RESTORE
"RTN","SDWLFULU",19,0)
 I X="" Q
"RTN","SDWLFULU",20,0)
END K DA,DIE,DIR,DR,SDWLE,SDWLX,X,SDWLEE
"RTN","SDWLFULU",21,0)
 Q
"RTN","SDWLFULU",22,0)
BACKUP ;
"RTN","SDWLFULU",23,0)
 ;CHECK FOR RUN STATUS
"RTN","SDWLFULU",24,0)
 S Y=1 I $D(^XTMP("SDWLFULSTAT",$J,"1B")) W !,"This option has already been run." D  I Y D RESTART G EN0
"RTN","SDWLFULU",25,0)
 .S DIR(0)="Y",DIR("A")="Do you want to re-run all options",DIR("B")="N" D ^DIR
"RTN","SDWLFULU",26,0)
 .I X["^" S Y=0 Q
"RTN","SDWLFULU",27,0)
 .I X["Y"!(X["y") S Y=1 Q
"RTN","SDWLFULU",28,0)
 .S Y=0
"RTN","SDWLFULU",29,0)
 I 'Y Q
"RTN","SDWLFULU",30,0)
EN0 K ^XTMP("409.3")
"RTN","SDWLFULU",31,0)
 S SDWLX=0 F  S SDWLX=$O(^SDWL(409.3,SDWLX)) Q:SDWLX<1  D
"RTN","SDWLFULU",32,0)
 .S SDWLE=$G(^SDWL(409.3,SDWLX,0)) Q:SDWLE=""  D
"RTN","SDWLFULU",33,0)
 ..S SDWLEE=$P(SDWLE,U,20)
"RTN","SDWLFULU",34,0)
 ..S ^XTMP("409.3",SDWLX)=SDWLEE
"RTN","SDWLFULU",35,0)
 W !!,"Backup Completed in ^XTMP(""409.3"")"
"RTN","SDWLFULU",36,0)
 S ^XTMP("SDWLFULSTAT",$J,"1B")=""
"RTN","SDWLFULU",37,0)
 Q
"RTN","SDWLFULU",38,0)
RESTORE ;
"RTN","SDWLFULU",39,0)
 ;CHECK RUN STATUS
"RTN","SDWLFULU",40,0)
 I '$D(^XTMP("SDWLFULSTAT",$J,"1B")) W !,"Must run BACK-UP before RESTORE." Q
"RTN","SDWLFULU",41,0)
 I '$D(^XTMP("409.3")) W !,"Nothing to Restore." Q
"RTN","SDWLFULU",42,0)
 S SDWLX=0,SDWLCNT=0 F  S SDWLX=$O(^XTMP("409.3",SDWLX)) Q:SDWLX<1  D
"RTN","SDWLFULU",43,0)
 .S SDWLCNT=SDWLCNT+1
"RTN","SDWLFULU",44,0)
 .S SDWLE=$G(^XTMP("409.3",SDWLX))
"RTN","SDWLFULU",45,0)
 .S DR="27////^S X=SDWLE",DIE="^SDWL(409.3,",DA=SDWLX D ^DIE
"RTN","SDWLFULU",46,0)
 W !!,"Restore Completed" D MESS
"RTN","SDWLFULU",47,0)
 K SDWLCNT S ^XTMP("SDWLFULSTAT",$J,"1R")=""
"RTN","SDWLFULU",48,0)
 Q
"RTN","SDWLFULU",49,0)
MESS ;
"RTN","SDWLFULU",50,0)
 N XMSUB,XMY,XMTEXT,XMDUZ,SDWLMSG,SDWLI,SDWLIN,XQSUB,Y
"RTN","SDWLFULU",51,0)
 S XMY("BENBOW.PHYLLIS2@FORUM.VA.GOV")=""
"RTN","SDWLFULU",52,0)
 S XMY("DERDERIAN.JOHN@FORUM.VA.GOV")=""
"RTN","SDWLFULU",53,0)
 S XMY("HOUTCHENS.THOMAS@FORUM.VA.GOV")=""
"RTN","SDWLFULU",54,0)
 S XMY("BROWN.BONNIE@FORUM.VA.GOV")=""
"RTN","SDWLFULU",55,0)
 S XMY("KROCHMAL.CHUCK@FORUM.VA.GOV")=""
"RTN","SDWLFULU",56,0)
 S XMY("TAPPER.BRIAN@FORUM.VA.GOV")=""
"RTN","SDWLFULU",57,0)
 S XMY("LANDRIE.LARRY@FORUM.VA.GOV")=""
"RTN","SDWLFULU",58,0)
 S XMY("TOWSON.LINDA@FORUM.VA.GOV")=""
"RTN","SDWLFULU",59,0)
 S XMSUB="Patch SD*5.3*486 restored."
"RTN","SDWLFULU",60,0)
 S XMTEXT="SDWLMSG(",XMDUZ="POSTMASTER"
"RTN","SDWLFULU",61,0)
 S SDWLIN=$$GET1^DIQ(4,DUZ(2)_",",.01,,)
"RTN","SDWLFULU",62,0)
 S SDWLMSG(1,0)="A RESTORE has been performed on patch SD*5.3*486 at "_SDWLIN
"RTN","SDWLFULU",63,0)
 S Y=DT D DD^%DT
"RTN","SDWLFULU",64,0)
 S SDWLMSG(2,0)="At "_Y
"RTN","SDWLFULU",65,0)
 S SDWLMSG(3,0)=SDWLCNT_"Records had the EWL Enrollee Status restored to pre-patch values."
"RTN","SDWLFULU",66,0)
 S SDWLMSG(4,0)="",SDWLMSG(0)=4
"RTN","SDWLFULU",67,0)
 D ^XMD
"RTN","SDWLFULU",68,0)
 Q
"RTN","SDWLFULU",69,0)
HD W:$D(IOF) @IOF W !,?80-$L("SD WAIT LIST file save/restore utility")\2,"EWL WAIT LIST save/restore utility"
"RTN","SDWLFULU",70,0)
 Q
"RTN","SDWLFULU",71,0)
RESTART ;
"RTN","SDWLFULU",72,0)
 S DIR(0)="Y",DIR("A")="Are you absolutely sure you want to restart this process"
"RTN","SDWLFULU",73,0)
 D ^DIR I X["^" Q
"RTN","SDWLFULU",74,0)
 I X["Y"!(X["y") K ^XTMP("SDWLFULSTAT") Q
"RTN","SDWLFULU",75,0)
 Q
"RTN","SDWLFULZ")
0^6^B6303269^n/a
"RTN","SDWLFULZ",1,0)
SDWLFULZ ;;IOFO BAY PINES/TEH - CLEAN-UP ENROLLE STATUS;06/12/2002 ; 20 Aug 20022:10 PM
"RTN","SDWLFULZ",2,0)
 ;;5.3;scheduling;**486**;AUG 13 1993;Build 37
"RTN","SDWLFULZ",3,0)
 ;
"RTN","SDWLFULZ",4,0)
 ;
"RTN","SDWLFULZ",5,0)
 ;
"RTN","SDWLFULZ",6,0)
 Q
"RTN","SDWLFULZ",7,0)
EN ;SD*5.3*486 POST INIT TO REMOVE PATCH COMPONENTS AND FILES.
"RTN","SDWLFULZ",8,0)
 ;ROUTINE REMOVAL
"RTN","SDWLFULZ",9,0)
 S DIR(0)="Y",DIR("B")="NO"
"RTN","SDWLFULZ",10,0)
 W !,"This Utility will 'DELETE' all COMPONENTS of SD WAIT CLEAN-UP ENROLLEE MENU.",!
"RTN","SDWLFULZ",11,0)
 S DIR("A")="Are you sure that you wish to continue"
"RTN","SDWLFULZ",12,0)
 D ^DIR I 'Y Q
"RTN","SDWLFULZ",13,0)
 N SDWLRTN,SDWLI,SDWLR,SDWLRX
"RTN","SDWLFULZ",14,0)
 S SDWLRTN="SDWLFUL,SDWLFUL1,SDWLFUL2,SDWLFULP,SDWLFULU"
"RTN","SDWLFULZ",15,0)
 F SDWLI=1:1:5 S SDWLR=$P(SDWLRTN,",",SDWLI) D
"RTN","SDWLFULZ",16,0)
 .W !,"Removing ROUTINE: ",SDWLR
"RTN","SDWLFULZ",17,0)
 .S SDWLRX="ZR  ZS @SDWLR" X SDWLRX
"RTN","SDWLFULZ",18,0)
 W !!,"Routine deletion completed."
"RTN","SDWLFULZ",19,0)
 ;REMOVE ^TMP("SDWLFUL") TMP("SDWLFUL1")
"RTN","SDWLFULZ",20,0)
 W !,"File Deletion"
"RTN","SDWLFULZ",21,0)
 K ^DISV(DUZ) S ^DISV(DUZ,"^DIC(")=409.39
"RTN","SDWLFULZ",22,0)
 D ^DIU
"RTN","SDWLFULZ",23,0)
 W !,"Deleting ^XTMP(""SDWLFUL"")" K ^XTMP("SDWLFUL")
"RTN","SDWLFULZ",24,0)
 W !,"Deleting ^XTMP(""SDWLFUL1"")" K ^XTMP("SDWLFUL1")
"RTN","SDWLFULZ",25,0)
 W !,"Deleting ^XTMP(""SDWLFULSTAT"")" K ^XTMP("SDWLFULSTAT")
"RTN","SDWLFULZ",26,0)
 W !!,"Deleting SD WAIT CLEAN-UP ENROLLEE MENU"
"RTN","SDWLFULZ",27,0)
 K DA,Y
"RTN","SDWLFULZ",28,0)
 S DA=$$FIND1^DIC(19,"","MX","SD WAIT CLEAN-UP ENROLLEE MENU","","","ERR")
"RTN","SDWLFULZ",29,0)
 I 'DA W !!,"Error unable to delete MENU." Q
"RTN","SDWLFULZ",30,0)
 S DIK="^DIC(19," D ^DIK
"RTN","SDWLFULZ",31,0)
 W !!,"SD WAIT CLEAN-UP ENROLLEE MENU deleted."
"RTN","SDWLFULZ",32,0)
 K DIC,DIR,DA,DIK
"RTN","SDWLFULZ",33,0)
 D MESS W !!,"Deletion completed."
"RTN","SDWLFULZ",34,0)
 Q
"RTN","SDWLFULZ",35,0)
MESS ;SENT MESSAGE TO FORUM
"RTN","SDWLFULZ",36,0)
 N XMSUB,XMY,XMTEXT,XMDUZ,SDWLMSG,SDWLI,XQSUB,Y
"RTN","SDWLFULZ",37,0)
 S XMY("DERDERIAN.JOHN@FORUM.VA.GOV")=""
"RTN","SDWLFULZ",38,0)
 S XMY("HOUTCHENS.THOMAS@FORUM.VA.GOV")=""
"RTN","SDWLFULZ",39,0)
 S XMY("BROWN.BONNIE@FORUM.VA.GOV")=""
"RTN","SDWLFULZ",40,0)
 S XMY("KROCHMAL.CHUCK@FORUM.VA.GOV")=""
"RTN","SDWLFULZ",41,0)
 S XMY("TAPPER.BRIAN@FORUM.VA.GOV")=""
"RTN","SDWLFULZ",42,0)
 S XMSUB="Patch components for SD*5.3*486 removed."
"RTN","SDWLFULZ",43,0)
 S XQSUB="Components for SD*5.3*486 removed."
"RTN","SDWLFULZ",44,0)
 S XMTEXT="SDWLMSG(",XMDUZ="POSTMASTER"
"RTN","SDWLFULZ",45,0)
 S SDWLIN=$$GET1^DIQ(4,DUZ(2)_",",.01,,)
"RTN","SDWLFULZ",46,0)
 S SDWLMSG(1,0)="EWL PATCH COMPONENTS FOR SD*5.3*486 HAVE BEEN REMOVED "_SDWLIN
"RTN","SDWLFULZ",47,0)
 S Y=DT D DD^%DT
"RTN","SDWLFULZ",48,0)
 S SDWLMSG(2,0)="At "_Y
"RTN","SDWLFULZ",49,0)
 S SDWLMSG(3,0)=" EWL Patch components for SD*5.3*486 have been removed."
"RTN","SDWLFULZ",50,0)
 S SDWLMSG(4,0)="",SDWLMSG(0)=4
"RTN","SDWLFULZ",51,0)
 D ^XMD K SDWLIN
"RTN","SDWLFULZ",52,0)
 Q
"SEC","^DIC",409.39,409.39,0,"AUDIT")
@
"SEC","^DIC",409.39,409.39,0,"DD")
@
"SEC","^DIC",409.39,409.39,0,"DEL")
@
"SEC","^DIC",409.39,409.39,0,"LAYGO")
@
"SEC","^DIC",409.39,409.39,0,"RD")
@
"SEC","^DIC",409.39,409.39,0,"WR")
@
"VER")
8.0^22.0
"^DD",409.39,409.39,0)
FIELD^^9^11
"^DD",409.39,409.39,0,"DDA")
N
"^DD",409.39,409.39,0,"DT")
3070810
"^DD",409.39,409.39,0,"IX","B",409.39,.01)

"^DD",409.39,409.39,0,"NM","EWL CLEAN-UP")

"^DD",409.39,409.39,.01,0)
PATIENT^RP2^DPT(^0;1^Q
"^DD",409.39,409.39,.01,1,0)
^.1
"^DD",409.39,409.39,.01,1,1,0)
409.39^B
"^DD",409.39,409.39,.01,1,1,1)
S ^SDWL(409.3,"B",$E(X,1,30),DA)=""
"^DD",409.39,409.39,.01,1,1,2)
K ^SDWL(409.39,"B",$E(X,1,30),DA)
"^DD",409.39,409.39,.01,3)

"^DD",409.39,409.39,.01,21,0)
^^1^1^3070810^
"^DD",409.39,409.39,.01,21,1,0)
Pointer to the PATIENT file (#2). 
"^DD",409.39,409.39,.01,"DT")
3070810
"^DD",409.39,409.39,1,0)
TREATING FACILITY CAL^S^N:NEW;E:ESTABLISHED;P:PRIOR;U:UNKNOWN;^0;2^Q
"^DD",409.39,409.39,1,21,0)
^^3^3^3070810^
"^DD",409.39,409.39,1,21,1,0)
This field stores the calculation computed for the ORGINATION DATE in the 
"^DD",409.39,409.39,1,21,2,0)
EWL PATIENT file (#409.3) and a valid date, (if found) in the TREATING 
"^DD",409.39,409.39,1,21,3,0)
FACILITY FILE (#391.91).
"^DD",409.39,409.39,1,"DT")
3070810
"^DD",409.39,409.39,2,0)
ENROLL API CAL^S^N:NEW;E:EST;P:PRIOR;U:UNKNOWN;^0;3^Q
"^DD",409.39,409.39,2,21,0)
^^2^2^3070810^
"^DD",409.39,409.39,2,21,1,0)
This field contains the result of the ENROLLMENT API ($$ENROLL^EASWTAPI) 
"^DD",409.39,409.39,2,21,2,0)
computation.
"^DD",409.39,409.39,2,"DT")
3070810
"^DD",409.39,409.39,3,0)
VSSC DATA CAL^S^N:NEW;E:EST;P:PRIOR;U:UNKNOWN;^0;4^Q
"^DD",409.39,409.39,3,21,0)
^^2^2^3070810^
"^DD",409.39,409.39,3,21,1,0)
This field contain the computation computed from the VSSC data import 
"^DD",409.39,409.39,3,21,2,0)
file.
"^DD",409.39,409.39,3,"DT")
3070810
"^DD",409.39,409.39,4,0)
CURRENT CAL EWL FILE^S^N:NEW;E:EST;P:PRIOR;U:UNKNOWN;^0;5^Q
"^DD",409.39,409.39,4,21,0)
^^2^2^3070810^
"^DD",409.39,409.39,4,21,1,0)
This field contains the extracted EWL ENROLLEE STATUS from the EWL 
"^DD",409.39,409.39,4,21,2,0)
PATIENT file (409.3).
"^DD",409.39,409.39,4,"DT")
3070810
"^DD",409.39,409.39,5,0)
TF DATE USED^D^^0;6^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",409.39,409.39,5,21,0)
^^2^2^3070810^
"^DD",409.39,409.39,5,21,1,0)
Date used from the TREATING FACILITY file (#391.91) to determine the 
"^DD",409.39,409.39,5,21,2,0)
TREATING FACILITY calculation.
"^DD",409.39,409.39,5,"DT")
3070810
"^DD",409.39,409.39,6,0)
ENROLLEE API DATE USED^D^^0;7^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",409.39,409.39,6,21,0)
^^1^1^3070810^
"^DD",409.39,409.39,6,21,1,0)
Date used from the ENROLLMENT API to determine the EWL ENROLLEE STATUS.
"^DD",409.39,409.39,6,"DT")
3070810
"^DD",409.39,409.39,7,0)
VSSC DATE USED^D^^0;8^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",409.39,409.39,7,21,0)
^^1^1^3070810^
"^DD",409.39,409.39,7,21,1,0)
Date used from the VSSC to determine the EWL ENROLLEE STATUS.
"^DD",409.39,409.39,7,"DT")
3070810
"^DD",409.39,409.39,8,0)
EWL ORIG DATE^D^^0;9^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",409.39,409.39,8,21,0)
^^1^1^3070810^
"^DD",409.39,409.39,8,21,1,0)
Date extracted from the EWL PATIENT FILE (409.3) ORIGINATION DATE.
"^DD",409.39,409.39,8,"DT")
3070810
"^DD",409.39,409.39,8.1,0)
NEW CAL STATUS^S^N:NEW;U:UNDETERMINED;P:PRIOR;E:ESTABLISHED;^0;11^Q
"^DD",409.39,409.39,8.1,21,0)
^^1^1^3070810^
"^DD",409.39,409.39,8.1,21,1,0)
This field contains the new calculated EWL ENROLLEE STATUS.
"^DD",409.39,409.39,8.1,"DT")
3070810
"^DD",409.39,409.39,9,0)
EWL IEN^NJ12,0^^0;10^K:+X'=X!(X>999999999999)!(X<0)!(X?.E1"."1N.N) X
"^DD",409.39,409.39,9,3)
Type a Number between 0 and 999999999999, 0 Decimal Digits
"^DD",409.39,409.39,9,21,0)
^^1^1^3070810^
"^DD",409.39,409.39,9,21,1,0)
This field contains the internal IEN of the EWL PATIENT file (409.3).
"^DD",409.39,409.39,9,"DT")
3070810
"^DIC",409.39,409.39,0)
EWL CLEAN-UP^409.39
"^DIC",409.39,409.39,0,"GL")
^SDWL(409.39,
"^DIC",409.39,"B","EWL CLEAN-UP",409.39)

"BLD",6524,6)
^416
**END**
**END**
