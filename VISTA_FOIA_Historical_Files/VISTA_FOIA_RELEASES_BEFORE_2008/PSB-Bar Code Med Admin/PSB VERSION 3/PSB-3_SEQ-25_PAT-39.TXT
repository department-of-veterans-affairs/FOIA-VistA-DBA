$TXT Created by WYNN,ERIC at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Tuesday, 02/06/07 at 23:31
=============================================================================
Run Date: MAY 21, 2007                     Designation: PSB*3*39
Package : PSB - BAR CODE MED ADMIN            Priority: Mandatory
Version : 3        SEQ #25                      Status: Released
                  Compliance Date: JUN 21, 2007
=============================================================================

Associated patches: (v)PSB*3*13    <<= must be installed BEFORE `PSB*3*39'

Subject: EDIT MED LOG ADDS DUPLICATE DOSES

Category: 
  - Routine

Description:
============

 The purpose of this patch is to correct a problem where the EDIT MED LOG
 option within BCMA creates duplicate entries when a fractional dose 
 less than 1 unit is ordered.
  
  
 ASSOCIATED REMEDY TICKET:
 =========================
 HD174337 - Duplicate/Triplicate displays after editing med log
  
  
 PARTICIPATING TEST SITES:
 =========================
 Boise VAMC
 Charleston VAMC
 Oklahoma VAMC
 Upstate New York HCS
  
  
 REMEDY TICKET OVERVIEW:
 =======================
   Problem: 
   --------
   When performing EDIT MED LOG within BCMA on an order with a fractional
   dose less than 1 unit, a duplicate entry is created upon the Save and
   Exit from the EDIT MED LOG screen.  It was found that when saving the
   DOSES ORDERED and DOSES GIVEN fields to the BCMA MEDICATION LOG File
   (#53.79), the leading zeroes are stripped from the entry and filed. For
   display purposes, leading zeroes are added to these field entries when
   sent to BCMA.  In order to determine if an edit was performed, the
   entries returned from BCMA, with the leading zeros, are compared to what
   is stored in the file, without leading zeroes, causing the application
   to add what is perceived as a new entry.
  
   Solution:
   ---------
   Routine PSBML3 has been modified to add the leading zeroes to the DOSES
   ORDERED and DOSES GIVEN fields when performing the comparison checks to
   determine if a new dose should be added to the BCMA Medication.
  
  
 INSTALLATION INSTRUCTIONS:
 =========================
 This patch can be loaded with users on the VistA system.  BCMA Client
 users should not be accessing the Client Software.  Other GUI applications
 are not affected when this patch is installed.
  
 Installation will take less than 1 minute.
  
 Suggested time to install: non-peak requirement hours. 
  
    1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
    2. From the Kernel Installation & Distribution System menu, select
       the Installation menu option.
  
    3. From this menu, you may select to use the following options
       (when prompted for INSTALL NAME, enter PSB*3.0*39)
  
      (a) Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch.  It will NOT
          backup any other changes such as DDs or templates.
      (b) Compare Transport Global to Current System - this option will
          allow you to view all changes that will be made when the patch is
          installed.  It compares all components of the patch (routines,
          DDs, templates, etc.).
      (c) Verify Checksums in Transport Global - this option will allow you
          to ensure the integrity of the routines that are in the transport
          global.
      (d) Print Transport Global - this option will allow you to view the
          components of the KIDS build.
  
    4. Use the Install Package(s) option and select the package PSB*3.0*39.
  
    5. When prompted "Want KIDS to INHIBIT LOGONs during the install?
       YES//" respond NO.
  
    6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//" respond NO.
  
  
 ROUTINE SUMMARY:
 ================
 The following is a list of the routines included in this patch.  
 The second line of each of these routines now looks like:
  
           ;;3.0;BAR CODE MED ADMIN;**[Patch List]**;Mar 2004
  
  
                          CHECK^XTSUMBLD results
   
 Routine name      Before Patch          After Patch         Patch List
 ============      ============          ===========         ==========
 PSBML3            20990239              21576380            3,13,39

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSBML3
    Before: B40505286  After: B43138938  **3,13,39**

=============================================================================
User Information:
Entered By  : WYNN,ERIC                     Date Entered  : FEB 01, 2007
Completed By: WERNER,GARY                   Date Completed: MAY 15, 2007
Released By : CAMPBELL,THOMAS               Date Released : MAY 21, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
