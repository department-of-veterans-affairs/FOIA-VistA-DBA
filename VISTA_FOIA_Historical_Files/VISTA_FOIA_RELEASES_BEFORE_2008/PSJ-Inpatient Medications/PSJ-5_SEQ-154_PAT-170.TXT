$TXT Created by IRWIN,BENJAMIN at CHEY20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Tuesday, 01/17/06 at 17:22
=============================================================================
Run Date: AUG 22, 2006                     Designation: PSJ*5*170
Package : PSJ - INPATIENT MEDICATIONS         Priority: Mandatory
Version : 5       SEQ #154                      Status: Released
                  Compliance Date: SEP 22, 2006
=============================================================================

Associated patches: (v)PSJ*5*90    <<= must be installed BEFORE `PSJ*5*170'
                    (v)PSJ*5*154   <<= must be installed BEFORE `PSJ*5*170'

Subject: IV ORDER WRONG DISPENSE DRUG

Category: 
  - Routine

Description:
============

 1.  CPRS IV Orders currently select the first of multiple IV Additives by
     IEN associated with the Pharmacy Orderable Item selected in CPRS by
     the Provider.  The software checks to determine if the IV Additive 
     is Inactive, but does not check the "USED IN IV FLUID ORDER ENTRY" 
     field to determine if the additive should be used.
  
     This patch will change the software to add a check of the "USED 
     IN IV FLUID ORDER ENTRY" field and exclude the additive from selection
     based on that field.
  
 *** The software included in this patch is designed to exclude an IV
     Additive from the selection process only if the "USED IN IV FLUID 
     ORDER ENTRY" field is set to "NO".
  
 *** If the "USED IN IV FLUID ORDER ENTRY" field is set to "YES" or blank, 
     then the IV Additive will be selected in IEN order.
  
 2.  This patch is also designed to correct a programming error in routine
     PSJPXRM1 that is to be used by CPRS to return Inpatient Medications
     order information.  This routine (API) returns a list of expanded 
     inpatient medications, and in this case, IV medications.  This API is 
     not yet in use in production and thus the user will not see any changes.
     Changes to the API were tested at the programmer prompt.
  
 3.  If the user enters a start date/time in the future and then enters 
     the number of doses at the stop date/time prompt, the software
     calculates the stop date/time from the current date/time instead of
     the entered start date/time.
  
  
 Associated Remedy Tickets:
 ==========================
  HD107792
     IV Quick Order Pulls in Wrong Dispense Drug.
  HD126399
     Bug in PSJPXRM1.
  HD127477
     Order Entry Problem with entry of dose number at Stop Date.
  
  
 Test Site(s)
 ===============
 BLACK HILLS HCS
 CHARLESTON, SC
 SALT LAKE CITY, UT
  
  
 Installation Instructions:
 ==========================
  
    This patch can be installed with users on the system. Installation will
    take less than 1 minute.
  
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
 2. From the Kernel Installation & Distribution System menu, select
    the Installation menu.
  
 3. From this menu, you may select to use the following options
    (when prompted for INSTALL NAME, enter PSJ*5.0*170):
  
      (a) Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch.  It will NOT
          backup any other changes such as DDs or templates.
      (b) Compare Transport Global to Current System - this option will
          allow you to view all changes that will be made when the patch is
      (c) Verify Checksums in Transport Global - this option will allow you
          to ensure the integrity of the routines that are in the transport
          global.
      (d) Print Transport Global - this option will allow you to view the
          components of the KIDS build.
  
 4. Use the Install Package(s) option and select the package PSJ*5.0*170.
  
 5. When prompted "Want KIDS to INHIBIT LOGONs during the install? YES//"
    respond NO.
  
 6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
    Protocols? YES//" respond NO.
  
  
 Example Installation:
 =====================
  
 Select INSTALL NAME:    PSJ*5.0*170     Loaded from Distribution  
 5/27/05@14:53:49
      => PSJ*5*170
  
 This Distribution was loaded on May 27, 2005@14:53:49 with header of 
    PSJ*5*170
    It consisted of the following Install(s):
     PSJ*5.0*170
 Checking Install for Package PSJ*5.0*170
  
 Install Questions for PSJ*5.0*170
  
 Want KIDS to INHIBIT LOGONs during the install? YES// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// NO
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME//   TCP
                                   
 PSJ*5.0*170                                   
 --------------------------------------------------------------------------
  
  Install Started for PSJ*5.0*170 : 
                May 27, 2005@14:54:12
  
 Build Distribution Date: May 27, 2005
  
  Installing Routines:
                May 27, 2005@14:54:13
  
  Updating Routine file...
  
  Updating KIDS files...
  
  PSJ*5.0*170 Installed. 
                May 27, 2005@14:54:13
  
  Install Message sent #35355
  
 --------------------------------------------------------------------------
           +------------------------------------------------------------+
   100%    |             25             50             75               |
 Complete  +------------------------------------------------------------+
  
 Install Completed
  
 Routine Summary:
 ================
 The second line now reads as follows:
  
      <TAB>;;5.0; INPATIENT MEDICATIONS ;**[patch list]**;16 DEC 97
  
 CHECK^XTSUMBLD results:
  
 Routine  Before Patch    After Patch            Patch List
 -------------------------------------------------------------------------
 PSGDL         7201303        7414154      16,50,64,58,111,170
 PSJHL4A      17626733       17989471          105,111,154,170
 PSJPXRM1     12342894       12754983                   90,170
 
 
 
 
 
 

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSGDL
    Before: B13209027  After: B13848268  **16,50,64,58,111,170**
Routine Name: PSJHL4A
    Before: B36548779  After: B37280433  **105,111,154,170**
Routine Name: PSJPXRM1
    Before: B31660556  After: B33327052  **90,170**

=============================================================================
User Information:
Entered By  : IRWIN,BENJAMIN                Date Entered  : NOV 29, 2005
Completed By: GOLDSMITH,JAMES H             Date Completed: AUG 22, 2006
Released By : TEAGUE,LYN                    Date Released : AUG 22, 2006
=============================================================================


Packman Mail Message:
=====================

$END TXT
